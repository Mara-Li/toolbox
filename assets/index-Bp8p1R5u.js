var Gd=Object.defineProperty;var Wd=(d,m,g)=>m in d?Gd(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g;var Qd=(d,m)=>()=>(m||d((m={exports:{}}).exports,m),m.exports);var vr=(d,m,g)=>Wd(d,typeof m!="symbol"?m+"":m,g);var qd=Qd((exports,module)=>{(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))w(D);new MutationObserver(D=>{for(const j of D)if(j.type==="childList")for(const q of j.addedNodes)q.tagName==="LINK"&&q.rel==="modulepreload"&&w(q)}).observe(document,{childList:!0,subtree:!0});function g(D){const j={};return D.integrity&&(j.integrity=D.integrity),D.referrerPolicy&&(j.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?j.credentials="include":D.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function w(D){if(D.ep)return;D.ep=!0;const j=g(D);fetch(D.href,j)}})();function getDefaultExportFromCjs$1(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var d=Symbol.for("react.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),q=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ne=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ae=Symbol.iterator;function se(Pe){return Pe===null||typeof Pe!="object"?null:(Pe=ae&&Pe[ae]||Pe["@@iterator"],typeof Pe=="function"?Pe:null)}var le={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ue=Object.assign,ce={};function de(Pe,He,it){this.props=Pe,this.context=He,this.refs=ce,this.updater=it||le}de.prototype.isReactComponent={},de.prototype.setState=function(Pe,He){if(typeof Pe!="object"&&typeof Pe!="function"&&Pe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Pe,He,"setState")},de.prototype.forceUpdate=function(Pe){this.updater.enqueueForceUpdate(this,Pe,"forceUpdate")};function he(){}he.prototype=de.prototype;function pe(Pe,He,it){this.props=Pe,this.context=He,this.refs=ce,this.updater=it||le}var me=pe.prototype=new he;me.constructor=pe,ue(me,de.prototype),me.isPureReactComponent=!0;var ge=Array.isArray,be=Object.prototype.hasOwnProperty,ke={current:null},ye={key:!0,ref:!0,__self:!0,__source:!0};function Se(Pe,He,it){var Je,Ge={},Qe=null,ut=null;if(He!=null)for(Je in He.ref!==void 0&&(ut=He.ref),He.key!==void 0&&(Qe=""+He.key),He)be.call(He,Je)&&!ye.hasOwnProperty(Je)&&(Ge[Je]=He[Je]);var dt=arguments.length-2;if(dt===1)Ge.children=it;else if(1<dt){for(var kt=Array(dt),Xe=0;Xe<dt;Xe++)kt[Xe]=arguments[Xe+2];Ge.children=kt}if(Pe&&Pe.defaultProps)for(Je in dt=Pe.defaultProps,dt)Ge[Je]===void 0&&(Ge[Je]=dt[Je]);return{$$typeof:d,type:Pe,key:Qe,ref:ut,props:Ge,_owner:ke.current}}function we(Pe,He){return{$$typeof:d,type:Pe.type,key:He,ref:Pe.ref,props:Pe.props,_owner:Pe._owner}}function Te(Pe){return typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===d}function _e(Pe){var He={"=":"=0",":":"=2"};return"$"+Pe.replace(/[=:]/g,function(it){return He[it]})}var Ie=/\/+/g;function Le(Pe,He){return typeof Pe=="object"&&Pe!==null&&Pe.key!=null?_e(""+Pe.key):He.toString(36)}function Be(Pe,He,it,Je,Ge){var Qe=typeof Pe;(Qe==="undefined"||Qe==="boolean")&&(Pe=null);var ut=!1;if(Pe===null)ut=!0;else switch(Qe){case"string":case"number":ut=!0;break;case"object":switch(Pe.$$typeof){case d:case m:ut=!0}}if(ut)return ut=Pe,Ge=Ge(ut),Pe=Je===""?"."+Le(ut,0):Je,ge(Ge)?(it="",Pe!=null&&(it=Pe.replace(Ie,"$&/")+"/"),Be(Ge,He,it,"",function(Xe){return Xe})):Ge!=null&&(Te(Ge)&&(Ge=we(Ge,it+(!Ge.key||ut&&ut.key===Ge.key?"":(""+Ge.key).replace(Ie,"$&/")+"/")+Pe)),He.push(Ge)),1;if(ut=0,Je=Je===""?".":Je+":",ge(Pe))for(var dt=0;dt<Pe.length;dt++){Qe=Pe[dt];var kt=Je+Le(Qe,dt);ut+=Be(Qe,He,it,kt,Ge)}else if(kt=se(Pe),typeof kt=="function")for(Pe=kt.call(Pe),dt=0;!(Qe=Pe.next()).done;)Qe=Qe.value,kt=Je+Le(Qe,dt++),ut+=Be(Qe,He,it,kt,Ge);else if(Qe==="object")throw He=String(Pe),Error("Objects are not valid as a React child (found: "+(He==="[object Object]"?"object with keys {"+Object.keys(Pe).join(", ")+"}":He)+"). If you meant to render a collection of children, use an array instead.");return ut}function Me(Pe,He,it){if(Pe==null)return Pe;var Je=[],Ge=0;return Be(Pe,Je,"","",function(Qe){return He.call(it,Qe,Ge++)}),Je}function Ne(Pe){if(Pe._status===-1){var He=Pe._result;He=He(),He.then(function(it){(Pe._status===0||Pe._status===-1)&&(Pe._status=1,Pe._result=it)},function(it){(Pe._status===0||Pe._status===-1)&&(Pe._status=2,Pe._result=it)}),Pe._status===-1&&(Pe._status=0,Pe._result=He)}if(Pe._status===1)return Pe._result.default;throw Pe._result}var Ye={current:null},Ue={transition:null},$e={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:Ue,ReactCurrentOwner:ke};function Ke(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:Me,forEach:function(Pe,He,it){Me(Pe,function(){He.apply(this,arguments)},it)},count:function(Pe){var He=0;return Me(Pe,function(){He++}),He},toArray:function(Pe){return Me(Pe,function(He){return He})||[]},only:function(Pe){if(!Te(Pe))throw Error("React.Children.only expected to receive a single React element child.");return Pe}},react_production_min.Component=de,react_production_min.Fragment=g,react_production_min.Profiler=D,react_production_min.PureComponent=pe,react_production_min.StrictMode=w,react_production_min.Suspense=re,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$e,react_production_min.act=Ke,react_production_min.cloneElement=function(Pe,He,it){if(Pe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Pe+".");var Je=ue({},Pe.props),Ge=Pe.key,Qe=Pe.ref,ut=Pe._owner;if(He!=null){if(He.ref!==void 0&&(Qe=He.ref,ut=ke.current),He.key!==void 0&&(Ge=""+He.key),Pe.type&&Pe.type.defaultProps)var dt=Pe.type.defaultProps;for(kt in He)be.call(He,kt)&&!ye.hasOwnProperty(kt)&&(Je[kt]=He[kt]===void 0&&dt!==void 0?dt[kt]:He[kt])}var kt=arguments.length-2;if(kt===1)Je.children=it;else if(1<kt){dt=Array(kt);for(var Xe=0;Xe<kt;Xe++)dt[Xe]=arguments[Xe+2];Je.children=dt}return{$$typeof:d,type:Pe.type,key:Ge,ref:Qe,props:Je,_owner:ut}},react_production_min.createContext=function(Pe){return Pe={$$typeof:q,_currentValue:Pe,_currentValue2:Pe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Pe.Provider={$$typeof:j,_context:Pe},Pe.Consumer=Pe},react_production_min.createElement=Se,react_production_min.createFactory=function(Pe){var He=Se.bind(null,Pe);return He.type=Pe,He},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(Pe){return{$$typeof:te,render:Pe}},react_production_min.isValidElement=Te,react_production_min.lazy=function(Pe){return{$$typeof:ie,_payload:{_status:-1,_result:Pe},_init:Ne}},react_production_min.memo=function(Pe,He){return{$$typeof:ne,type:Pe,compare:He===void 0?null:He}},react_production_min.startTransition=function(Pe){var He=Ue.transition;Ue.transition={};try{Pe()}finally{Ue.transition=He}},react_production_min.unstable_act=Ke,react_production_min.useCallback=function(Pe,He){return Ye.current.useCallback(Pe,He)},react_production_min.useContext=function(Pe){return Ye.current.useContext(Pe)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(Pe){return Ye.current.useDeferredValue(Pe)},react_production_min.useEffect=function(Pe,He){return Ye.current.useEffect(Pe,He)},react_production_min.useId=function(){return Ye.current.useId()},react_production_min.useImperativeHandle=function(Pe,He,it){return Ye.current.useImperativeHandle(Pe,He,it)},react_production_min.useInsertionEffect=function(Pe,He){return Ye.current.useInsertionEffect(Pe,He)},react_production_min.useLayoutEffect=function(Pe,He){return Ye.current.useLayoutEffect(Pe,He)},react_production_min.useMemo=function(Pe,He){return Ye.current.useMemo(Pe,He)},react_production_min.useReducer=function(Pe,He,it){return Ye.current.useReducer(Pe,He,it)},react_production_min.useRef=function(Pe){return Ye.current.useRef(Pe)},react_production_min.useState=function(Pe){return Ye.current.useState(Pe)},react_production_min.useSyncExternalStore=function(Pe,He,it){return Ye.current.useSyncExternalStore(Pe,He,it)},react_production_min.useTransition=function(){return Ye.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var d=requireReact(),m=Symbol.for("react.element"),g=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,D=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j={key:!0,ref:!0,__self:!0,__source:!0};function q(te,re,ne){var ie,ae={},se=null,le=null;ne!==void 0&&(se=""+ne),re.key!==void 0&&(se=""+re.key),re.ref!==void 0&&(le=re.ref);for(ie in re)w.call(re,ie)&&!j.hasOwnProperty(ie)&&(ae[ie]=re[ie]);if(te&&te.defaultProps)for(ie in re=te.defaultProps,re)ae[ie]===void 0&&(ae[ie]=re[ie]);return{$$typeof:m,type:te,key:se,ref:le,props:ae,_owner:D.current}}return reactJsxRuntime_production_min.Fragment=g,reactJsxRuntime_production_min.jsx=q,reactJsxRuntime_production_min.jsxs=q,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(d){function m(Ue,$e){var Ke=Ue.length;Ue.push($e);e:for(;0<Ke;){var Pe=Ke-1>>>1,He=Ue[Pe];if(0<D(He,$e))Ue[Pe]=$e,Ue[Ke]=He,Ke=Pe;else break e}}function g(Ue){return Ue.length===0?null:Ue[0]}function w(Ue){if(Ue.length===0)return null;var $e=Ue[0],Ke=Ue.pop();if(Ke!==$e){Ue[0]=Ke;e:for(var Pe=0,He=Ue.length,it=He>>>1;Pe<it;){var Je=2*(Pe+1)-1,Ge=Ue[Je],Qe=Je+1,ut=Ue[Qe];if(0>D(Ge,Ke))Qe<He&&0>D(ut,Ge)?(Ue[Pe]=ut,Ue[Qe]=Ke,Pe=Qe):(Ue[Pe]=Ge,Ue[Je]=Ke,Pe=Je);else if(Qe<He&&0>D(ut,Ke))Ue[Pe]=ut,Ue[Qe]=Ke,Pe=Qe;else break e}}return $e}function D(Ue,$e){var Ke=Ue.sortIndex-$e.sortIndex;return Ke!==0?Ke:Ue.id-$e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var j=performance;d.unstable_now=function(){return j.now()}}else{var q=Date,te=q.now();d.unstable_now=function(){return q.now()-te}}var re=[],ne=[],ie=1,ae=null,se=3,le=!1,ue=!1,ce=!1,de=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function me(Ue){for(var $e=g(ne);$e!==null;){if($e.callback===null)w(ne);else if($e.startTime<=Ue)w(ne),$e.sortIndex=$e.expirationTime,m(re,$e);else break;$e=g(ne)}}function ge(Ue){if(ce=!1,me(Ue),!ue)if(g(re)!==null)ue=!0,Ne(be);else{var $e=g(ne);$e!==null&&Ye(ge,$e.startTime-Ue)}}function be(Ue,$e){ue=!1,ce&&(ce=!1,he(Se),Se=-1),le=!0;var Ke=se;try{for(me($e),ae=g(re);ae!==null&&(!(ae.expirationTime>$e)||Ue&&!_e());){var Pe=ae.callback;if(typeof Pe=="function"){ae.callback=null,se=ae.priorityLevel;var He=Pe(ae.expirationTime<=$e);$e=d.unstable_now(),typeof He=="function"?ae.callback=He:ae===g(re)&&w(re),me($e)}else w(re);ae=g(re)}if(ae!==null)var it=!0;else{var Je=g(ne);Je!==null&&Ye(ge,Je.startTime-$e),it=!1}return it}finally{ae=null,se=Ke,le=!1}}var ke=!1,ye=null,Se=-1,we=5,Te=-1;function _e(){return!(d.unstable_now()-Te<we)}function Ie(){if(ye!==null){var Ue=d.unstable_now();Te=Ue;var $e=!0;try{$e=ye(!0,Ue)}finally{$e?Le():(ke=!1,ye=null)}}else ke=!1}var Le;if(typeof pe=="function")Le=function(){pe(Ie)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Me=Be.port2;Be.port1.onmessage=Ie,Le=function(){Me.postMessage(null)}}else Le=function(){de(Ie,0)};function Ne(Ue){ye=Ue,ke||(ke=!0,Le())}function Ye(Ue,$e){Se=de(function(){Ue(d.unstable_now())},$e)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(Ue){Ue.callback=null},d.unstable_continueExecution=function(){ue||le||(ue=!0,Ne(be))},d.unstable_forceFrameRate=function(Ue){0>Ue||125<Ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<Ue?Math.floor(1e3/Ue):5},d.unstable_getCurrentPriorityLevel=function(){return se},d.unstable_getFirstCallbackNode=function(){return g(re)},d.unstable_next=function(Ue){switch(se){case 1:case 2:case 3:var $e=3;break;default:$e=se}var Ke=se;se=$e;try{return Ue()}finally{se=Ke}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(Ue,$e){switch(Ue){case 1:case 2:case 3:case 4:case 5:break;default:Ue=3}var Ke=se;se=Ue;try{return $e()}finally{se=Ke}},d.unstable_scheduleCallback=function(Ue,$e,Ke){var Pe=d.unstable_now();switch(typeof Ke=="object"&&Ke!==null?(Ke=Ke.delay,Ke=typeof Ke=="number"&&0<Ke?Pe+Ke:Pe):Ke=Pe,Ue){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=Ke+He,Ue={id:ie++,callback:$e,priorityLevel:Ue,startTime:Ke,expirationTime:He,sortIndex:-1},Ke>Pe?(Ue.sortIndex=Ke,m(ne,Ue),g(re)===null&&Ue===g(ne)&&(ce?(he(Se),Se=-1):ce=!0,Ye(ge,Ke-Pe))):(Ue.sortIndex=He,m(re,Ue),ue||le||(ue=!0,Ne(be))),Ue},d.unstable_shouldYield=_e,d.unstable_wrapCallback=function(Ue){var $e=se;return function(){var Ke=se;se=$e;try{return Ue.apply(this,arguments)}finally{se=Ke}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var d=requireReact(),m=requireScheduler();function g(H){for(var ee="https://reactjs.org/docs/error-decoder.html?invariant="+H,oe=1;oe<arguments.length;oe++)ee+="&args[]="+encodeURIComponent(arguments[oe]);return"Minified React error #"+H+"; visit "+ee+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,D={};function j(H,ee){q(H,ee),q(H+"Capture",ee)}function q(H,ee){for(D[H]=ee,H=0;H<ee.length;H++)w.add(ee[H])}var te=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),re=Object.prototype.hasOwnProperty,ne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ie={},ae={};function se(H){return re.call(ae,H)?!0:re.call(ie,H)?!1:ne.test(H)?ae[H]=!0:(ie[H]=!0,!1)}function le(H,ee,oe,fe){if(oe!==null&&oe.type===0)return!1;switch(typeof ee){case"function":case"symbol":return!0;case"boolean":return fe?!1:oe!==null?!oe.acceptsBooleans:(H=H.toLowerCase().slice(0,5),H!=="data-"&&H!=="aria-");default:return!1}}function ue(H,ee,oe,fe){if(ee===null||typeof ee>"u"||le(H,ee,oe,fe))return!0;if(fe)return!1;if(oe!==null)switch(oe.type){case 3:return!ee;case 4:return ee===!1;case 5:return isNaN(ee);case 6:return isNaN(ee)||1>ee}return!1}function ce(H,ee,oe,fe,Ee,Re,Ve){this.acceptsBooleans=ee===2||ee===3||ee===4,this.attributeName=fe,this.attributeNamespace=Ee,this.mustUseProperty=oe,this.propertyName=H,this.type=ee,this.sanitizeURL=Re,this.removeEmptyString=Ve}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(H){de[H]=new ce(H,0,!1,H,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(H){var ee=H[0];de[ee]=new ce(ee,1,!1,H[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(H){de[H]=new ce(H,2,!1,H.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(H){de[H]=new ce(H,2,!1,H,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(H){de[H]=new ce(H,3,!1,H.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(H){de[H]=new ce(H,3,!0,H,null,!1,!1)}),["capture","download"].forEach(function(H){de[H]=new ce(H,4,!1,H,null,!1,!1)}),["cols","rows","size","span"].forEach(function(H){de[H]=new ce(H,6,!1,H,null,!1,!1)}),["rowSpan","start"].forEach(function(H){de[H]=new ce(H,5,!1,H.toLowerCase(),null,!1,!1)});var he=/[\-:]([a-z])/g;function pe(H){return H[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(H){var ee=H.replace(he,pe);de[ee]=new ce(ee,1,!1,H,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(H){var ee=H.replace(he,pe);de[ee]=new ce(ee,1,!1,H,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(H){var ee=H.replace(he,pe);de[ee]=new ce(ee,1,!1,H,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(H){de[H]=new ce(H,1,!1,H.toLowerCase(),null,!1,!1)}),de.xlinkHref=new ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(H){de[H]=new ce(H,1,!1,H.toLowerCase(),null,!0,!0)});function me(H,ee,oe,fe){var Ee=de.hasOwnProperty(ee)?de[ee]:null;(Ee!==null?Ee.type!==0:fe||!(2<ee.length)||ee[0]!=="o"&&ee[0]!=="O"||ee[1]!=="n"&&ee[1]!=="N")&&(ue(ee,oe,Ee,fe)&&(oe=null),fe||Ee===null?se(ee)&&(oe===null?H.removeAttribute(ee):H.setAttribute(ee,""+oe)):Ee.mustUseProperty?H[Ee.propertyName]=oe===null?Ee.type===3?!1:"":oe:(ee=Ee.attributeName,fe=Ee.attributeNamespace,oe===null?H.removeAttribute(ee):(Ee=Ee.type,oe=Ee===3||Ee===4&&oe===!0?"":""+oe,fe?H.setAttributeNS(fe,ee,oe):H.setAttribute(ee,oe))))}var ge=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),ke=Symbol.for("react.portal"),ye=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),Te=Symbol.for("react.provider"),_e=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),Ye=Symbol.for("react.offscreen"),Ue=Symbol.iterator;function $e(H){return H===null||typeof H!="object"?null:(H=Ue&&H[Ue]||H["@@iterator"],typeof H=="function"?H:null)}var Ke=Object.assign,Pe;function He(H){if(Pe===void 0)try{throw Error()}catch(oe){var ee=oe.stack.trim().match(/\n( *(at )?)/);Pe=ee&&ee[1]||""}return`
`+Pe+H}var it=!1;function Je(H,ee){if(!H||it)return"";it=!0;var oe=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ee)if(ee=function(){throw Error()},Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Jt){var fe=Jt}Reflect.construct(H,[],ee)}else{try{ee.call()}catch(Jt){fe=Jt}H.call(ee.prototype)}else{try{throw Error()}catch(Jt){fe=Jt}H()}}catch(Jt){if(Jt&&fe&&typeof Jt.stack=="string"){for(var Ee=Jt.stack.split(`
`),Re=fe.stack.split(`
`),Ve=Ee.length-1,Rt=Re.length-1;1<=Ve&&0<=Rt&&Ee[Ve]!==Re[Rt];)Rt--;for(;1<=Ve&&0<=Rt;Ve--,Rt--)if(Ee[Ve]!==Re[Rt]){if(Ve!==1||Rt!==1)do if(Ve--,Rt--,0>Rt||Ee[Ve]!==Re[Rt]){var Ft=`
`+Ee[Ve].replace(" at new "," at ");return H.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",H.displayName)),Ft}while(1<=Ve&&0<=Rt);break}}}finally{it=!1,Error.prepareStackTrace=oe}return(H=H?H.displayName||H.name:"")?He(H):""}function Ge(H){switch(H.tag){case 5:return He(H.type);case 16:return He("Lazy");case 13:return He("Suspense");case 19:return He("SuspenseList");case 0:case 2:case 15:return H=Je(H.type,!1),H;case 11:return H=Je(H.type.render,!1),H;case 1:return H=Je(H.type,!0),H;default:return""}}function Qe(H){if(H==null)return null;if(typeof H=="function")return H.displayName||H.name||null;if(typeof H=="string")return H;switch(H){case ye:return"Fragment";case ke:return"Portal";case we:return"Profiler";case Se:return"StrictMode";case Le:return"Suspense";case Be:return"SuspenseList"}if(typeof H=="object")switch(H.$$typeof){case _e:return(H.displayName||"Context")+".Consumer";case Te:return(H._context.displayName||"Context")+".Provider";case Ie:var ee=H.render;return H=H.displayName,H||(H=ee.displayName||ee.name||"",H=H!==""?"ForwardRef("+H+")":"ForwardRef"),H;case Me:return ee=H.displayName||null,ee!==null?ee:Qe(H.type)||"Memo";case Ne:ee=H._payload,H=H._init;try{return Qe(H(ee))}catch{}}return null}function ut(H){var ee=H.type;switch(H.tag){case 24:return"Cache";case 9:return(ee.displayName||"Context")+".Consumer";case 10:return(ee._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return H=ee.render,H=H.displayName||H.name||"",ee.displayName||(H!==""?"ForwardRef("+H+")":"ForwardRef");case 7:return"Fragment";case 5:return ee;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qe(ee);case 8:return ee===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ee=="function")return ee.displayName||ee.name||null;if(typeof ee=="string")return ee}return null}function dt(H){switch(typeof H){case"boolean":case"number":case"string":case"undefined":return H;case"object":return H;default:return""}}function kt(H){var ee=H.type;return(H=H.nodeName)&&H.toLowerCase()==="input"&&(ee==="checkbox"||ee==="radio")}function Xe(H){var ee=kt(H)?"checked":"value",oe=Object.getOwnPropertyDescriptor(H.constructor.prototype,ee),fe=""+H[ee];if(!H.hasOwnProperty(ee)&&typeof oe<"u"&&typeof oe.get=="function"&&typeof oe.set=="function"){var Ee=oe.get,Re=oe.set;return Object.defineProperty(H,ee,{configurable:!0,get:function(){return Ee.call(this)},set:function(Ve){fe=""+Ve,Re.call(this,Ve)}}),Object.defineProperty(H,ee,{enumerable:oe.enumerable}),{getValue:function(){return fe},setValue:function(Ve){fe=""+Ve},stopTracking:function(){H._valueTracker=null,delete H[ee]}}}}function xe(H){H._valueTracker||(H._valueTracker=Xe(H))}function qe(H){if(!H)return!1;var ee=H._valueTracker;if(!ee)return!0;var oe=ee.getValue(),fe="";return H&&(fe=kt(H)?H.checked?"true":"false":H.value),H=fe,H!==oe?(ee.setValue(H),!0):!1}function ze(H){if(H=H||(typeof document<"u"?document:void 0),typeof H>"u")return null;try{return H.activeElement||H.body}catch{return H.body}}function Oe(H,ee){var oe=ee.checked;return Ke({},ee,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:oe??H._wrapperState.initialChecked})}function Fe(H,ee){var oe=ee.defaultValue==null?"":ee.defaultValue,fe=ee.checked!=null?ee.checked:ee.defaultChecked;oe=dt(ee.value!=null?ee.value:oe),H._wrapperState={initialChecked:fe,initialValue:oe,controlled:ee.type==="checkbox"||ee.type==="radio"?ee.checked!=null:ee.value!=null}}function Ze(H,ee){ee=ee.checked,ee!=null&&me(H,"checked",ee,!1)}function et(H,ee){Ze(H,ee);var oe=dt(ee.value),fe=ee.type;if(oe!=null)fe==="number"?(oe===0&&H.value===""||H.value!=oe)&&(H.value=""+oe):H.value!==""+oe&&(H.value=""+oe);else if(fe==="submit"||fe==="reset"){H.removeAttribute("value");return}ee.hasOwnProperty("value")?Ae(H,ee.type,oe):ee.hasOwnProperty("defaultValue")&&Ae(H,ee.type,dt(ee.defaultValue)),ee.checked==null&&ee.defaultChecked!=null&&(H.defaultChecked=!!ee.defaultChecked)}function ve(H,ee,oe){if(ee.hasOwnProperty("value")||ee.hasOwnProperty("defaultValue")){var fe=ee.type;if(!(fe!=="submit"&&fe!=="reset"||ee.value!==void 0&&ee.value!==null))return;ee=""+H._wrapperState.initialValue,oe||ee===H.value||(H.value=ee),H.defaultValue=ee}oe=H.name,oe!==""&&(H.name=""),H.defaultChecked=!!H._wrapperState.initialChecked,oe!==""&&(H.name=oe)}function Ae(H,ee,oe){(ee!=="number"||ze(H.ownerDocument)!==H)&&(oe==null?H.defaultValue=""+H._wrapperState.initialValue:H.defaultValue!==""+oe&&(H.defaultValue=""+oe))}var De=Array.isArray;function je(H,ee,oe,fe){if(H=H.options,ee){ee={};for(var Ee=0;Ee<oe.length;Ee++)ee["$"+oe[Ee]]=!0;for(oe=0;oe<H.length;oe++)Ee=ee.hasOwnProperty("$"+H[oe].value),H[oe].selected!==Ee&&(H[oe].selected=Ee),Ee&&fe&&(H[oe].defaultSelected=!0)}else{for(oe=""+dt(oe),ee=null,Ee=0;Ee<H.length;Ee++){if(H[Ee].value===oe){H[Ee].selected=!0,fe&&(H[Ee].defaultSelected=!0);return}ee!==null||H[Ee].disabled||(ee=H[Ee])}ee!==null&&(ee.selected=!0)}}function St(H,ee){if(ee.dangerouslySetInnerHTML!=null)throw Error(g(91));return Ke({},ee,{value:void 0,defaultValue:void 0,children:""+H._wrapperState.initialValue})}function Bt(H,ee){var oe=ee.value;if(oe==null){if(oe=ee.children,ee=ee.defaultValue,oe!=null){if(ee!=null)throw Error(g(92));if(De(oe)){if(1<oe.length)throw Error(g(93));oe=oe[0]}ee=oe}ee==null&&(ee=""),oe=ee}H._wrapperState={initialValue:dt(oe)}}function tr(H,ee){var oe=dt(ee.value),fe=dt(ee.defaultValue);oe!=null&&(oe=""+oe,oe!==H.value&&(H.value=oe),ee.defaultValue==null&&H.defaultValue!==oe&&(H.defaultValue=oe)),fe!=null&&(H.defaultValue=""+fe)}function ir(H){var ee=H.textContent;ee===H._wrapperState.initialValue&&ee!==""&&ee!==null&&(H.value=ee)}function Yt(H){switch(H){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(H,ee){return H==null||H==="http://www.w3.org/1999/xhtml"?Yt(ee):H==="http://www.w3.org/2000/svg"&&ee==="foreignObject"?"http://www.w3.org/1999/xhtml":H}var rr,gr=function(H){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ee,oe,fe,Ee){MSApp.execUnsafeLocalFunction(function(){return H(ee,oe,fe,Ee)})}:H}(function(H,ee){if(H.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in H)H.innerHTML=ee;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+ee.valueOf().toString()+"</svg>",ee=rr.firstChild;H.firstChild;)H.removeChild(H.firstChild);for(;ee.firstChild;)H.appendChild(ee.firstChild)}});function dr(H,ee){if(ee){var oe=H.firstChild;if(oe&&oe===H.lastChild&&oe.nodeType===3){oe.nodeValue=ee;return}}H.textContent=ee}var hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kr=["Webkit","ms","Moz","O"];Object.keys(hr).forEach(function(H){kr.forEach(function(ee){ee=ee+H.charAt(0).toUpperCase()+H.substring(1),hr[ee]=hr[H]})});function fr(H,ee,oe){return ee==null||typeof ee=="boolean"||ee===""?"":oe||typeof ee!="number"||ee===0||hr.hasOwnProperty(H)&&hr[H]?(""+ee).trim():ee+"px"}function ot(H,ee){H=H.style;for(var oe in ee)if(ee.hasOwnProperty(oe)){var fe=oe.indexOf("--")===0,Ee=fr(oe,ee[oe],fe);oe==="float"&&(oe="cssFloat"),fe?H.setProperty(oe,Ee):H[oe]=Ee}}var nr=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tt(H,ee){if(ee){if(nr[H]&&(ee.children!=null||ee.dangerouslySetInnerHTML!=null))throw Error(g(137,H));if(ee.dangerouslySetInnerHTML!=null){if(ee.children!=null)throw Error(g(60));if(typeof ee.dangerouslySetInnerHTML!="object"||!("__html"in ee.dangerouslySetInnerHTML))throw Error(g(61))}if(ee.style!=null&&typeof ee.style!="object")throw Error(g(62))}}function jt(H,ee){if(H.indexOf("-")===-1)return typeof ee.is=="string";switch(H){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var We=null;function er(H){return H=H.target||H.srcElement||window,H.correspondingUseElement&&(H=H.correspondingUseElement),H.nodeType===3?H.parentNode:H}var br=null,Ce=null,Zt=null;function zt(H){if(H=ba(H)){if(typeof br!="function")throw Error(g(280));var ee=H.stateNode;ee&&(ee=uo(ee),br(H.stateNode,H.type,ee))}}function ft(H){Ce?Zt?Zt.push(H):Zt=[H]:Ce=H}function $t(){if(Ce){var H=Ce,ee=Zt;if(Zt=Ce=null,zt(H),ee)for(H=0;H<ee.length;H++)zt(ee[H])}}function Ut(H,ee){return H(ee)}function _r(){}var cr=!1;function pr(H,ee,oe){if(cr)return H(ee,oe);cr=!0;try{return Ut(H,ee,oe)}finally{cr=!1,(Ce!==null||Zt!==null)&&(_r(),$t())}}function Ir(H,ee){var oe=H.stateNode;if(oe===null)return null;var fe=uo(oe);if(fe===null)return null;oe=fe[ee];e:switch(ee){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(fe=!fe.disabled)||(H=H.type,fe=!(H==="button"||H==="input"||H==="select"||H==="textarea")),H=!fe;break e;default:H=!1}if(H)return null;if(oe&&typeof oe!="function")throw Error(g(231,ee,typeof oe));return oe}var Xr=!1;if(te)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{Xr=!1}function zr(H,ee,oe,fe,Ee,Re,Ve,Rt,Ft){var Jt=Array.prototype.slice.call(arguments,3);try{ee.apply(oe,Jt)}catch(sr){this.onError(sr)}}var Br=!1,Fr=null,xn=!1,Cn=null,Or={onError:function(H){Br=!0,Fr=H}};function rn(H,ee,oe,fe,Ee,Re,Ve,Rt,Ft){Br=!1,Fr=null,zr.apply(Or,arguments)}function _n(H,ee,oe,fe,Ee,Re,Ve,Rt,Ft){if(rn.apply(this,arguments),Br){if(Br){var Jt=Fr;Br=!1,Fr=null}else throw Error(g(198));xn||(xn=!0,Cn=Jt)}}function Zr(H){var ee=H,oe=H;if(H.alternate)for(;ee.return;)ee=ee.return;else{H=ee;do ee=H,ee.flags&4098&&(oe=ee.return),H=ee.return;while(H)}return ee.tag===3?oe:null}function Wr(H){if(H.tag===13){var ee=H.memoizedState;if(ee===null&&(H=H.alternate,H!==null&&(ee=H.memoizedState)),ee!==null)return ee.dehydrated}return null}function $r(H){if(Zr(H)!==H)throw Error(g(188))}function Kn(H){var ee=H.alternate;if(!ee){if(ee=Zr(H),ee===null)throw Error(g(188));return ee!==H?null:H}for(var oe=H,fe=ee;;){var Ee=oe.return;if(Ee===null)break;var Re=Ee.alternate;if(Re===null){if(fe=Ee.return,fe!==null){oe=fe;continue}break}if(Ee.child===Re.child){for(Re=Ee.child;Re;){if(Re===oe)return $r(Ee),H;if(Re===fe)return $r(Ee),ee;Re=Re.sibling}throw Error(g(188))}if(oe.return!==fe.return)oe=Ee,fe=Re;else{for(var Ve=!1,Rt=Ee.child;Rt;){if(Rt===oe){Ve=!0,oe=Ee,fe=Re;break}if(Rt===fe){Ve=!0,fe=Ee,oe=Re;break}Rt=Rt.sibling}if(!Ve){for(Rt=Re.child;Rt;){if(Rt===oe){Ve=!0,oe=Re,fe=Ee;break}if(Rt===fe){Ve=!0,fe=Re,oe=Ee;break}Rt=Rt.sibling}if(!Ve)throw Error(g(189))}}if(oe.alternate!==fe)throw Error(g(190))}if(oe.tag!==3)throw Error(g(188));return oe.stateNode.current===oe?H:ee}function Yi(H){return H=Kn(H),H!==null?Xi(H):null}function Xi(H){if(H.tag===5||H.tag===6)return H;for(H=H.child;H!==null;){var ee=Xi(H);if(ee!==null)return ee;H=H.sibling}return null}var Ji=m.unstable_scheduleCallback,ea=m.unstable_cancelCallback,Na=m.unstable_shouldYield,za=m.unstable_requestPaint,jr=m.unstable_now,af=m.unstable_getCurrentPriorityLevel,Yo=m.unstable_ImmediatePriority,Bl=m.unstable_UserBlockingPriority,Fa=m.unstable_NormalPriority,of=m.unstable_LowPriority,Nl=m.unstable_IdlePriority,Oa=null,On=null;function sf(H){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Oa,H,void 0,(H.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:cf,lf=Math.log,uf=Math.LN2;function cf(H){return H>>>=0,H===0?32:31-(lf(H)/uf|0)|0}var Da=64,La=4194304;function ta(H){switch(H&-H){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return H&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return H&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return H}}function $a(H,ee){var oe=H.pendingLanes;if(oe===0)return 0;var fe=0,Ee=H.suspendedLanes,Re=H.pingedLanes,Ve=oe&268435455;if(Ve!==0){var Rt=Ve&~Ee;Rt!==0?fe=ta(Rt):(Re&=Ve,Re!==0&&(fe=ta(Re)))}else Ve=oe&~Ee,Ve!==0?fe=ta(Ve):Re!==0&&(fe=ta(Re));if(fe===0)return 0;if(ee!==0&&ee!==fe&&!(ee&Ee)&&(Ee=fe&-fe,Re=ee&-ee,Ee>=Re||Ee===16&&(Re&4194240)!==0))return ee;if(fe&4&&(fe|=oe&16),ee=H.entangledLanes,ee!==0)for(H=H.entanglements,ee&=fe;0<ee;)oe=31-Mn(ee),Ee=1<<oe,fe|=H[oe],ee&=~Ee;return fe}function ff(H,ee){switch(H){case 1:case 2:case 4:return ee+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ee+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function df(H,ee){for(var oe=H.suspendedLanes,fe=H.pingedLanes,Ee=H.expirationTimes,Re=H.pendingLanes;0<Re;){var Ve=31-Mn(Re),Rt=1<<Ve,Ft=Ee[Ve];Ft===-1?(!(Rt&oe)||Rt&fe)&&(Ee[Ve]=ff(Rt,ee)):Ft<=ee&&(H.expiredLanes|=Rt),Re&=~Rt}}function Xo(H){return H=H.pendingLanes&-1073741825,H!==0?H:H&1073741824?1073741824:0}function zl(){var H=Da;return Da<<=1,!(Da&4194240)&&(Da=64),H}function Jo(H){for(var ee=[],oe=0;31>oe;oe++)ee.push(H);return ee}function ra(H,ee,oe){H.pendingLanes|=ee,ee!==536870912&&(H.suspendedLanes=0,H.pingedLanes=0),H=H.eventTimes,ee=31-Mn(ee),H[ee]=oe}function hf(H,ee){var oe=H.pendingLanes&~ee;H.pendingLanes=ee,H.suspendedLanes=0,H.pingedLanes=0,H.expiredLanes&=ee,H.mutableReadLanes&=ee,H.entangledLanes&=ee,ee=H.entanglements;var fe=H.eventTimes;for(H=H.expirationTimes;0<oe;){var Ee=31-Mn(oe),Re=1<<Ee;ee[Ee]=0,fe[Ee]=-1,H[Ee]=-1,oe&=~Re}}function es(H,ee){var oe=H.entangledLanes|=ee;for(H=H.entanglements;oe;){var fe=31-Mn(oe),Ee=1<<fe;Ee&ee|H[fe]&ee&&(H[fe]|=ee),oe&=~Ee}}var Rr=0;function Fl(H){return H&=-H,1<H?4<H?H&268435455?16:536870912:4:1}var Ol,ts,Dl,Ll,$l,rs=!1,ja=[],Yn=null,Xn=null,Jn=null,na=new Map,ia=new Map,ei=[],pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jl(H,ee){switch(H){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":na.delete(ee.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(ee.pointerId)}}function aa(H,ee,oe,fe,Ee,Re){return H===null||H.nativeEvent!==Re?(H={blockedOn:ee,domEventName:oe,eventSystemFlags:fe,nativeEvent:Re,targetContainers:[Ee]},ee!==null&&(ee=ba(ee),ee!==null&&ts(ee)),H):(H.eventSystemFlags|=fe,ee=H.targetContainers,Ee!==null&&ee.indexOf(Ee)===-1&&ee.push(Ee),H)}function mf(H,ee,oe,fe,Ee){switch(ee){case"focusin":return Yn=aa(Yn,H,ee,oe,fe,Ee),!0;case"dragenter":return Xn=aa(Xn,H,ee,oe,fe,Ee),!0;case"mouseover":return Jn=aa(Jn,H,ee,oe,fe,Ee),!0;case"pointerover":var Re=Ee.pointerId;return na.set(Re,aa(na.get(Re)||null,H,ee,oe,fe,Ee)),!0;case"gotpointercapture":return Re=Ee.pointerId,ia.set(Re,aa(ia.get(Re)||null,H,ee,oe,fe,Ee)),!0}return!1}function Ul(H){var ee=gi(H.target);if(ee!==null){var oe=Zr(ee);if(oe!==null){if(ee=oe.tag,ee===13){if(ee=Wr(oe),ee!==null){H.blockedOn=ee,$l(H.priority,function(){Dl(oe)});return}}else if(ee===3&&oe.stateNode.current.memoizedState.isDehydrated){H.blockedOn=oe.tag===3?oe.stateNode.containerInfo:null;return}}}H.blockedOn=null}function Ua(H){if(H.blockedOn!==null)return!1;for(var ee=H.targetContainers;0<ee.length;){var oe=is(H.domEventName,H.eventSystemFlags,ee[0],H.nativeEvent);if(oe===null){oe=H.nativeEvent;var fe=new oe.constructor(oe.type,oe);We=fe,oe.target.dispatchEvent(fe),We=null}else return ee=ba(oe),ee!==null&&ts(ee),H.blockedOn=oe,!1;ee.shift()}return!0}function Zl(H,ee,oe){Ua(H)&&oe.delete(ee)}function gf(){rs=!1,Yn!==null&&Ua(Yn)&&(Yn=null),Xn!==null&&Ua(Xn)&&(Xn=null),Jn!==null&&Ua(Jn)&&(Jn=null),na.forEach(Zl),ia.forEach(Zl)}function oa(H,ee){H.blockedOn===ee&&(H.blockedOn=null,rs||(rs=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,gf)))}function sa(H){function ee(Ee){return oa(Ee,H)}if(0<ja.length){oa(ja[0],H);for(var oe=1;oe<ja.length;oe++){var fe=ja[oe];fe.blockedOn===H&&(fe.blockedOn=null)}}for(Yn!==null&&oa(Yn,H),Xn!==null&&oa(Xn,H),Jn!==null&&oa(Jn,H),na.forEach(ee),ia.forEach(ee),oe=0;oe<ei.length;oe++)fe=ei[oe],fe.blockedOn===H&&(fe.blockedOn=null);for(;0<ei.length&&(oe=ei[0],oe.blockedOn===null);)Ul(oe),oe.blockedOn===null&&ei.shift()}var Ci=ge.ReactCurrentBatchConfig,Za=!0;function _f(H,ee,oe,fe){var Ee=Rr,Re=Ci.transition;Ci.transition=null;try{Rr=1,ns(H,ee,oe,fe)}finally{Rr=Ee,Ci.transition=Re}}function yf(H,ee,oe,fe){var Ee=Rr,Re=Ci.transition;Ci.transition=null;try{Rr=4,ns(H,ee,oe,fe)}finally{Rr=Ee,Ci.transition=Re}}function ns(H,ee,oe,fe){if(Za){var Ee=is(H,ee,oe,fe);if(Ee===null)ws(H,ee,fe,Ha,oe),jl(H,fe);else if(mf(Ee,H,ee,oe,fe))fe.stopPropagation();else if(jl(H,fe),ee&4&&-1<pf.indexOf(H)){for(;Ee!==null;){var Re=ba(Ee);if(Re!==null&&Ol(Re),Re=is(H,ee,oe,fe),Re===null&&ws(H,ee,fe,Ha,oe),Re===Ee)break;Ee=Re}Ee!==null&&fe.stopPropagation()}else ws(H,ee,fe,null,oe)}}var Ha=null;function is(H,ee,oe,fe){if(Ha=null,H=er(fe),H=gi(H),H!==null)if(ee=Zr(H),ee===null)H=null;else if(oe=ee.tag,oe===13){if(H=Wr(ee),H!==null)return H;H=null}else if(oe===3){if(ee.stateNode.current.memoizedState.isDehydrated)return ee.tag===3?ee.stateNode.containerInfo:null;H=null}else ee!==H&&(H=null);return Ha=H,null}function Hl(H){switch(H){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(af()){case Yo:return 1;case Bl:return 4;case Fa:case of:return 16;case Nl:return 536870912;default:return 16}default:return 16}}var ti=null,as=null,Ga=null;function Gl(){if(Ga)return Ga;var H,ee=as,oe=ee.length,fe,Ee="value"in ti?ti.value:ti.textContent,Re=Ee.length;for(H=0;H<oe&&ee[H]===Ee[H];H++);var Ve=oe-H;for(fe=1;fe<=Ve&&ee[oe-fe]===Ee[Re-fe];fe++);return Ga=Ee.slice(H,1<fe?1-fe:void 0)}function Wa(H){var ee=H.keyCode;return"charCode"in H?(H=H.charCode,H===0&&ee===13&&(H=13)):H=ee,H===10&&(H=13),32<=H||H===13?H:0}function Qa(){return!0}function Wl(){return!1}function yn(H){function ee(oe,fe,Ee,Re,Ve){this._reactName=oe,this._targetInst=Ee,this.type=fe,this.nativeEvent=Re,this.target=Ve,this.currentTarget=null;for(var Rt in H)H.hasOwnProperty(Rt)&&(oe=H[Rt],this[Rt]=oe?oe(Re):Re[Rt]);return this.isDefaultPrevented=(Re.defaultPrevented!=null?Re.defaultPrevented:Re.returnValue===!1)?Qa:Wl,this.isPropagationStopped=Wl,this}return Ke(ee.prototype,{preventDefault:function(){this.defaultPrevented=!0;var oe=this.nativeEvent;oe&&(oe.preventDefault?oe.preventDefault():typeof oe.returnValue!="unknown"&&(oe.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var oe=this.nativeEvent;oe&&(oe.stopPropagation?oe.stopPropagation():typeof oe.cancelBubble!="unknown"&&(oe.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),ee}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(H){return H.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=yn(Mi),la=Ke({},Mi,{view:0,detail:0}),bf=yn(la),ss,ls,ua,qa=Ke({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(H){return H.relatedTarget===void 0?H.fromElement===H.srcElement?H.toElement:H.fromElement:H.relatedTarget},movementX:function(H){return"movementX"in H?H.movementX:(H!==ua&&(ua&&H.type==="mousemove"?(ss=H.screenX-ua.screenX,ls=H.screenY-ua.screenY):ls=ss=0,ua=H),ss)},movementY:function(H){return"movementY"in H?H.movementY:ls}}),Ql=yn(qa),vf=Ke({},qa,{dataTransfer:0}),wf=yn(vf),xf=Ke({},la,{relatedTarget:0}),us=yn(xf),Ef=Ke({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),kf=yn(Ef),Sf=Ke({},Mi,{clipboardData:function(H){return"clipboardData"in H?H.clipboardData:window.clipboardData}}),Tf=yn(Sf),If=Ke({},Mi,{data:0}),ql=yn(If),Af={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pf(H){var ee=this.nativeEvent;return ee.getModifierState?ee.getModifierState(H):(H=Mf[H])?!!ee[H]:!1}function cs(){return Pf}var Rf=Ke({},la,{key:function(H){if(H.key){var ee=Af[H.key]||H.key;if(ee!=="Unidentified")return ee}return H.type==="keypress"?(H=Wa(H),H===13?"Enter":String.fromCharCode(H)):H.type==="keydown"||H.type==="keyup"?Cf[H.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(H){return H.type==="keypress"?Wa(H):0},keyCode:function(H){return H.type==="keydown"||H.type==="keyup"?H.keyCode:0},which:function(H){return H.type==="keypress"?Wa(H):H.type==="keydown"||H.type==="keyup"?H.keyCode:0}}),Bf=yn(Rf),Nf=Ke({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=yn(Nf),zf=Ke({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),Ff=yn(zf),Of=Ke({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Df=yn(Of),Lf=Ke({},qa,{deltaX:function(H){return"deltaX"in H?H.deltaX:"wheelDeltaX"in H?-H.wheelDeltaX:0},deltaY:function(H){return"deltaY"in H?H.deltaY:"wheelDeltaY"in H?-H.wheelDeltaY:"wheelDelta"in H?-H.wheelDelta:0},deltaZ:0,deltaMode:0}),$f=yn(Lf),jf=[9,13,27,32],fs=te&&"CompositionEvent"in window,ca=null;te&&"documentMode"in document&&(ca=document.documentMode);var Uf=te&&"TextEvent"in window&&!ca,Kl=te&&(!fs||ca&&8<ca&&11>=ca),Yl=" ",Xl=!1;function Jl(H,ee){switch(H){case"keyup":return jf.indexOf(ee.keyCode)!==-1;case"keydown":return ee.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eu(H){return H=H.detail,typeof H=="object"&&"data"in H?H.data:null}var Pi=!1;function Zf(H,ee){switch(H){case"compositionend":return eu(ee);case"keypress":return ee.which!==32?null:(Xl=!0,Yl);case"textInput":return H=ee.data,H===Yl&&Xl?null:H;default:return null}}function Hf(H,ee){if(Pi)return H==="compositionend"||!fs&&Jl(H,ee)?(H=Gl(),Ga=as=ti=null,Pi=!1,H):null;switch(H){case"paste":return null;case"keypress":if(!(ee.ctrlKey||ee.altKey||ee.metaKey)||ee.ctrlKey&&ee.altKey){if(ee.char&&1<ee.char.length)return ee.char;if(ee.which)return String.fromCharCode(ee.which)}return null;case"compositionend":return Kl&&ee.locale!=="ko"?null:ee.data;default:return null}}var Gf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(H){var ee=H&&H.nodeName&&H.nodeName.toLowerCase();return ee==="input"?!!Gf[H.type]:ee==="textarea"}function ru(H,ee,oe,fe){ft(fe),ee=Ja(ee,"onChange"),0<ee.length&&(oe=new os("onChange","change",null,oe,fe),H.push({event:oe,listeners:ee}))}var fa=null,da=null;function Wf(H){vu(H,0)}function Va(H){var ee=Fi(H);if(qe(ee))return H}function Qf(H,ee){if(H==="change")return ee}var nu=!1;if(te){var ds;if(te){var hs="oninput"in document;if(!hs){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),hs=typeof iu.oninput=="function"}ds=hs}else ds=!1;nu=ds&&(!document.documentMode||9<document.documentMode)}function au(){fa&&(fa.detachEvent("onpropertychange",ou),da=fa=null)}function ou(H){if(H.propertyName==="value"&&Va(da)){var ee=[];ru(ee,da,H,er(H)),pr(Wf,ee)}}function qf(H,ee,oe){H==="focusin"?(au(),fa=ee,da=oe,fa.attachEvent("onpropertychange",ou)):H==="focusout"&&au()}function Vf(H){if(H==="selectionchange"||H==="keyup"||H==="keydown")return Va(da)}function Kf(H,ee){if(H==="click")return Va(ee)}function Yf(H,ee){if(H==="input"||H==="change")return Va(ee)}function Xf(H,ee){return H===ee&&(H!==0||1/H===1/ee)||H!==H&&ee!==ee}var Pn=typeof Object.is=="function"?Object.is:Xf;function ha(H,ee){if(Pn(H,ee))return!0;if(typeof H!="object"||H===null||typeof ee!="object"||ee===null)return!1;var oe=Object.keys(H),fe=Object.keys(ee);if(oe.length!==fe.length)return!1;for(fe=0;fe<oe.length;fe++){var Ee=oe[fe];if(!re.call(ee,Ee)||!Pn(H[Ee],ee[Ee]))return!1}return!0}function su(H){for(;H&&H.firstChild;)H=H.firstChild;return H}function lu(H,ee){var oe=su(H);H=0;for(var fe;oe;){if(oe.nodeType===3){if(fe=H+oe.textContent.length,H<=ee&&fe>=ee)return{node:oe,offset:ee-H};H=fe}e:{for(;oe;){if(oe.nextSibling){oe=oe.nextSibling;break e}oe=oe.parentNode}oe=void 0}oe=su(oe)}}function uu(H,ee){return H&&ee?H===ee?!0:H&&H.nodeType===3?!1:ee&&ee.nodeType===3?uu(H,ee.parentNode):"contains"in H?H.contains(ee):H.compareDocumentPosition?!!(H.compareDocumentPosition(ee)&16):!1:!1}function cu(){for(var H=window,ee=ze();ee instanceof H.HTMLIFrameElement;){try{var oe=typeof ee.contentWindow.location.href=="string"}catch{oe=!1}if(oe)H=ee.contentWindow;else break;ee=ze(H.document)}return ee}function ps(H){var ee=H&&H.nodeName&&H.nodeName.toLowerCase();return ee&&(ee==="input"&&(H.type==="text"||H.type==="search"||H.type==="tel"||H.type==="url"||H.type==="password")||ee==="textarea"||H.contentEditable==="true")}function Jf(H){var ee=cu(),oe=H.focusedElem,fe=H.selectionRange;if(ee!==oe&&oe&&oe.ownerDocument&&uu(oe.ownerDocument.documentElement,oe)){if(fe!==null&&ps(oe)){if(ee=fe.start,H=fe.end,H===void 0&&(H=ee),"selectionStart"in oe)oe.selectionStart=ee,oe.selectionEnd=Math.min(H,oe.value.length);else if(H=(ee=oe.ownerDocument||document)&&ee.defaultView||window,H.getSelection){H=H.getSelection();var Ee=oe.textContent.length,Re=Math.min(fe.start,Ee);fe=fe.end===void 0?Re:Math.min(fe.end,Ee),!H.extend&&Re>fe&&(Ee=fe,fe=Re,Re=Ee),Ee=lu(oe,Re);var Ve=lu(oe,fe);Ee&&Ve&&(H.rangeCount!==1||H.anchorNode!==Ee.node||H.anchorOffset!==Ee.offset||H.focusNode!==Ve.node||H.focusOffset!==Ve.offset)&&(ee=ee.createRange(),ee.setStart(Ee.node,Ee.offset),H.removeAllRanges(),Re>fe?(H.addRange(ee),H.extend(Ve.node,Ve.offset)):(ee.setEnd(Ve.node,Ve.offset),H.addRange(ee)))}}for(ee=[],H=oe;H=H.parentNode;)H.nodeType===1&&ee.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<ee.length;oe++)H=ee[oe],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}var ed=te&&"documentMode"in document&&11>=document.documentMode,Ri=null,ms=null,pa=null,gs=!1;function fu(H,ee,oe){var fe=oe.window===oe?oe.document:oe.nodeType===9?oe:oe.ownerDocument;gs||Ri==null||Ri!==ze(fe)||(fe=Ri,"selectionStart"in fe&&ps(fe)?fe={start:fe.selectionStart,end:fe.selectionEnd}:(fe=(fe.ownerDocument&&fe.ownerDocument.defaultView||window).getSelection(),fe={anchorNode:fe.anchorNode,anchorOffset:fe.anchorOffset,focusNode:fe.focusNode,focusOffset:fe.focusOffset}),pa&&ha(pa,fe)||(pa=fe,fe=Ja(ms,"onSelect"),0<fe.length&&(ee=new os("onSelect","select",null,ee,oe),H.push({event:ee,listeners:fe}),ee.target=Ri)))}function Ka(H,ee){var oe={};return oe[H.toLowerCase()]=ee.toLowerCase(),oe["Webkit"+H]="webkit"+ee,oe["Moz"+H]="moz"+ee,oe}var Bi={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},_s={},du={};te&&(du=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Ya(H){if(_s[H])return _s[H];if(!Bi[H])return H;var ee=Bi[H],oe;for(oe in ee)if(ee.hasOwnProperty(oe)&&oe in du)return _s[H]=ee[oe];return H}var hu=Ya("animationend"),pu=Ya("animationiteration"),mu=Ya("animationstart"),gu=Ya("transitionend"),_u=new Map,yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(H,ee){_u.set(H,ee),j(ee,[H])}for(var ys=0;ys<yu.length;ys++){var bs=yu[ys],td=bs.toLowerCase(),rd=bs[0].toUpperCase()+bs.slice(1);ri(td,"on"+rd)}ri(hu,"onAnimationEnd"),ri(pu,"onAnimationIteration"),ri(mu,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(gu,"onTransitionEnd"),q("onMouseEnter",["mouseout","mouseover"]),q("onMouseLeave",["mouseout","mouseover"]),q("onPointerEnter",["pointerout","pointerover"]),q("onPointerLeave",["pointerout","pointerover"]),j("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),j("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),j("onBeforeInput",["compositionend","keypress","textInput","paste"]),j("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nd=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function bu(H,ee,oe){var fe=H.type||"unknown-event";H.currentTarget=oe,_n(fe,ee,void 0,H),H.currentTarget=null}function vu(H,ee){ee=(ee&4)!==0;for(var oe=0;oe<H.length;oe++){var fe=H[oe],Ee=fe.event;fe=fe.listeners;e:{var Re=void 0;if(ee)for(var Ve=fe.length-1;0<=Ve;Ve--){var Rt=fe[Ve],Ft=Rt.instance,Jt=Rt.currentTarget;if(Rt=Rt.listener,Ft!==Re&&Ee.isPropagationStopped())break e;bu(Ee,Rt,Jt),Re=Ft}else for(Ve=0;Ve<fe.length;Ve++){if(Rt=fe[Ve],Ft=Rt.instance,Jt=Rt.currentTarget,Rt=Rt.listener,Ft!==Re&&Ee.isPropagationStopped())break e;bu(Ee,Rt,Jt),Re=Ft}}}if(xn)throw H=Cn,xn=!1,Cn=null,H}function Dr(H,ee){var oe=ee[Is];oe===void 0&&(oe=ee[Is]=new Set);var fe=H+"__bubble";oe.has(fe)||(wu(ee,H,2,!1),oe.add(fe))}function vs(H,ee,oe){var fe=0;ee&&(fe|=4),wu(oe,H,fe,ee)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function ga(H){if(!H[Xa]){H[Xa]=!0,w.forEach(function(oe){oe!=="selectionchange"&&(nd.has(oe)||vs(oe,!1,H),vs(oe,!0,H))});var ee=H.nodeType===9?H:H.ownerDocument;ee===null||ee[Xa]||(ee[Xa]=!0,vs("selectionchange",!1,ee))}}function wu(H,ee,oe,fe){switch(Hl(ee)){case 1:var Ee=_f;break;case 4:Ee=yf;break;default:Ee=ns}oe=Ee.bind(null,ee,oe,H),Ee=void 0,!Xr||ee!=="touchstart"&&ee!=="touchmove"&&ee!=="wheel"||(Ee=!0),fe?Ee!==void 0?H.addEventListener(ee,oe,{capture:!0,passive:Ee}):H.addEventListener(ee,oe,!0):Ee!==void 0?H.addEventListener(ee,oe,{passive:Ee}):H.addEventListener(ee,oe,!1)}function ws(H,ee,oe,fe,Ee){var Re=fe;if(!(ee&1)&&!(ee&2)&&fe!==null)e:for(;;){if(fe===null)return;var Ve=fe.tag;if(Ve===3||Ve===4){var Rt=fe.stateNode.containerInfo;if(Rt===Ee||Rt.nodeType===8&&Rt.parentNode===Ee)break;if(Ve===4)for(Ve=fe.return;Ve!==null;){var Ft=Ve.tag;if((Ft===3||Ft===4)&&(Ft=Ve.stateNode.containerInfo,Ft===Ee||Ft.nodeType===8&&Ft.parentNode===Ee))return;Ve=Ve.return}for(;Rt!==null;){if(Ve=gi(Rt),Ve===null)return;if(Ft=Ve.tag,Ft===5||Ft===6){fe=Re=Ve;continue e}Rt=Rt.parentNode}}fe=fe.return}pr(function(){var Jt=Re,sr=er(oe),lr=[];e:{var or=_u.get(H);if(or!==void 0){var mr=os,wr=H;switch(H){case"keypress":if(Wa(oe)===0)break e;case"keydown":case"keyup":mr=Bf;break;case"focusin":wr="focus",mr=us;break;case"focusout":wr="blur",mr=us;break;case"beforeblur":case"afterblur":mr=us;break;case"click":if(oe.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mr=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mr=wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mr=Ff;break;case hu:case pu:case mu:mr=kf;break;case gu:mr=Df;break;case"scroll":mr=bf;break;case"wheel":mr=$f;break;case"copy":case"cut":case"paste":mr=Tf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mr=Vl}var xr=(ee&4)!==0,qr=!xr&&H==="scroll",Ht=xr?or!==null?or+"Capture":null:or;xr=[];for(var Dt=Jt,Kt;Dt!==null;){Kt=Dt;var ur=Kt.stateNode;if(Kt.tag===5&&ur!==null&&(Kt=ur,Ht!==null&&(ur=Ir(Dt,Ht),ur!=null&&xr.push(_a(Dt,ur,Kt)))),qr)break;Dt=Dt.return}0<xr.length&&(or=new mr(or,wr,null,oe,sr),lr.push({event:or,listeners:xr}))}}if(!(ee&7)){e:{if(or=H==="mouseover"||H==="pointerover",mr=H==="mouseout"||H==="pointerout",or&&oe!==We&&(wr=oe.relatedTarget||oe.fromElement)&&(gi(wr)||wr[Un]))break e;if((mr||or)&&(or=sr.window===sr?sr:(or=sr.ownerDocument)?or.defaultView||or.parentWindow:window,mr?(wr=oe.relatedTarget||oe.toElement,mr=Jt,wr=wr?gi(wr):null,wr!==null&&(qr=Zr(wr),wr!==qr||wr.tag!==5&&wr.tag!==6)&&(wr=null)):(mr=null,wr=Jt),mr!==wr)){if(xr=Ql,ur="onMouseLeave",Ht="onMouseEnter",Dt="mouse",(H==="pointerout"||H==="pointerover")&&(xr=Vl,ur="onPointerLeave",Ht="onPointerEnter",Dt="pointer"),qr=mr==null?or:Fi(mr),Kt=wr==null?or:Fi(wr),or=new xr(ur,Dt+"leave",mr,oe,sr),or.target=qr,or.relatedTarget=Kt,ur=null,gi(sr)===Jt&&(xr=new xr(Ht,Dt+"enter",wr,oe,sr),xr.target=Kt,xr.relatedTarget=qr,ur=xr),qr=ur,mr&&wr)t:{for(xr=mr,Ht=wr,Dt=0,Kt=xr;Kt;Kt=Ni(Kt))Dt++;for(Kt=0,ur=Ht;ur;ur=Ni(ur))Kt++;for(;0<Dt-Kt;)xr=Ni(xr),Dt--;for(;0<Kt-Dt;)Ht=Ni(Ht),Kt--;for(;Dt--;){if(xr===Ht||Ht!==null&&xr===Ht.alternate)break t;xr=Ni(xr),Ht=Ni(Ht)}xr=null}else xr=null;mr!==null&&xu(lr,or,mr,xr,!1),wr!==null&&qr!==null&&xu(lr,qr,wr,xr,!0)}}e:{if(or=Jt?Fi(Jt):window,mr=or.nodeName&&or.nodeName.toLowerCase(),mr==="select"||mr==="input"&&or.type==="file")var Er=Qf;else if(tu(or))if(nu)Er=Yf;else{Er=Vf;var Sr=qf}else(mr=or.nodeName)&&mr.toLowerCase()==="input"&&(or.type==="checkbox"||or.type==="radio")&&(Er=Kf);if(Er&&(Er=Er(H,Jt))){ru(lr,Er,oe,sr);break e}Sr&&Sr(H,or,Jt),H==="focusout"&&(Sr=or._wrapperState)&&Sr.controlled&&or.type==="number"&&Ae(or,"number",or.value)}switch(Sr=Jt?Fi(Jt):window,H){case"focusin":(tu(Sr)||Sr.contentEditable==="true")&&(Ri=Sr,ms=Jt,pa=null);break;case"focusout":pa=ms=Ri=null;break;case"mousedown":gs=!0;break;case"contextmenu":case"mouseup":case"dragend":gs=!1,fu(lr,oe,sr);break;case"selectionchange":if(ed)break;case"keydown":case"keyup":fu(lr,oe,sr)}var Tr;if(fs)e:{switch(H){case"compositionstart":var Ar="onCompositionStart";break e;case"compositionend":Ar="onCompositionEnd";break e;case"compositionupdate":Ar="onCompositionUpdate";break e}Ar=void 0}else Pi?Jl(H,oe)&&(Ar="onCompositionEnd"):H==="keydown"&&oe.keyCode===229&&(Ar="onCompositionStart");Ar&&(Kl&&oe.locale!=="ko"&&(Pi||Ar!=="onCompositionStart"?Ar==="onCompositionEnd"&&Pi&&(Tr=Gl()):(ti=sr,as="value"in ti?ti.value:ti.textContent,Pi=!0)),Sr=Ja(Jt,Ar),0<Sr.length&&(Ar=new ql(Ar,H,null,oe,sr),lr.push({event:Ar,listeners:Sr}),Tr?Ar.data=Tr:(Tr=eu(oe),Tr!==null&&(Ar.data=Tr)))),(Tr=Uf?Zf(H,oe):Hf(H,oe))&&(Jt=Ja(Jt,"onBeforeInput"),0<Jt.length&&(sr=new ql("onBeforeInput","beforeinput",null,oe,sr),lr.push({event:sr,listeners:Jt}),sr.data=Tr))}vu(lr,ee)})}function _a(H,ee,oe){return{instance:H,listener:ee,currentTarget:oe}}function Ja(H,ee){for(var oe=ee+"Capture",fe=[];H!==null;){var Ee=H,Re=Ee.stateNode;Ee.tag===5&&Re!==null&&(Ee=Re,Re=Ir(H,oe),Re!=null&&fe.unshift(_a(H,Re,Ee)),Re=Ir(H,ee),Re!=null&&fe.push(_a(H,Re,Ee))),H=H.return}return fe}function Ni(H){if(H===null)return null;do H=H.return;while(H&&H.tag!==5);return H||null}function xu(H,ee,oe,fe,Ee){for(var Re=ee._reactName,Ve=[];oe!==null&&oe!==fe;){var Rt=oe,Ft=Rt.alternate,Jt=Rt.stateNode;if(Ft!==null&&Ft===fe)break;Rt.tag===5&&Jt!==null&&(Rt=Jt,Ee?(Ft=Ir(oe,Re),Ft!=null&&Ve.unshift(_a(oe,Ft,Rt))):Ee||(Ft=Ir(oe,Re),Ft!=null&&Ve.push(_a(oe,Ft,Rt)))),oe=oe.return}Ve.length!==0&&H.push({event:ee,listeners:Ve})}var id=/\r\n?/g,ad=/\u0000|\uFFFD/g;function Eu(H){return(typeof H=="string"?H:""+H).replace(id,`
`).replace(ad,"")}function eo(H,ee,oe){if(ee=Eu(ee),Eu(H)!==ee&&oe)throw Error(g(425))}function oo(){}var xs=null,Es=null;function ks(H,ee){return H==="textarea"||H==="noscript"||typeof ee.children=="string"||typeof ee.children=="number"||typeof ee.dangerouslySetInnerHTML=="object"&&ee.dangerouslySetInnerHTML!==null&&ee.dangerouslySetInnerHTML.__html!=null}var Ss=typeof setTimeout=="function"?setTimeout:void 0,od=typeof clearTimeout=="function"?clearTimeout:void 0,ku=typeof Promise=="function"?Promise:void 0,sd=typeof queueMicrotask=="function"?queueMicrotask:typeof ku<"u"?function(H){return ku.resolve(null).then(H).catch(ld)}:Ss;function ld(H){setTimeout(function(){throw H})}function Ts(H,ee){var oe=ee,fe=0;do{var Ee=oe.nextSibling;if(H.removeChild(oe),Ee&&Ee.nodeType===8)if(oe=Ee.data,oe==="/$"){if(fe===0){H.removeChild(Ee),sa(ee);return}fe--}else oe!=="$"&&oe!=="$?"&&oe!=="$!"||fe++;oe=Ee}while(oe);sa(ee)}function ni(H){for(;H!=null;H=H.nextSibling){var ee=H.nodeType;if(ee===1||ee===3)break;if(ee===8){if(ee=H.data,ee==="$"||ee==="$!"||ee==="$?")break;if(ee==="/$")return null}}return H}function Su(H){H=H.previousSibling;for(var ee=0;H;){if(H.nodeType===8){var oe=H.data;if(oe==="$"||oe==="$!"||oe==="$?"){if(ee===0)return H;ee--}else oe==="/$"&&ee++}H=H.previousSibling}return null}var zi=Math.random().toString(36).slice(2),Dn="__reactFiber$"+zi,ya="__reactProps$"+zi,Un="__reactContainer$"+zi,Is="__reactEvents$"+zi,ud="__reactListeners$"+zi,cd="__reactHandles$"+zi;function gi(H){var ee=H[Dn];if(ee)return ee;for(var oe=H.parentNode;oe;){if(ee=oe[Un]||oe[Dn]){if(oe=ee.alternate,ee.child!==null||oe!==null&&oe.child!==null)for(H=Su(H);H!==null;){if(oe=H[Dn])return oe;H=Su(H)}return ee}H=oe,oe=H.parentNode}return null}function ba(H){return H=H[Dn]||H[Un],!H||H.tag!==5&&H.tag!==6&&H.tag!==13&&H.tag!==3?null:H}function Fi(H){if(H.tag===5||H.tag===6)return H.stateNode;throw Error(g(33))}function uo(H){return H[ya]||null}var As=[],Oi=-1;function ii(H){return{current:H}}function Lr(H){0>Oi||(H.current=As[Oi],As[Oi]=null,Oi--)}function Nr(H,ee){Oi++,As[Oi]=H.current,H.current=ee}var ai={},on=ii(ai),dn=ii(!1),_i=ai;function Di(H,ee){var oe=H.type.contextTypes;if(!oe)return ai;var fe=H.stateNode;if(fe&&fe.__reactInternalMemoizedUnmaskedChildContext===ee)return fe.__reactInternalMemoizedMaskedChildContext;var Ee={},Re;for(Re in oe)Ee[Re]=ee[Re];return fe&&(H=H.stateNode,H.__reactInternalMemoizedUnmaskedChildContext=ee,H.__reactInternalMemoizedMaskedChildContext=Ee),Ee}function hn(H){return H=H.childContextTypes,H!=null}function co(){Lr(dn),Lr(on)}function Tu(H,ee,oe){if(on.current!==ai)throw Error(g(168));Nr(on,ee),Nr(dn,oe)}function Iu(H,ee,oe){var fe=H.stateNode;if(ee=ee.childContextTypes,typeof fe.getChildContext!="function")return oe;fe=fe.getChildContext();for(var Ee in fe)if(!(Ee in ee))throw Error(g(108,ut(H)||"Unknown",Ee));return Ke({},oe,fe)}function fo(H){return H=(H=H.stateNode)&&H.__reactInternalMemoizedMergedChildContext||ai,_i=on.current,Nr(on,H),Nr(dn,dn.current),!0}function Au(H,ee,oe){var fe=H.stateNode;if(!fe)throw Error(g(169));oe?(H=Iu(H,ee,_i),fe.__reactInternalMemoizedMergedChildContext=H,Lr(dn),Lr(on),Nr(on,H)):Lr(dn),Nr(dn,oe)}var Zn=null,ho=!1,Cs=!1;function Cu(H){Zn===null?Zn=[H]:Zn.push(H)}function fd(H){ho=!0,Cu(H)}function oi(){if(!Cs&&Zn!==null){Cs=!0;var H=0,ee=Rr;try{var oe=Zn;for(Rr=1;H<oe.length;H++){var fe=oe[H];do fe=fe(!0);while(fe!==null)}Zn=null,ho=!1}catch(Ee){throw Zn!==null&&(Zn=Zn.slice(H+1)),Ji(Yo,oi),Ee}finally{Rr=ee,Cs=!1}}return null}var Li=[],$i=0,po=null,mo=0,En=[],kn=0,yi=null,Hn=1,Gn="";function bi(H,ee){Li[$i++]=mo,Li[$i++]=po,po=H,mo=ee}function Mu(H,ee,oe){En[kn++]=Hn,En[kn++]=Gn,En[kn++]=yi,yi=H;var fe=Hn;H=Gn;var Ee=32-Mn(fe)-1;fe&=~(1<<Ee),oe+=1;var Re=32-Mn(ee)+Ee;if(30<Re){var Ve=Ee-Ee%5;Re=(fe&(1<<Ve)-1).toString(32),fe>>=Ve,Ee-=Ve,Hn=1<<32-Mn(ee)+Ee|oe<<Ee|fe,Gn=Re+H}else Hn=1<<Re|oe<<Ee|fe,Gn=H}function Ms(H){H.return!==null&&(bi(H,1),Mu(H,1,0))}function Ps(H){for(;H===po;)po=Li[--$i],Li[$i]=null,mo=Li[--$i],Li[$i]=null;for(;H===yi;)yi=En[--kn],En[kn]=null,Gn=En[--kn],En[kn]=null,Hn=En[--kn],En[kn]=null}var bn=null,vn=null,Ur=!1,Rn=null;function Pu(H,ee){var oe=An(5,null,null,0);oe.elementType="DELETED",oe.stateNode=ee,oe.return=H,ee=H.deletions,ee===null?(H.deletions=[oe],H.flags|=16):ee.push(oe)}function Ru(H,ee){switch(H.tag){case 5:var oe=H.type;return ee=ee.nodeType!==1||oe.toLowerCase()!==ee.nodeName.toLowerCase()?null:ee,ee!==null?(H.stateNode=ee,bn=H,vn=ni(ee.firstChild),!0):!1;case 6:return ee=H.pendingProps===""||ee.nodeType!==3?null:ee,ee!==null?(H.stateNode=ee,bn=H,vn=null,!0):!1;case 13:return ee=ee.nodeType!==8?null:ee,ee!==null?(oe=yi!==null?{id:Hn,overflow:Gn}:null,H.memoizedState={dehydrated:ee,treeContext:oe,retryLane:1073741824},oe=An(18,null,null,0),oe.stateNode=ee,oe.return=H,H.child=oe,bn=H,vn=null,!0):!1;default:return!1}}function Rs(H){return(H.mode&1)!==0&&(H.flags&128)===0}function Bs(H){if(Ur){var ee=vn;if(ee){var oe=ee;if(!Ru(H,ee)){if(Rs(H))throw Error(g(418));ee=ni(oe.nextSibling);var fe=bn;ee&&Ru(H,ee)?Pu(fe,oe):(H.flags=H.flags&-4097|2,Ur=!1,bn=H)}}else{if(Rs(H))throw Error(g(418));H.flags=H.flags&-4097|2,Ur=!1,bn=H}}}function Bu(H){for(H=H.return;H!==null&&H.tag!==5&&H.tag!==3&&H.tag!==13;)H=H.return;bn=H}function go(H){if(H!==bn)return!1;if(!Ur)return Bu(H),Ur=!0,!1;var ee;if((ee=H.tag!==3)&&!(ee=H.tag!==5)&&(ee=H.type,ee=ee!=="head"&&ee!=="body"&&!ks(H.type,H.memoizedProps)),ee&&(ee=vn)){if(Rs(H))throw Nu(),Error(g(418));for(;ee;)Pu(H,ee),ee=ni(ee.nextSibling)}if(Bu(H),H.tag===13){if(H=H.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(g(317));e:{for(H=H.nextSibling,ee=0;H;){if(H.nodeType===8){var oe=H.data;if(oe==="/$"){if(ee===0){vn=ni(H.nextSibling);break e}ee--}else oe!=="$"&&oe!=="$!"&&oe!=="$?"||ee++}H=H.nextSibling}vn=null}}else vn=bn?ni(H.stateNode.nextSibling):null;return!0}function Nu(){for(var H=vn;H;)H=ni(H.nextSibling)}function ji(){vn=bn=null,Ur=!1}function Ns(H){Rn===null?Rn=[H]:Rn.push(H)}var dd=ge.ReactCurrentBatchConfig;function va(H,ee,oe){if(H=oe.ref,H!==null&&typeof H!="function"&&typeof H!="object"){if(oe._owner){if(oe=oe._owner,oe){if(oe.tag!==1)throw Error(g(309));var fe=oe.stateNode}if(!fe)throw Error(g(147,H));var Ee=fe,Re=""+H;return ee!==null&&ee.ref!==null&&typeof ee.ref=="function"&&ee.ref._stringRef===Re?ee.ref:(ee=function(Ve){var Rt=Ee.refs;Ve===null?delete Rt[Re]:Rt[Re]=Ve},ee._stringRef=Re,ee)}if(typeof H!="string")throw Error(g(284));if(!oe._owner)throw Error(g(290,H))}return H}function yo(H,ee){throw H=Object.prototype.toString.call(ee),Error(g(31,H==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":H))}function zu(H){var ee=H._init;return ee(H._payload)}function Fu(H){function ee(Ht,Dt){if(H){var Kt=Ht.deletions;Kt===null?(Ht.deletions=[Dt],Ht.flags|=16):Kt.push(Dt)}}function oe(Ht,Dt){if(!H)return null;for(;Dt!==null;)ee(Ht,Dt),Dt=Dt.sibling;return null}function fe(Ht,Dt){for(Ht=new Map;Dt!==null;)Dt.key!==null?Ht.set(Dt.key,Dt):Ht.set(Dt.index,Dt),Dt=Dt.sibling;return Ht}function Ee(Ht,Dt){return Ht=pi(Ht,Dt),Ht.index=0,Ht.sibling=null,Ht}function Re(Ht,Dt,Kt){return Ht.index=Kt,H?(Kt=Ht.alternate,Kt!==null?(Kt=Kt.index,Kt<Dt?(Ht.flags|=2,Dt):Kt):(Ht.flags|=2,Dt)):(Ht.flags|=1048576,Dt)}function Ve(Ht){return H&&Ht.alternate===null&&(Ht.flags|=2),Ht}function Rt(Ht,Dt,Kt,ur){return Dt===null||Dt.tag!==6?(Dt=Sl(Kt,Ht.mode,ur),Dt.return=Ht,Dt):(Dt=Ee(Dt,Kt),Dt.return=Ht,Dt)}function Ft(Ht,Dt,Kt,ur){var Er=Kt.type;return Er===ye?sr(Ht,Dt,Kt.props.children,ur,Kt.key):Dt!==null&&(Dt.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===Ne&&zu(Er)===Dt.type)?(ur=Ee(Dt,Kt.props),ur.ref=va(Ht,Dt,Kt),ur.return=Ht,ur):(ur=Uo(Kt.type,Kt.key,Kt.props,null,Ht.mode,ur),ur.ref=va(Ht,Dt,Kt),ur.return=Ht,ur)}function Jt(Ht,Dt,Kt,ur){return Dt===null||Dt.tag!==4||Dt.stateNode.containerInfo!==Kt.containerInfo||Dt.stateNode.implementation!==Kt.implementation?(Dt=Tl(Kt,Ht.mode,ur),Dt.return=Ht,Dt):(Dt=Ee(Dt,Kt.children||[]),Dt.return=Ht,Dt)}function sr(Ht,Dt,Kt,ur,Er){return Dt===null||Dt.tag!==7?(Dt=Ii(Kt,Ht.mode,ur,Er),Dt.return=Ht,Dt):(Dt=Ee(Dt,Kt),Dt.return=Ht,Dt)}function lr(Ht,Dt,Kt){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return Dt=Sl(""+Dt,Ht.mode,Kt),Dt.return=Ht,Dt;if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case be:return Kt=Uo(Dt.type,Dt.key,Dt.props,null,Ht.mode,Kt),Kt.ref=va(Ht,null,Dt),Kt.return=Ht,Kt;case ke:return Dt=Tl(Dt,Ht.mode,Kt),Dt.return=Ht,Dt;case Ne:var ur=Dt._init;return lr(Ht,ur(Dt._payload),Kt)}if(De(Dt)||$e(Dt))return Dt=Ii(Dt,Ht.mode,Kt,null),Dt.return=Ht,Dt;yo(Ht,Dt)}return null}function or(Ht,Dt,Kt,ur){var Er=Dt!==null?Dt.key:null;if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number")return Er!==null?null:Rt(Ht,Dt,""+Kt,ur);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case be:return Kt.key===Er?Ft(Ht,Dt,Kt,ur):null;case ke:return Kt.key===Er?Jt(Ht,Dt,Kt,ur):null;case Ne:return Er=Kt._init,or(Ht,Dt,Er(Kt._payload),ur)}if(De(Kt)||$e(Kt))return Er!==null?null:sr(Ht,Dt,Kt,ur,null);yo(Ht,Kt)}return null}function mr(Ht,Dt,Kt,ur,Er){if(typeof ur=="string"&&ur!==""||typeof ur=="number")return Ht=Ht.get(Kt)||null,Rt(Dt,Ht,""+ur,Er);if(typeof ur=="object"&&ur!==null){switch(ur.$$typeof){case be:return Ht=Ht.get(ur.key===null?Kt:ur.key)||null,Ft(Dt,Ht,ur,Er);case ke:return Ht=Ht.get(ur.key===null?Kt:ur.key)||null,Jt(Dt,Ht,ur,Er);case Ne:var Sr=ur._init;return mr(Ht,Dt,Kt,Sr(ur._payload),Er)}if(De(ur)||$e(ur))return Ht=Ht.get(Kt)||null,sr(Dt,Ht,ur,Er,null);yo(Dt,ur)}return null}function wr(Ht,Dt,Kt,ur){for(var Er=null,Sr=null,Tr=Dt,Ar=Dt=0,tn=null;Tr!==null&&Ar<Kt.length;Ar++){Tr.index>Ar?(tn=Tr,Tr=null):tn=Tr.sibling;var Pr=or(Ht,Tr,Kt[Ar],ur);if(Pr===null){Tr===null&&(Tr=tn);break}H&&Tr&&Pr.alternate===null&&ee(Ht,Tr),Dt=Re(Pr,Dt,Ar),Sr===null?Er=Pr:Sr.sibling=Pr,Sr=Pr,Tr=tn}if(Ar===Kt.length)return oe(Ht,Tr),Ur&&bi(Ht,Ar),Er;if(Tr===null){for(;Ar<Kt.length;Ar++)Tr=lr(Ht,Kt[Ar],ur),Tr!==null&&(Dt=Re(Tr,Dt,Ar),Sr===null?Er=Tr:Sr.sibling=Tr,Sr=Tr);return Ur&&bi(Ht,Ar),Er}for(Tr=fe(Ht,Tr);Ar<Kt.length;Ar++)tn=mr(Tr,Ht,Ar,Kt[Ar],ur),tn!==null&&(H&&tn.alternate!==null&&Tr.delete(tn.key===null?Ar:tn.key),Dt=Re(tn,Dt,Ar),Sr===null?Er=tn:Sr.sibling=tn,Sr=tn);return H&&Tr.forEach(function(mi){return ee(Ht,mi)}),Ur&&bi(Ht,Ar),Er}function xr(Ht,Dt,Kt,ur){var Er=$e(Kt);if(typeof Er!="function")throw Error(g(150));if(Kt=Er.call(Kt),Kt==null)throw Error(g(151));for(var Sr=Er=null,Tr=Dt,Ar=Dt=0,tn=null,Pr=Kt.next();Tr!==null&&!Pr.done;Ar++,Pr=Kt.next()){Tr.index>Ar?(tn=Tr,Tr=null):tn=Tr.sibling;var mi=or(Ht,Tr,Pr.value,ur);if(mi===null){Tr===null&&(Tr=tn);break}H&&Tr&&mi.alternate===null&&ee(Ht,Tr),Dt=Re(mi,Dt,Ar),Sr===null?Er=mi:Sr.sibling=mi,Sr=mi,Tr=tn}if(Pr.done)return oe(Ht,Tr),Ur&&bi(Ht,Ar),Er;if(Tr===null){for(;!Pr.done;Ar++,Pr=Kt.next())Pr=lr(Ht,Pr.value,ur),Pr!==null&&(Dt=Re(Pr,Dt,Ar),Sr===null?Er=Pr:Sr.sibling=Pr,Sr=Pr);return Ur&&bi(Ht,Ar),Er}for(Tr=fe(Ht,Tr);!Pr.done;Ar++,Pr=Kt.next())Pr=mr(Tr,Ht,Ar,Pr.value,ur),Pr!==null&&(H&&Pr.alternate!==null&&Tr.delete(Pr.key===null?Ar:Pr.key),Dt=Re(Pr,Dt,Ar),Sr===null?Er=Pr:Sr.sibling=Pr,Sr=Pr);return H&&Tr.forEach(function(Hd){return ee(Ht,Hd)}),Ur&&bi(Ht,Ar),Er}function qr(Ht,Dt,Kt,ur){if(typeof Kt=="object"&&Kt!==null&&Kt.type===ye&&Kt.key===null&&(Kt=Kt.props.children),typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case be:e:{for(var Er=Kt.key,Sr=Dt;Sr!==null;){if(Sr.key===Er){if(Er=Kt.type,Er===ye){if(Sr.tag===7){oe(Ht,Sr.sibling),Dt=Ee(Sr,Kt.props.children),Dt.return=Ht,Ht=Dt;break e}}else if(Sr.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===Ne&&zu(Er)===Sr.type){oe(Ht,Sr.sibling),Dt=Ee(Sr,Kt.props),Dt.ref=va(Ht,Sr,Kt),Dt.return=Ht,Ht=Dt;break e}oe(Ht,Sr);break}else ee(Ht,Sr);Sr=Sr.sibling}Kt.type===ye?(Dt=Ii(Kt.props.children,Ht.mode,ur,Kt.key),Dt.return=Ht,Ht=Dt):(ur=Uo(Kt.type,Kt.key,Kt.props,null,Ht.mode,ur),ur.ref=va(Ht,Dt,Kt),ur.return=Ht,Ht=ur)}return Ve(Ht);case ke:e:{for(Sr=Kt.key;Dt!==null;){if(Dt.key===Sr)if(Dt.tag===4&&Dt.stateNode.containerInfo===Kt.containerInfo&&Dt.stateNode.implementation===Kt.implementation){oe(Ht,Dt.sibling),Dt=Ee(Dt,Kt.children||[]),Dt.return=Ht,Ht=Dt;break e}else{oe(Ht,Dt);break}else ee(Ht,Dt);Dt=Dt.sibling}Dt=Tl(Kt,Ht.mode,ur),Dt.return=Ht,Ht=Dt}return Ve(Ht);case Ne:return Sr=Kt._init,qr(Ht,Dt,Sr(Kt._payload),ur)}if(De(Kt))return wr(Ht,Dt,Kt,ur);if($e(Kt))return xr(Ht,Dt,Kt,ur);yo(Ht,Kt)}return typeof Kt=="string"&&Kt!==""||typeof Kt=="number"?(Kt=""+Kt,Dt!==null&&Dt.tag===6?(oe(Ht,Dt.sibling),Dt=Ee(Dt,Kt),Dt.return=Ht,Ht=Dt):(oe(Ht,Dt),Dt=Sl(Kt,Ht.mode,ur),Dt.return=Ht,Ht=Dt),Ve(Ht)):oe(Ht,Dt)}return qr}var Ui=Fu(!0),Ou=Fu(!1),bo=ii(null),vo=null,Zi=null,zs=null;function Fs(){zs=Zi=vo=null}function Os(H){var ee=bo.current;Lr(bo),H._currentValue=ee}function Ds(H,ee,oe){for(;H!==null;){var fe=H.alternate;if((H.childLanes&ee)!==ee?(H.childLanes|=ee,fe!==null&&(fe.childLanes|=ee)):fe!==null&&(fe.childLanes&ee)!==ee&&(fe.childLanes|=ee),H===oe)break;H=H.return}}function Hi(H,ee){vo=H,zs=Zi=null,H=H.dependencies,H!==null&&H.firstContext!==null&&(H.lanes&ee&&(pn=!0),H.firstContext=null)}function Sn(H){var ee=H._currentValue;if(zs!==H)if(H={context:H,memoizedValue:ee,next:null},Zi===null){if(vo===null)throw Error(g(308));Zi=H,vo.dependencies={lanes:0,firstContext:H}}else Zi=Zi.next=H;return ee}var vi=null;function Ls(H){vi===null?vi=[H]:vi.push(H)}function Du(H,ee,oe,fe){var Ee=ee.interleaved;return Ee===null?(oe.next=oe,Ls(ee)):(oe.next=Ee.next,Ee.next=oe),ee.interleaved=oe,Wn(H,fe)}function Wn(H,ee){H.lanes|=ee;var oe=H.alternate;for(oe!==null&&(oe.lanes|=ee),oe=H,H=H.return;H!==null;)H.childLanes|=ee,oe=H.alternate,oe!==null&&(oe.childLanes|=ee),oe=H,H=H.return;return oe.tag===3?oe.stateNode:null}var si=!1;function $s(H){H.updateQueue={baseState:H.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lu(H,ee){H=H.updateQueue,ee.updateQueue===H&&(ee.updateQueue={baseState:H.baseState,firstBaseUpdate:H.firstBaseUpdate,lastBaseUpdate:H.lastBaseUpdate,shared:H.shared,effects:H.effects})}function Qn(H,ee){return{eventTime:H,lane:ee,tag:0,payload:null,callback:null,next:null}}function li(H,ee,oe){var fe=H.updateQueue;if(fe===null)return null;if(fe=fe.shared,Mr&2){var Ee=fe.pending;return Ee===null?ee.next=ee:(ee.next=Ee.next,Ee.next=ee),fe.pending=ee,Wn(H,oe)}return Ee=fe.interleaved,Ee===null?(ee.next=ee,Ls(fe)):(ee.next=Ee.next,Ee.next=ee),fe.interleaved=ee,Wn(H,oe)}function wo(H,ee,oe){if(ee=ee.updateQueue,ee!==null&&(ee=ee.shared,(oe&4194240)!==0)){var fe=ee.lanes;fe&=H.pendingLanes,oe|=fe,ee.lanes=oe,es(H,oe)}}function $u(H,ee){var oe=H.updateQueue,fe=H.alternate;if(fe!==null&&(fe=fe.updateQueue,oe===fe)){var Ee=null,Re=null;if(oe=oe.firstBaseUpdate,oe!==null){do{var Ve={eventTime:oe.eventTime,lane:oe.lane,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null};Re===null?Ee=Re=Ve:Re=Re.next=Ve,oe=oe.next}while(oe!==null);Re===null?Ee=Re=ee:Re=Re.next=ee}else Ee=Re=ee;oe={baseState:fe.baseState,firstBaseUpdate:Ee,lastBaseUpdate:Re,shared:fe.shared,effects:fe.effects},H.updateQueue=oe;return}H=oe.lastBaseUpdate,H===null?oe.firstBaseUpdate=ee:H.next=ee,oe.lastBaseUpdate=ee}function xo(H,ee,oe,fe){var Ee=H.updateQueue;si=!1;var Re=Ee.firstBaseUpdate,Ve=Ee.lastBaseUpdate,Rt=Ee.shared.pending;if(Rt!==null){Ee.shared.pending=null;var Ft=Rt,Jt=Ft.next;Ft.next=null,Ve===null?Re=Jt:Ve.next=Jt,Ve=Ft;var sr=H.alternate;sr!==null&&(sr=sr.updateQueue,Rt=sr.lastBaseUpdate,Rt!==Ve&&(Rt===null?sr.firstBaseUpdate=Jt:Rt.next=Jt,sr.lastBaseUpdate=Ft))}if(Re!==null){var lr=Ee.baseState;Ve=0,sr=Jt=Ft=null,Rt=Re;do{var or=Rt.lane,mr=Rt.eventTime;if((fe&or)===or){sr!==null&&(sr=sr.next={eventTime:mr,lane:0,tag:Rt.tag,payload:Rt.payload,callback:Rt.callback,next:null});e:{var wr=H,xr=Rt;switch(or=ee,mr=oe,xr.tag){case 1:if(wr=xr.payload,typeof wr=="function"){lr=wr.call(mr,lr,or);break e}lr=wr;break e;case 3:wr.flags=wr.flags&-65537|128;case 0:if(wr=xr.payload,or=typeof wr=="function"?wr.call(mr,lr,or):wr,or==null)break e;lr=Ke({},lr,or);break e;case 2:si=!0}}Rt.callback!==null&&Rt.lane!==0&&(H.flags|=64,or=Ee.effects,or===null?Ee.effects=[Rt]:or.push(Rt))}else mr={eventTime:mr,lane:or,tag:Rt.tag,payload:Rt.payload,callback:Rt.callback,next:null},sr===null?(Jt=sr=mr,Ft=lr):sr=sr.next=mr,Ve|=or;if(Rt=Rt.next,Rt===null){if(Rt=Ee.shared.pending,Rt===null)break;or=Rt,Rt=or.next,or.next=null,Ee.lastBaseUpdate=or,Ee.shared.pending=null}}while(!0);if(sr===null&&(Ft=lr),Ee.baseState=Ft,Ee.firstBaseUpdate=Jt,Ee.lastBaseUpdate=sr,ee=Ee.shared.interleaved,ee!==null){Ee=ee;do Ve|=Ee.lane,Ee=Ee.next;while(Ee!==ee)}else Re===null&&(Ee.shared.lanes=0);Ei|=Ve,H.lanes=Ve,H.memoizedState=lr}}function ju(H,ee,oe){if(H=ee.effects,ee.effects=null,H!==null)for(ee=0;ee<H.length;ee++){var fe=H[ee],Ee=fe.callback;if(Ee!==null){if(fe.callback=null,fe=oe,typeof Ee!="function")throw Error(g(191,Ee));Ee.call(fe)}}}var wa={},Ln=ii(wa),xa=ii(wa),Ea=ii(wa);function wi(H){if(H===wa)throw Error(g(174));return H}function js(H,ee){switch(Nr(Ea,ee),Nr(xa,H),Nr(Ln,wa),H=ee.nodeType,H){case 9:case 11:ee=(ee=ee.documentElement)?ee.namespaceURI:ar(null,"");break;default:H=H===8?ee.parentNode:ee,ee=H.namespaceURI||null,H=H.tagName,ee=ar(ee,H)}Lr(Ln),Nr(Ln,ee)}function Gi(){Lr(Ln),Lr(xa),Lr(Ea)}function Uu(H){wi(Ea.current);var ee=wi(Ln.current),oe=ar(ee,H.type);ee!==oe&&(Nr(xa,H),Nr(Ln,oe))}function Us(H){xa.current===H&&(Lr(Ln),Lr(xa))}var Hr=ii(0);function Eo(H){for(var ee=H;ee!==null;){if(ee.tag===13){var oe=ee.memoizedState;if(oe!==null&&(oe=oe.dehydrated,oe===null||oe.data==="$?"||oe.data==="$!"))return ee}else if(ee.tag===19&&ee.memoizedProps.revealOrder!==void 0){if(ee.flags&128)return ee}else if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===H)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===H)return null;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}return null}var Zs=[];function Hs(){for(var H=0;H<Zs.length;H++)Zs[H]._workInProgressVersionPrimary=null;Zs.length=0}var ko=ge.ReactCurrentDispatcher,Gs=ge.ReactCurrentBatchConfig,xi=0,Gr=null,Kr=null,Jr=null,So=!1,ka=!1,Sa=0,hd=0;function sn(){throw Error(g(321))}function Ws(H,ee){if(ee===null)return!1;for(var oe=0;oe<ee.length&&oe<H.length;oe++)if(!Pn(H[oe],ee[oe]))return!1;return!0}function Qs(H,ee,oe,fe,Ee,Re){if(xi=Re,Gr=ee,ee.memoizedState=null,ee.updateQueue=null,ee.lanes=0,ko.current=H===null||H.memoizedState===null?_d:yd,H=oe(fe,Ee),ka){Re=0;do{if(ka=!1,Sa=0,25<=Re)throw Error(g(301));Re+=1,Jr=Kr=null,ee.updateQueue=null,ko.current=bd,H=oe(fe,Ee)}while(ka)}if(ko.current=Ao,ee=Kr!==null&&Kr.next!==null,xi=0,Jr=Kr=Gr=null,So=!1,ee)throw Error(g(300));return H}function qs(){var H=Sa!==0;return Sa=0,H}function $n(){var H={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?Gr.memoizedState=Jr=H:Jr=Jr.next=H,Jr}function Tn(){if(Kr===null){var H=Gr.alternate;H=H!==null?H.memoizedState:null}else H=Kr.next;var ee=Jr===null?Gr.memoizedState:Jr.next;if(ee!==null)Jr=ee,Kr=H;else{if(H===null)throw Error(g(310));Kr=H,H={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},Jr===null?Gr.memoizedState=Jr=H:Jr=Jr.next=H}return Jr}function Ta(H,ee){return typeof ee=="function"?ee(H):ee}function Vs(H){var ee=Tn(),oe=ee.queue;if(oe===null)throw Error(g(311));oe.lastRenderedReducer=H;var fe=Kr,Ee=fe.baseQueue,Re=oe.pending;if(Re!==null){if(Ee!==null){var Ve=Ee.next;Ee.next=Re.next,Re.next=Ve}fe.baseQueue=Ee=Re,oe.pending=null}if(Ee!==null){Re=Ee.next,fe=fe.baseState;var Rt=Ve=null,Ft=null,Jt=Re;do{var sr=Jt.lane;if((xi&sr)===sr)Ft!==null&&(Ft=Ft.next={lane:0,action:Jt.action,hasEagerState:Jt.hasEagerState,eagerState:Jt.eagerState,next:null}),fe=Jt.hasEagerState?Jt.eagerState:H(fe,Jt.action);else{var lr={lane:sr,action:Jt.action,hasEagerState:Jt.hasEagerState,eagerState:Jt.eagerState,next:null};Ft===null?(Rt=Ft=lr,Ve=fe):Ft=Ft.next=lr,Gr.lanes|=sr,Ei|=sr}Jt=Jt.next}while(Jt!==null&&Jt!==Re);Ft===null?Ve=fe:Ft.next=Rt,Pn(fe,ee.memoizedState)||(pn=!0),ee.memoizedState=fe,ee.baseState=Ve,ee.baseQueue=Ft,oe.lastRenderedState=fe}if(H=oe.interleaved,H!==null){Ee=H;do Re=Ee.lane,Gr.lanes|=Re,Ei|=Re,Ee=Ee.next;while(Ee!==H)}else Ee===null&&(oe.lanes=0);return[ee.memoizedState,oe.dispatch]}function Ks(H){var ee=Tn(),oe=ee.queue;if(oe===null)throw Error(g(311));oe.lastRenderedReducer=H;var fe=oe.dispatch,Ee=oe.pending,Re=ee.memoizedState;if(Ee!==null){oe.pending=null;var Ve=Ee=Ee.next;do Re=H(Re,Ve.action),Ve=Ve.next;while(Ve!==Ee);Pn(Re,ee.memoizedState)||(pn=!0),ee.memoizedState=Re,ee.baseQueue===null&&(ee.baseState=Re),oe.lastRenderedState=Re}return[Re,fe]}function Zu(){}function Hu(H,ee){var oe=Gr,fe=Tn(),Ee=ee(),Re=!Pn(fe.memoizedState,Ee);if(Re&&(fe.memoizedState=Ee,pn=!0),fe=fe.queue,Ys(Qu.bind(null,oe,fe,H),[H]),fe.getSnapshot!==ee||Re||Jr!==null&&Jr.memoizedState.tag&1){if(oe.flags|=2048,Ia(9,Wu.bind(null,oe,fe,Ee,ee),void 0,null),en===null)throw Error(g(349));xi&30||Gu(oe,ee,Ee)}return Ee}function Gu(H,ee,oe){H.flags|=16384,H={getSnapshot:ee,value:oe},ee=Gr.updateQueue,ee===null?(ee={lastEffect:null,stores:null},Gr.updateQueue=ee,ee.stores=[H]):(oe=ee.stores,oe===null?ee.stores=[H]:oe.push(H))}function Wu(H,ee,oe,fe){ee.value=oe,ee.getSnapshot=fe,qu(ee)&&Vu(H)}function Qu(H,ee,oe){return oe(function(){qu(ee)&&Vu(H)})}function qu(H){var ee=H.getSnapshot;H=H.value;try{var oe=ee();return!Pn(H,oe)}catch{return!0}}function Vu(H){var ee=Wn(H,1);ee!==null&&Fn(ee,H,1,-1)}function Ku(H){var ee=$n();return typeof H=="function"&&(H=H()),ee.memoizedState=ee.baseState=H,H={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:H},ee.queue=H,H=H.dispatch=gd.bind(null,Gr,H),[ee.memoizedState,H]}function Ia(H,ee,oe,fe){return H={tag:H,create:ee,destroy:oe,deps:fe,next:null},ee=Gr.updateQueue,ee===null?(ee={lastEffect:null,stores:null},Gr.updateQueue=ee,ee.lastEffect=H.next=H):(oe=ee.lastEffect,oe===null?ee.lastEffect=H.next=H:(fe=oe.next,oe.next=H,H.next=fe,ee.lastEffect=H)),H}function Yu(){return Tn().memoizedState}function To(H,ee,oe,fe){var Ee=$n();Gr.flags|=H,Ee.memoizedState=Ia(1|ee,oe,void 0,fe===void 0?null:fe)}function Io(H,ee,oe,fe){var Ee=Tn();fe=fe===void 0?null:fe;var Re=void 0;if(Kr!==null){var Ve=Kr.memoizedState;if(Re=Ve.destroy,fe!==null&&Ws(fe,Ve.deps)){Ee.memoizedState=Ia(ee,oe,Re,fe);return}}Gr.flags|=H,Ee.memoizedState=Ia(1|ee,oe,Re,fe)}function Xu(H,ee){return To(8390656,8,H,ee)}function Ys(H,ee){return Io(2048,8,H,ee)}function Ju(H,ee){return Io(4,2,H,ee)}function ec(H,ee){return Io(4,4,H,ee)}function tc(H,ee){if(typeof ee=="function")return H=H(),ee(H),function(){ee(null)};if(ee!=null)return H=H(),ee.current=H,function(){ee.current=null}}function rc(H,ee,oe){return oe=oe!=null?oe.concat([H]):null,Io(4,4,tc.bind(null,ee,H),oe)}function Xs(){}function nc(H,ee){var oe=Tn();ee=ee===void 0?null:ee;var fe=oe.memoizedState;return fe!==null&&ee!==null&&Ws(ee,fe[1])?fe[0]:(oe.memoizedState=[H,ee],H)}function ic(H,ee){var oe=Tn();ee=ee===void 0?null:ee;var fe=oe.memoizedState;return fe!==null&&ee!==null&&Ws(ee,fe[1])?fe[0]:(H=H(),oe.memoizedState=[H,ee],H)}function ac(H,ee,oe){return xi&21?(Pn(oe,ee)||(oe=zl(),Gr.lanes|=oe,Ei|=oe,H.baseState=!0),ee):(H.baseState&&(H.baseState=!1,pn=!0),H.memoizedState=oe)}function pd(H,ee){var oe=Rr;Rr=oe!==0&&4>oe?oe:4,H(!0);var fe=Gs.transition;Gs.transition={};try{H(!1),ee()}finally{Rr=oe,Gs.transition=fe}}function oc(){return Tn().memoizedState}function md(H,ee,oe){var fe=di(H);if(oe={lane:fe,action:oe,hasEagerState:!1,eagerState:null,next:null},sc(H))lc(ee,oe);else if(oe=Du(H,ee,oe,fe),oe!==null){var Ee=fn();Fn(oe,H,fe,Ee),uc(oe,ee,fe)}}function gd(H,ee,oe){var fe=di(H),Ee={lane:fe,action:oe,hasEagerState:!1,eagerState:null,next:null};if(sc(H))lc(ee,Ee);else{var Re=H.alternate;if(H.lanes===0&&(Re===null||Re.lanes===0)&&(Re=ee.lastRenderedReducer,Re!==null))try{var Ve=ee.lastRenderedState,Rt=Re(Ve,oe);if(Ee.hasEagerState=!0,Ee.eagerState=Rt,Pn(Rt,Ve)){var Ft=ee.interleaved;Ft===null?(Ee.next=Ee,Ls(ee)):(Ee.next=Ft.next,Ft.next=Ee),ee.interleaved=Ee;return}}catch{}finally{}oe=Du(H,ee,Ee,fe),oe!==null&&(Ee=fn(),Fn(oe,H,fe,Ee),uc(oe,ee,fe))}}function sc(H){var ee=H.alternate;return H===Gr||ee!==null&&ee===Gr}function lc(H,ee){ka=So=!0;var oe=H.pending;oe===null?ee.next=ee:(ee.next=oe.next,oe.next=ee),H.pending=ee}function uc(H,ee,oe){if(oe&4194240){var fe=ee.lanes;fe&=H.pendingLanes,oe|=fe,ee.lanes=oe,es(H,oe)}}var Ao={readContext:Sn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},_d={readContext:Sn,useCallback:function(H,ee){return $n().memoizedState=[H,ee===void 0?null:ee],H},useContext:Sn,useEffect:Xu,useImperativeHandle:function(H,ee,oe){return oe=oe!=null?oe.concat([H]):null,To(4194308,4,tc.bind(null,ee,H),oe)},useLayoutEffect:function(H,ee){return To(4194308,4,H,ee)},useInsertionEffect:function(H,ee){return To(4,2,H,ee)},useMemo:function(H,ee){var oe=$n();return ee=ee===void 0?null:ee,H=H(),oe.memoizedState=[H,ee],H},useReducer:function(H,ee,oe){var fe=$n();return ee=oe!==void 0?oe(ee):ee,fe.memoizedState=fe.baseState=ee,H={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:H,lastRenderedState:ee},fe.queue=H,H=H.dispatch=md.bind(null,Gr,H),[fe.memoizedState,H]},useRef:function(H){var ee=$n();return H={current:H},ee.memoizedState=H},useState:Ku,useDebugValue:Xs,useDeferredValue:function(H){return $n().memoizedState=H},useTransition:function(){var H=Ku(!1),ee=H[0];return H=pd.bind(null,H[1]),$n().memoizedState=H,[ee,H]},useMutableSource:function(){},useSyncExternalStore:function(H,ee,oe){var fe=Gr,Ee=$n();if(Ur){if(oe===void 0)throw Error(g(407));oe=oe()}else{if(oe=ee(),en===null)throw Error(g(349));xi&30||Gu(fe,ee,oe)}Ee.memoizedState=oe;var Re={value:oe,getSnapshot:ee};return Ee.queue=Re,Xu(Qu.bind(null,fe,Re,H),[H]),fe.flags|=2048,Ia(9,Wu.bind(null,fe,Re,oe,ee),void 0,null),oe},useId:function(){var H=$n(),ee=en.identifierPrefix;if(Ur){var oe=Gn,fe=Hn;oe=(fe&~(1<<32-Mn(fe)-1)).toString(32)+oe,ee=":"+ee+"R"+oe,oe=Sa++,0<oe&&(ee+="H"+oe.toString(32)),ee+=":"}else oe=hd++,ee=":"+ee+"r"+oe.toString(32)+":";return H.memoizedState=ee},unstable_isNewReconciler:!1},yd={readContext:Sn,useCallback:nc,useContext:Sn,useEffect:Ys,useImperativeHandle:rc,useInsertionEffect:Ju,useLayoutEffect:ec,useMemo:ic,useReducer:Vs,useRef:Yu,useState:function(){return Vs(Ta)},useDebugValue:Xs,useDeferredValue:function(H){var ee=Tn();return ac(ee,Kr.memoizedState,H)},useTransition:function(){var H=Vs(Ta)[0],ee=Tn().memoizedState;return[H,ee]},useMutableSource:Zu,useSyncExternalStore:Hu,useId:oc,unstable_isNewReconciler:!1},bd={readContext:Sn,useCallback:nc,useContext:Sn,useEffect:Ys,useImperativeHandle:rc,useInsertionEffect:Ju,useLayoutEffect:ec,useMemo:ic,useReducer:Ks,useRef:Yu,useState:function(){return Ks(Ta)},useDebugValue:Xs,useDeferredValue:function(H){var ee=Tn();return Kr===null?ee.memoizedState=H:ac(ee,Kr.memoizedState,H)},useTransition:function(){var H=Ks(Ta)[0],ee=Tn().memoizedState;return[H,ee]},useMutableSource:Zu,useSyncExternalStore:Hu,useId:oc,unstable_isNewReconciler:!1};function Bn(H,ee){if(H&&H.defaultProps){ee=Ke({},ee),H=H.defaultProps;for(var oe in H)ee[oe]===void 0&&(ee[oe]=H[oe]);return ee}return ee}function Js(H,ee,oe,fe){ee=H.memoizedState,oe=oe(fe,ee),oe=oe==null?ee:Ke({},ee,oe),H.memoizedState=oe,H.lanes===0&&(H.updateQueue.baseState=oe)}var Co={isMounted:function(H){return(H=H._reactInternals)?Zr(H)===H:!1},enqueueSetState:function(H,ee,oe){H=H._reactInternals;var fe=fn(),Ee=di(H),Re=Qn(fe,Ee);Re.payload=ee,oe!=null&&(Re.callback=oe),ee=li(H,Re,Ee),ee!==null&&(Fn(ee,H,Ee,fe),wo(ee,H,Ee))},enqueueReplaceState:function(H,ee,oe){H=H._reactInternals;var fe=fn(),Ee=di(H),Re=Qn(fe,Ee);Re.tag=1,Re.payload=ee,oe!=null&&(Re.callback=oe),ee=li(H,Re,Ee),ee!==null&&(Fn(ee,H,Ee,fe),wo(ee,H,Ee))},enqueueForceUpdate:function(H,ee){H=H._reactInternals;var oe=fn(),fe=di(H),Ee=Qn(oe,fe);Ee.tag=2,ee!=null&&(Ee.callback=ee),ee=li(H,Ee,fe),ee!==null&&(Fn(ee,H,fe,oe),wo(ee,H,fe))}};function cc(H,ee,oe,fe,Ee,Re,Ve){return H=H.stateNode,typeof H.shouldComponentUpdate=="function"?H.shouldComponentUpdate(fe,Re,Ve):ee.prototype&&ee.prototype.isPureReactComponent?!ha(oe,fe)||!ha(Ee,Re):!0}function fc(H,ee,oe){var fe=!1,Ee=ai,Re=ee.contextType;return typeof Re=="object"&&Re!==null?Re=Sn(Re):(Ee=hn(ee)?_i:on.current,fe=ee.contextTypes,Re=(fe=fe!=null)?Di(H,Ee):ai),ee=new ee(oe,Re),H.memoizedState=ee.state!==null&&ee.state!==void 0?ee.state:null,ee.updater=Co,H.stateNode=ee,ee._reactInternals=H,fe&&(H=H.stateNode,H.__reactInternalMemoizedUnmaskedChildContext=Ee,H.__reactInternalMemoizedMaskedChildContext=Re),ee}function dc(H,ee,oe,fe){H=ee.state,typeof ee.componentWillReceiveProps=="function"&&ee.componentWillReceiveProps(oe,fe),typeof ee.UNSAFE_componentWillReceiveProps=="function"&&ee.UNSAFE_componentWillReceiveProps(oe,fe),ee.state!==H&&Co.enqueueReplaceState(ee,ee.state,null)}function el(H,ee,oe,fe){var Ee=H.stateNode;Ee.props=oe,Ee.state=H.memoizedState,Ee.refs={},$s(H);var Re=ee.contextType;typeof Re=="object"&&Re!==null?Ee.context=Sn(Re):(Re=hn(ee)?_i:on.current,Ee.context=Di(H,Re)),Ee.state=H.memoizedState,Re=ee.getDerivedStateFromProps,typeof Re=="function"&&(Js(H,ee,Re,oe),Ee.state=H.memoizedState),typeof ee.getDerivedStateFromProps=="function"||typeof Ee.getSnapshotBeforeUpdate=="function"||typeof Ee.UNSAFE_componentWillMount!="function"&&typeof Ee.componentWillMount!="function"||(ee=Ee.state,typeof Ee.componentWillMount=="function"&&Ee.componentWillMount(),typeof Ee.UNSAFE_componentWillMount=="function"&&Ee.UNSAFE_componentWillMount(),ee!==Ee.state&&Co.enqueueReplaceState(Ee,Ee.state,null),xo(H,oe,Ee,fe),Ee.state=H.memoizedState),typeof Ee.componentDidMount=="function"&&(H.flags|=4194308)}function Wi(H,ee){try{var oe="",fe=ee;do oe+=Ge(fe),fe=fe.return;while(fe);var Ee=oe}catch(Re){Ee=`
Error generating stack: `+Re.message+`
`+Re.stack}return{value:H,source:ee,stack:Ee,digest:null}}function tl(H,ee,oe){return{value:H,source:null,stack:oe??null,digest:ee??null}}function rl(H,ee){try{console.error(ee.value)}catch(oe){setTimeout(function(){throw oe})}}var vd=typeof WeakMap=="function"?WeakMap:Map;function hc(H,ee,oe){oe=Qn(-1,oe),oe.tag=3,oe.payload={element:null};var fe=ee.value;return oe.callback=function(){Fo||(Fo=!0,_l=fe),rl(H,ee)},oe}function pc(H,ee,oe){oe=Qn(-1,oe),oe.tag=3;var fe=H.type.getDerivedStateFromError;if(typeof fe=="function"){var Ee=ee.value;oe.payload=function(){return fe(Ee)},oe.callback=function(){rl(H,ee)}}var Re=H.stateNode;return Re!==null&&typeof Re.componentDidCatch=="function"&&(oe.callback=function(){rl(H,ee),typeof fe!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var Ve=ee.stack;this.componentDidCatch(ee.value,{componentStack:Ve!==null?Ve:""})}),oe}function mc(H,ee,oe){var fe=H.pingCache;if(fe===null){fe=H.pingCache=new vd;var Ee=new Set;fe.set(ee,Ee)}else Ee=fe.get(ee),Ee===void 0&&(Ee=new Set,fe.set(ee,Ee));Ee.has(oe)||(Ee.add(oe),H=Nd.bind(null,H,ee,oe),ee.then(H,H))}function gc(H){do{var ee;if((ee=H.tag===13)&&(ee=H.memoizedState,ee=ee!==null?ee.dehydrated!==null:!0),ee)return H;H=H.return}while(H!==null);return null}function _c(H,ee,oe,fe,Ee){return H.mode&1?(H.flags|=65536,H.lanes=Ee,H):(H===ee?H.flags|=65536:(H.flags|=128,oe.flags|=131072,oe.flags&=-52805,oe.tag===1&&(oe.alternate===null?oe.tag=17:(ee=Qn(-1,1),ee.tag=2,li(oe,ee,1))),oe.lanes|=1),H)}var wd=ge.ReactCurrentOwner,pn=!1;function cn(H,ee,oe,fe){ee.child=H===null?Ou(ee,null,oe,fe):Ui(ee,H.child,oe,fe)}function yc(H,ee,oe,fe,Ee){oe=oe.render;var Re=ee.ref;return Hi(ee,Ee),fe=Qs(H,ee,oe,fe,Re,Ee),oe=qs(),H!==null&&!pn?(ee.updateQueue=H.updateQueue,ee.flags&=-2053,H.lanes&=~Ee,qn(H,ee,Ee)):(Ur&&oe&&Ms(ee),ee.flags|=1,cn(H,ee,fe,Ee),ee.child)}function bc(H,ee,oe,fe,Ee){if(H===null){var Re=oe.type;return typeof Re=="function"&&!kl(Re)&&Re.defaultProps===void 0&&oe.compare===null&&oe.defaultProps===void 0?(ee.tag=15,ee.type=Re,vc(H,ee,Re,fe,Ee)):(H=Uo(oe.type,null,fe,ee,ee.mode,Ee),H.ref=ee.ref,H.return=ee,ee.child=H)}if(Re=H.child,!(H.lanes&Ee)){var Ve=Re.memoizedProps;if(oe=oe.compare,oe=oe!==null?oe:ha,oe(Ve,fe)&&H.ref===ee.ref)return qn(H,ee,Ee)}return ee.flags|=1,H=pi(Re,fe),H.ref=ee.ref,H.return=ee,ee.child=H}function vc(H,ee,oe,fe,Ee){if(H!==null){var Re=H.memoizedProps;if(ha(Re,fe)&&H.ref===ee.ref)if(pn=!1,ee.pendingProps=fe=Re,(H.lanes&Ee)!==0)H.flags&131072&&(pn=!0);else return ee.lanes=H.lanes,qn(H,ee,Ee)}return nl(H,ee,oe,fe,Ee)}function wc(H,ee,oe){var fe=ee.pendingProps,Ee=fe.children,Re=H!==null?H.memoizedState:null;if(fe.mode==="hidden")if(!(ee.mode&1))ee.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(qi,wn),wn|=oe;else{if(!(oe&1073741824))return H=Re!==null?Re.baseLanes|oe:oe,ee.lanes=ee.childLanes=1073741824,ee.memoizedState={baseLanes:H,cachePool:null,transitions:null},ee.updateQueue=null,Nr(qi,wn),wn|=H,null;ee.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe=Re!==null?Re.baseLanes:oe,Nr(qi,wn),wn|=fe}else Re!==null?(fe=Re.baseLanes|oe,ee.memoizedState=null):fe=oe,Nr(qi,wn),wn|=fe;return cn(H,ee,Ee,oe),ee.child}function xc(H,ee){var oe=ee.ref;(H===null&&oe!==null||H!==null&&H.ref!==oe)&&(ee.flags|=512,ee.flags|=2097152)}function nl(H,ee,oe,fe,Ee){var Re=hn(oe)?_i:on.current;return Re=Di(ee,Re),Hi(ee,Ee),oe=Qs(H,ee,oe,fe,Re,Ee),fe=qs(),H!==null&&!pn?(ee.updateQueue=H.updateQueue,ee.flags&=-2053,H.lanes&=~Ee,qn(H,ee,Ee)):(Ur&&fe&&Ms(ee),ee.flags|=1,cn(H,ee,oe,Ee),ee.child)}function Ec(H,ee,oe,fe,Ee){if(hn(oe)){var Re=!0;fo(ee)}else Re=!1;if(Hi(ee,Ee),ee.stateNode===null)Po(H,ee),fc(ee,oe,fe),el(ee,oe,fe,Ee),fe=!0;else if(H===null){var Ve=ee.stateNode,Rt=ee.memoizedProps;Ve.props=Rt;var Ft=Ve.context,Jt=oe.contextType;typeof Jt=="object"&&Jt!==null?Jt=Sn(Jt):(Jt=hn(oe)?_i:on.current,Jt=Di(ee,Jt));var sr=oe.getDerivedStateFromProps,lr=typeof sr=="function"||typeof Ve.getSnapshotBeforeUpdate=="function";lr||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(Rt!==fe||Ft!==Jt)&&dc(ee,Ve,fe,Jt),si=!1;var or=ee.memoizedState;Ve.state=or,xo(ee,fe,Ve,Ee),Ft=ee.memoizedState,Rt!==fe||or!==Ft||dn.current||si?(typeof sr=="function"&&(Js(ee,oe,sr,fe),Ft=ee.memoizedState),(Rt=si||cc(ee,oe,Rt,fe,or,Ft,Jt))?(lr||typeof Ve.UNSAFE_componentWillMount!="function"&&typeof Ve.componentWillMount!="function"||(typeof Ve.componentWillMount=="function"&&Ve.componentWillMount(),typeof Ve.UNSAFE_componentWillMount=="function"&&Ve.UNSAFE_componentWillMount()),typeof Ve.componentDidMount=="function"&&(ee.flags|=4194308)):(typeof Ve.componentDidMount=="function"&&(ee.flags|=4194308),ee.memoizedProps=fe,ee.memoizedState=Ft),Ve.props=fe,Ve.state=Ft,Ve.context=Jt,fe=Rt):(typeof Ve.componentDidMount=="function"&&(ee.flags|=4194308),fe=!1)}else{Ve=ee.stateNode,Lu(H,ee),Rt=ee.memoizedProps,Jt=ee.type===ee.elementType?Rt:Bn(ee.type,Rt),Ve.props=Jt,lr=ee.pendingProps,or=Ve.context,Ft=oe.contextType,typeof Ft=="object"&&Ft!==null?Ft=Sn(Ft):(Ft=hn(oe)?_i:on.current,Ft=Di(ee,Ft));var mr=oe.getDerivedStateFromProps;(sr=typeof mr=="function"||typeof Ve.getSnapshotBeforeUpdate=="function")||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(Rt!==lr||or!==Ft)&&dc(ee,Ve,fe,Ft),si=!1,or=ee.memoizedState,Ve.state=or,xo(ee,fe,Ve,Ee);var wr=ee.memoizedState;Rt!==lr||or!==wr||dn.current||si?(typeof mr=="function"&&(Js(ee,oe,mr,fe),wr=ee.memoizedState),(Jt=si||cc(ee,oe,Jt,fe,or,wr,Ft)||!1)?(sr||typeof Ve.UNSAFE_componentWillUpdate!="function"&&typeof Ve.componentWillUpdate!="function"||(typeof Ve.componentWillUpdate=="function"&&Ve.componentWillUpdate(fe,wr,Ft),typeof Ve.UNSAFE_componentWillUpdate=="function"&&Ve.UNSAFE_componentWillUpdate(fe,wr,Ft)),typeof Ve.componentDidUpdate=="function"&&(ee.flags|=4),typeof Ve.getSnapshotBeforeUpdate=="function"&&(ee.flags|=1024)):(typeof Ve.componentDidUpdate!="function"||Rt===H.memoizedProps&&or===H.memoizedState||(ee.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||Rt===H.memoizedProps&&or===H.memoizedState||(ee.flags|=1024),ee.memoizedProps=fe,ee.memoizedState=wr),Ve.props=fe,Ve.state=wr,Ve.context=Ft,fe=Jt):(typeof Ve.componentDidUpdate!="function"||Rt===H.memoizedProps&&or===H.memoizedState||(ee.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||Rt===H.memoizedProps&&or===H.memoizedState||(ee.flags|=1024),fe=!1)}return il(H,ee,oe,fe,Re,Ee)}function il(H,ee,oe,fe,Ee,Re){xc(H,ee);var Ve=(ee.flags&128)!==0;if(!fe&&!Ve)return Ee&&Au(ee,oe,!1),qn(H,ee,Re);fe=ee.stateNode,wd.current=ee;var Rt=Ve&&typeof oe.getDerivedStateFromError!="function"?null:fe.render();return ee.flags|=1,H!==null&&Ve?(ee.child=Ui(ee,H.child,null,Re),ee.child=Ui(ee,null,Rt,Re)):cn(H,ee,Rt,Re),ee.memoizedState=fe.state,Ee&&Au(ee,oe,!0),ee.child}function kc(H){var ee=H.stateNode;ee.pendingContext?Tu(H,ee.pendingContext,ee.pendingContext!==ee.context):ee.context&&Tu(H,ee.context,!1),js(H,ee.containerInfo)}function Sc(H,ee,oe,fe,Ee){return ji(),Ns(Ee),ee.flags|=256,cn(H,ee,oe,fe),ee.child}var al={dehydrated:null,treeContext:null,retryLane:0};function ol(H){return{baseLanes:H,cachePool:null,transitions:null}}function Tc(H,ee,oe){var fe=ee.pendingProps,Ee=Hr.current,Re=!1,Ve=(ee.flags&128)!==0,Rt;if((Rt=Ve)||(Rt=H!==null&&H.memoizedState===null?!1:(Ee&2)!==0),Rt?(Re=!0,ee.flags&=-129):(H===null||H.memoizedState!==null)&&(Ee|=1),Nr(Hr,Ee&1),H===null)return Bs(ee),H=ee.memoizedState,H!==null&&(H=H.dehydrated,H!==null)?(ee.mode&1?H.data==="$!"?ee.lanes=8:ee.lanes=1073741824:ee.lanes=1,null):(Ve=fe.children,H=fe.fallback,Re?(fe=ee.mode,Re=ee.child,Ve={mode:"hidden",children:Ve},!(fe&1)&&Re!==null?(Re.childLanes=0,Re.pendingProps=Ve):Re=Zo(Ve,fe,0,null),H=Ii(H,fe,oe,null),Re.return=ee,H.return=ee,Re.sibling=H,ee.child=Re,ee.child.memoizedState=ol(oe),ee.memoizedState=al,H):sl(ee,Ve));if(Ee=H.memoizedState,Ee!==null&&(Rt=Ee.dehydrated,Rt!==null))return xd(H,ee,Ve,fe,Rt,Ee,oe);if(Re){Re=fe.fallback,Ve=ee.mode,Ee=H.child,Rt=Ee.sibling;var Ft={mode:"hidden",children:fe.children};return!(Ve&1)&&ee.child!==Ee?(fe=ee.child,fe.childLanes=0,fe.pendingProps=Ft,ee.deletions=null):(fe=pi(Ee,Ft),fe.subtreeFlags=Ee.subtreeFlags&14680064),Rt!==null?Re=pi(Rt,Re):(Re=Ii(Re,Ve,oe,null),Re.flags|=2),Re.return=ee,fe.return=ee,fe.sibling=Re,ee.child=fe,fe=Re,Re=ee.child,Ve=H.child.memoizedState,Ve=Ve===null?ol(oe):{baseLanes:Ve.baseLanes|oe,cachePool:null,transitions:Ve.transitions},Re.memoizedState=Ve,Re.childLanes=H.childLanes&~oe,ee.memoizedState=al,fe}return Re=H.child,H=Re.sibling,fe=pi(Re,{mode:"visible",children:fe.children}),!(ee.mode&1)&&(fe.lanes=oe),fe.return=ee,fe.sibling=null,H!==null&&(oe=ee.deletions,oe===null?(ee.deletions=[H],ee.flags|=16):oe.push(H)),ee.child=fe,ee.memoizedState=null,fe}function sl(H,ee){return ee=Zo({mode:"visible",children:ee},H.mode,0,null),ee.return=H,H.child=ee}function Mo(H,ee,oe,fe){return fe!==null&&Ns(fe),Ui(ee,H.child,null,oe),H=sl(ee,ee.pendingProps.children),H.flags|=2,ee.memoizedState=null,H}function xd(H,ee,oe,fe,Ee,Re,Ve){if(oe)return ee.flags&256?(ee.flags&=-257,fe=tl(Error(g(422))),Mo(H,ee,Ve,fe)):ee.memoizedState!==null?(ee.child=H.child,ee.flags|=128,null):(Re=fe.fallback,Ee=ee.mode,fe=Zo({mode:"visible",children:fe.children},Ee,0,null),Re=Ii(Re,Ee,Ve,null),Re.flags|=2,fe.return=ee,Re.return=ee,fe.sibling=Re,ee.child=fe,ee.mode&1&&Ui(ee,H.child,null,Ve),ee.child.memoizedState=ol(Ve),ee.memoizedState=al,Re);if(!(ee.mode&1))return Mo(H,ee,Ve,null);if(Ee.data==="$!"){if(fe=Ee.nextSibling&&Ee.nextSibling.dataset,fe)var Rt=fe.dgst;return fe=Rt,Re=Error(g(419)),fe=tl(Re,fe,void 0),Mo(H,ee,Ve,fe)}if(Rt=(Ve&H.childLanes)!==0,pn||Rt){if(fe=en,fe!==null){switch(Ve&-Ve){case 4:Ee=2;break;case 16:Ee=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ee=32;break;case 536870912:Ee=268435456;break;default:Ee=0}Ee=Ee&(fe.suspendedLanes|Ve)?0:Ee,Ee!==0&&Ee!==Re.retryLane&&(Re.retryLane=Ee,Wn(H,Ee),Fn(fe,H,Ee,-1))}return El(),fe=tl(Error(g(421))),Mo(H,ee,Ve,fe)}return Ee.data==="$?"?(ee.flags|=128,ee.child=H.child,ee=zd.bind(null,H),Ee._reactRetry=ee,null):(H=Re.treeContext,vn=ni(Ee.nextSibling),bn=ee,Ur=!0,Rn=null,H!==null&&(En[kn++]=Hn,En[kn++]=Gn,En[kn++]=yi,Hn=H.id,Gn=H.overflow,yi=ee),ee=sl(ee,fe.children),ee.flags|=4096,ee)}function Ic(H,ee,oe){H.lanes|=ee;var fe=H.alternate;fe!==null&&(fe.lanes|=ee),Ds(H.return,ee,oe)}function ll(H,ee,oe,fe,Ee){var Re=H.memoizedState;Re===null?H.memoizedState={isBackwards:ee,rendering:null,renderingStartTime:0,last:fe,tail:oe,tailMode:Ee}:(Re.isBackwards=ee,Re.rendering=null,Re.renderingStartTime=0,Re.last=fe,Re.tail=oe,Re.tailMode=Ee)}function Ac(H,ee,oe){var fe=ee.pendingProps,Ee=fe.revealOrder,Re=fe.tail;if(cn(H,ee,fe.children,oe),fe=Hr.current,fe&2)fe=fe&1|2,ee.flags|=128;else{if(H!==null&&H.flags&128)e:for(H=ee.child;H!==null;){if(H.tag===13)H.memoizedState!==null&&Ic(H,oe,ee);else if(H.tag===19)Ic(H,oe,ee);else if(H.child!==null){H.child.return=H,H=H.child;continue}if(H===ee)break e;for(;H.sibling===null;){if(H.return===null||H.return===ee)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}fe&=1}if(Nr(Hr,fe),!(ee.mode&1))ee.memoizedState=null;else switch(Ee){case"forwards":for(oe=ee.child,Ee=null;oe!==null;)H=oe.alternate,H!==null&&Eo(H)===null&&(Ee=oe),oe=oe.sibling;oe=Ee,oe===null?(Ee=ee.child,ee.child=null):(Ee=oe.sibling,oe.sibling=null),ll(ee,!1,Ee,oe,Re);break;case"backwards":for(oe=null,Ee=ee.child,ee.child=null;Ee!==null;){if(H=Ee.alternate,H!==null&&Eo(H)===null){ee.child=Ee;break}H=Ee.sibling,Ee.sibling=oe,oe=Ee,Ee=H}ll(ee,!0,oe,null,Re);break;case"together":ll(ee,!1,null,null,void 0);break;default:ee.memoizedState=null}return ee.child}function Po(H,ee){!(ee.mode&1)&&H!==null&&(H.alternate=null,ee.alternate=null,ee.flags|=2)}function qn(H,ee,oe){if(H!==null&&(ee.dependencies=H.dependencies),Ei|=ee.lanes,!(oe&ee.childLanes))return null;if(H!==null&&ee.child!==H.child)throw Error(g(153));if(ee.child!==null){for(H=ee.child,oe=pi(H,H.pendingProps),ee.child=oe,oe.return=ee;H.sibling!==null;)H=H.sibling,oe=oe.sibling=pi(H,H.pendingProps),oe.return=ee;oe.sibling=null}return ee.child}function Ed(H,ee,oe){switch(ee.tag){case 3:kc(ee),ji();break;case 5:Uu(ee);break;case 1:hn(ee.type)&&fo(ee);break;case 4:js(ee,ee.stateNode.containerInfo);break;case 10:var fe=ee.type._context,Ee=ee.memoizedProps.value;Nr(bo,fe._currentValue),fe._currentValue=Ee;break;case 13:if(fe=ee.memoizedState,fe!==null)return fe.dehydrated!==null?(Nr(Hr,Hr.current&1),ee.flags|=128,null):oe&ee.child.childLanes?Tc(H,ee,oe):(Nr(Hr,Hr.current&1),H=qn(H,ee,oe),H!==null?H.sibling:null);Nr(Hr,Hr.current&1);break;case 19:if(fe=(oe&ee.childLanes)!==0,H.flags&128){if(fe)return Ac(H,ee,oe);ee.flags|=128}if(Ee=ee.memoizedState,Ee!==null&&(Ee.rendering=null,Ee.tail=null,Ee.lastEffect=null),Nr(Hr,Hr.current),fe)break;return null;case 22:case 23:return ee.lanes=0,wc(H,ee,oe)}return qn(H,ee,oe)}var Cc,ul,Mc,Pc;Cc=function(H,ee){for(var oe=ee.child;oe!==null;){if(oe.tag===5||oe.tag===6)H.appendChild(oe.stateNode);else if(oe.tag!==4&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===ee)break;for(;oe.sibling===null;){if(oe.return===null||oe.return===ee)return;oe=oe.return}oe.sibling.return=oe.return,oe=oe.sibling}},ul=function(){},Mc=function(H,ee,oe,fe){var Ee=H.memoizedProps;if(Ee!==fe){H=ee.stateNode,wi(Ln.current);var Re=null;switch(oe){case"input":Ee=Oe(H,Ee),fe=Oe(H,fe),Re=[];break;case"select":Ee=Ke({},Ee,{value:void 0}),fe=Ke({},fe,{value:void 0}),Re=[];break;case"textarea":Ee=St(H,Ee),fe=St(H,fe),Re=[];break;default:typeof Ee.onClick!="function"&&typeof fe.onClick=="function"&&(H.onclick=oo)}Tt(oe,fe);var Ve;oe=null;for(Jt in Ee)if(!fe.hasOwnProperty(Jt)&&Ee.hasOwnProperty(Jt)&&Ee[Jt]!=null)if(Jt==="style"){var Rt=Ee[Jt];for(Ve in Rt)Rt.hasOwnProperty(Ve)&&(oe||(oe={}),oe[Ve]="")}else Jt!=="dangerouslySetInnerHTML"&&Jt!=="children"&&Jt!=="suppressContentEditableWarning"&&Jt!=="suppressHydrationWarning"&&Jt!=="autoFocus"&&(D.hasOwnProperty(Jt)?Re||(Re=[]):(Re=Re||[]).push(Jt,null));for(Jt in fe){var Ft=fe[Jt];if(Rt=Ee!=null?Ee[Jt]:void 0,fe.hasOwnProperty(Jt)&&Ft!==Rt&&(Ft!=null||Rt!=null))if(Jt==="style")if(Rt){for(Ve in Rt)!Rt.hasOwnProperty(Ve)||Ft&&Ft.hasOwnProperty(Ve)||(oe||(oe={}),oe[Ve]="");for(Ve in Ft)Ft.hasOwnProperty(Ve)&&Rt[Ve]!==Ft[Ve]&&(oe||(oe={}),oe[Ve]=Ft[Ve])}else oe||(Re||(Re=[]),Re.push(Jt,oe)),oe=Ft;else Jt==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,Rt=Rt?Rt.__html:void 0,Ft!=null&&Rt!==Ft&&(Re=Re||[]).push(Jt,Ft)):Jt==="children"?typeof Ft!="string"&&typeof Ft!="number"||(Re=Re||[]).push(Jt,""+Ft):Jt!=="suppressContentEditableWarning"&&Jt!=="suppressHydrationWarning"&&(D.hasOwnProperty(Jt)?(Ft!=null&&Jt==="onScroll"&&Dr("scroll",H),Re||Rt===Ft||(Re=[])):(Re=Re||[]).push(Jt,Ft))}oe&&(Re=Re||[]).push("style",oe);var Jt=Re;(ee.updateQueue=Jt)&&(ee.flags|=4)}},Pc=function(H,ee,oe,fe){oe!==fe&&(ee.flags|=4)};function Aa(H,ee){if(!Ur)switch(H.tailMode){case"hidden":ee=H.tail;for(var oe=null;ee!==null;)ee.alternate!==null&&(oe=ee),ee=ee.sibling;oe===null?H.tail=null:oe.sibling=null;break;case"collapsed":oe=H.tail;for(var fe=null;oe!==null;)oe.alternate!==null&&(fe=oe),oe=oe.sibling;fe===null?ee||H.tail===null?H.tail=null:H.tail.sibling=null:fe.sibling=null}}function ln(H){var ee=H.alternate!==null&&H.alternate.child===H.child,oe=0,fe=0;if(ee)for(var Ee=H.child;Ee!==null;)oe|=Ee.lanes|Ee.childLanes,fe|=Ee.subtreeFlags&14680064,fe|=Ee.flags&14680064,Ee.return=H,Ee=Ee.sibling;else for(Ee=H.child;Ee!==null;)oe|=Ee.lanes|Ee.childLanes,fe|=Ee.subtreeFlags,fe|=Ee.flags,Ee.return=H,Ee=Ee.sibling;return H.subtreeFlags|=fe,H.childLanes=oe,ee}function kd(H,ee,oe){var fe=ee.pendingProps;switch(Ps(ee),ee.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(ee),null;case 1:return hn(ee.type)&&co(),ln(ee),null;case 3:return fe=ee.stateNode,Gi(),Lr(dn),Lr(on),Hs(),fe.pendingContext&&(fe.context=fe.pendingContext,fe.pendingContext=null),(H===null||H.child===null)&&(go(ee)?ee.flags|=4:H===null||H.memoizedState.isDehydrated&&!(ee.flags&256)||(ee.flags|=1024,Rn!==null&&(vl(Rn),Rn=null))),ul(H,ee),ln(ee),null;case 5:Us(ee);var Ee=wi(Ea.current);if(oe=ee.type,H!==null&&ee.stateNode!=null)Mc(H,ee,oe,fe,Ee),H.ref!==ee.ref&&(ee.flags|=512,ee.flags|=2097152);else{if(!fe){if(ee.stateNode===null)throw Error(g(166));return ln(ee),null}if(H=wi(Ln.current),go(ee)){fe=ee.stateNode,oe=ee.type;var Re=ee.memoizedProps;switch(fe[Dn]=ee,fe[ya]=Re,H=(ee.mode&1)!==0,oe){case"dialog":Dr("cancel",fe),Dr("close",fe);break;case"iframe":case"object":case"embed":Dr("load",fe);break;case"video":case"audio":for(Ee=0;Ee<ma.length;Ee++)Dr(ma[Ee],fe);break;case"source":Dr("error",fe);break;case"img":case"image":case"link":Dr("error",fe),Dr("load",fe);break;case"details":Dr("toggle",fe);break;case"input":Fe(fe,Re),Dr("invalid",fe);break;case"select":fe._wrapperState={wasMultiple:!!Re.multiple},Dr("invalid",fe);break;case"textarea":Bt(fe,Re),Dr("invalid",fe)}Tt(oe,Re),Ee=null;for(var Ve in Re)if(Re.hasOwnProperty(Ve)){var Rt=Re[Ve];Ve==="children"?typeof Rt=="string"?fe.textContent!==Rt&&(Re.suppressHydrationWarning!==!0&&eo(fe.textContent,Rt,H),Ee=["children",Rt]):typeof Rt=="number"&&fe.textContent!==""+Rt&&(Re.suppressHydrationWarning!==!0&&eo(fe.textContent,Rt,H),Ee=["children",""+Rt]):D.hasOwnProperty(Ve)&&Rt!=null&&Ve==="onScroll"&&Dr("scroll",fe)}switch(oe){case"input":xe(fe),ve(fe,Re,!0);break;case"textarea":xe(fe),ir(fe);break;case"select":case"option":break;default:typeof Re.onClick=="function"&&(fe.onclick=oo)}fe=Ee,ee.updateQueue=fe,fe!==null&&(ee.flags|=4)}else{Ve=Ee.nodeType===9?Ee:Ee.ownerDocument,H==="http://www.w3.org/1999/xhtml"&&(H=Yt(oe)),H==="http://www.w3.org/1999/xhtml"?oe==="script"?(H=Ve.createElement("div"),H.innerHTML="<script><\/script>",H=H.removeChild(H.firstChild)):typeof fe.is=="string"?H=Ve.createElement(oe,{is:fe.is}):(H=Ve.createElement(oe),oe==="select"&&(Ve=H,fe.multiple?Ve.multiple=!0:fe.size&&(Ve.size=fe.size))):H=Ve.createElementNS(H,oe),H[Dn]=ee,H[ya]=fe,Cc(H,ee,!1,!1),ee.stateNode=H;e:{switch(Ve=jt(oe,fe),oe){case"dialog":Dr("cancel",H),Dr("close",H),Ee=fe;break;case"iframe":case"object":case"embed":Dr("load",H),Ee=fe;break;case"video":case"audio":for(Ee=0;Ee<ma.length;Ee++)Dr(ma[Ee],H);Ee=fe;break;case"source":Dr("error",H),Ee=fe;break;case"img":case"image":case"link":Dr("error",H),Dr("load",H),Ee=fe;break;case"details":Dr("toggle",H),Ee=fe;break;case"input":Fe(H,fe),Ee=Oe(H,fe),Dr("invalid",H);break;case"option":Ee=fe;break;case"select":H._wrapperState={wasMultiple:!!fe.multiple},Ee=Ke({},fe,{value:void 0}),Dr("invalid",H);break;case"textarea":Bt(H,fe),Ee=St(H,fe),Dr("invalid",H);break;default:Ee=fe}Tt(oe,Ee),Rt=Ee;for(Re in Rt)if(Rt.hasOwnProperty(Re)){var Ft=Rt[Re];Re==="style"?ot(H,Ft):Re==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,Ft!=null&&gr(H,Ft)):Re==="children"?typeof Ft=="string"?(oe!=="textarea"||Ft!=="")&&dr(H,Ft):typeof Ft=="number"&&dr(H,""+Ft):Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&Re!=="autoFocus"&&(D.hasOwnProperty(Re)?Ft!=null&&Re==="onScroll"&&Dr("scroll",H):Ft!=null&&me(H,Re,Ft,Ve))}switch(oe){case"input":xe(H),ve(H,fe,!1);break;case"textarea":xe(H),ir(H);break;case"option":fe.value!=null&&H.setAttribute("value",""+dt(fe.value));break;case"select":H.multiple=!!fe.multiple,Re=fe.value,Re!=null?je(H,!!fe.multiple,Re,!1):fe.defaultValue!=null&&je(H,!!fe.multiple,fe.defaultValue,!0);break;default:typeof Ee.onClick=="function"&&(H.onclick=oo)}switch(oe){case"button":case"input":case"select":case"textarea":fe=!!fe.autoFocus;break e;case"img":fe=!0;break e;default:fe=!1}}fe&&(ee.flags|=4)}ee.ref!==null&&(ee.flags|=512,ee.flags|=2097152)}return ln(ee),null;case 6:if(H&&ee.stateNode!=null)Pc(H,ee,H.memoizedProps,fe);else{if(typeof fe!="string"&&ee.stateNode===null)throw Error(g(166));if(oe=wi(Ea.current),wi(Ln.current),go(ee)){if(fe=ee.stateNode,oe=ee.memoizedProps,fe[Dn]=ee,(Re=fe.nodeValue!==oe)&&(H=bn,H!==null))switch(H.tag){case 3:eo(fe.nodeValue,oe,(H.mode&1)!==0);break;case 5:H.memoizedProps.suppressHydrationWarning!==!0&&eo(fe.nodeValue,oe,(H.mode&1)!==0)}Re&&(ee.flags|=4)}else fe=(oe.nodeType===9?oe:oe.ownerDocument).createTextNode(fe),fe[Dn]=ee,ee.stateNode=fe}return ln(ee),null;case 13:if(Lr(Hr),fe=ee.memoizedState,H===null||H.memoizedState!==null&&H.memoizedState.dehydrated!==null){if(Ur&&vn!==null&&ee.mode&1&&!(ee.flags&128))Nu(),ji(),ee.flags|=98560,Re=!1;else if(Re=go(ee),fe!==null&&fe.dehydrated!==null){if(H===null){if(!Re)throw Error(g(318));if(Re=ee.memoizedState,Re=Re!==null?Re.dehydrated:null,!Re)throw Error(g(317));Re[Dn]=ee}else ji(),!(ee.flags&128)&&(ee.memoizedState=null),ee.flags|=4;ln(ee),Re=!1}else Rn!==null&&(vl(Rn),Rn=null),Re=!0;if(!Re)return ee.flags&65536?ee:null}return ee.flags&128?(ee.lanes=oe,ee):(fe=fe!==null,fe!==(H!==null&&H.memoizedState!==null)&&fe&&(ee.child.flags|=8192,ee.mode&1&&(H===null||Hr.current&1?Yr===0&&(Yr=3):El())),ee.updateQueue!==null&&(ee.flags|=4),ln(ee),null);case 4:return Gi(),ul(H,ee),H===null&&ga(ee.stateNode.containerInfo),ln(ee),null;case 10:return Os(ee.type._context),ln(ee),null;case 17:return hn(ee.type)&&co(),ln(ee),null;case 19:if(Lr(Hr),Re=ee.memoizedState,Re===null)return ln(ee),null;if(fe=(ee.flags&128)!==0,Ve=Re.rendering,Ve===null)if(fe)Aa(Re,!1);else{if(Yr!==0||H!==null&&H.flags&128)for(H=ee.child;H!==null;){if(Ve=Eo(H),Ve!==null){for(ee.flags|=128,Aa(Re,!1),fe=Ve.updateQueue,fe!==null&&(ee.updateQueue=fe,ee.flags|=4),ee.subtreeFlags=0,fe=oe,oe=ee.child;oe!==null;)Re=oe,H=fe,Re.flags&=14680066,Ve=Re.alternate,Ve===null?(Re.childLanes=0,Re.lanes=H,Re.child=null,Re.subtreeFlags=0,Re.memoizedProps=null,Re.memoizedState=null,Re.updateQueue=null,Re.dependencies=null,Re.stateNode=null):(Re.childLanes=Ve.childLanes,Re.lanes=Ve.lanes,Re.child=Ve.child,Re.subtreeFlags=0,Re.deletions=null,Re.memoizedProps=Ve.memoizedProps,Re.memoizedState=Ve.memoizedState,Re.updateQueue=Ve.updateQueue,Re.type=Ve.type,H=Ve.dependencies,Re.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext}),oe=oe.sibling;return Nr(Hr,Hr.current&1|2),ee.child}H=H.sibling}Re.tail!==null&&jr()>Vi&&(ee.flags|=128,fe=!0,Aa(Re,!1),ee.lanes=4194304)}else{if(!fe)if(H=Eo(Ve),H!==null){if(ee.flags|=128,fe=!0,oe=H.updateQueue,oe!==null&&(ee.updateQueue=oe,ee.flags|=4),Aa(Re,!0),Re.tail===null&&Re.tailMode==="hidden"&&!Ve.alternate&&!Ur)return ln(ee),null}else 2*jr()-Re.renderingStartTime>Vi&&oe!==1073741824&&(ee.flags|=128,fe=!0,Aa(Re,!1),ee.lanes=4194304);Re.isBackwards?(Ve.sibling=ee.child,ee.child=Ve):(oe=Re.last,oe!==null?oe.sibling=Ve:ee.child=Ve,Re.last=Ve)}return Re.tail!==null?(ee=Re.tail,Re.rendering=ee,Re.tail=ee.sibling,Re.renderingStartTime=jr(),ee.sibling=null,oe=Hr.current,Nr(Hr,fe?oe&1|2:oe&1),ee):(ln(ee),null);case 22:case 23:return xl(),fe=ee.memoizedState!==null,H!==null&&H.memoizedState!==null!==fe&&(ee.flags|=8192),fe&&ee.mode&1?wn&1073741824&&(ln(ee),ee.subtreeFlags&6&&(ee.flags|=8192)):ln(ee),null;case 24:return null;case 25:return null}throw Error(g(156,ee.tag))}function Sd(H,ee){switch(Ps(ee),ee.tag){case 1:return hn(ee.type)&&co(),H=ee.flags,H&65536?(ee.flags=H&-65537|128,ee):null;case 3:return Gi(),Lr(dn),Lr(on),Hs(),H=ee.flags,H&65536&&!(H&128)?(ee.flags=H&-65537|128,ee):null;case 5:return Us(ee),null;case 13:if(Lr(Hr),H=ee.memoizedState,H!==null&&H.dehydrated!==null){if(ee.alternate===null)throw Error(g(340));ji()}return H=ee.flags,H&65536?(ee.flags=H&-65537|128,ee):null;case 19:return Lr(Hr),null;case 4:return Gi(),null;case 10:return Os(ee.type._context),null;case 22:case 23:return xl(),null;case 24:return null;default:return null}}var Ro=!1,un=!1,Td=typeof WeakSet=="function"?WeakSet:Set,yr=null;function Qi(H,ee){var oe=H.ref;if(oe!==null)if(typeof oe=="function")try{oe(null)}catch(fe){Qr(H,ee,fe)}else oe.current=null}function cl(H,ee,oe){try{oe()}catch(fe){Qr(H,ee,fe)}}var Rc=!1;function Id(H,ee){if(xs=Za,H=cu(),ps(H)){if("selectionStart"in H)var oe={start:H.selectionStart,end:H.selectionEnd};else e:{oe=(oe=H.ownerDocument)&&oe.defaultView||window;var fe=oe.getSelection&&oe.getSelection();if(fe&&fe.rangeCount!==0){oe=fe.anchorNode;var Ee=fe.anchorOffset,Re=fe.focusNode;fe=fe.focusOffset;try{oe.nodeType,Re.nodeType}catch{oe=null;break e}var Ve=0,Rt=-1,Ft=-1,Jt=0,sr=0,lr=H,or=null;t:for(;;){for(var mr;lr!==oe||Ee!==0&&lr.nodeType!==3||(Rt=Ve+Ee),lr!==Re||fe!==0&&lr.nodeType!==3||(Ft=Ve+fe),lr.nodeType===3&&(Ve+=lr.nodeValue.length),(mr=lr.firstChild)!==null;)or=lr,lr=mr;for(;;){if(lr===H)break t;if(or===oe&&++Jt===Ee&&(Rt=Ve),or===Re&&++sr===fe&&(Ft=Ve),(mr=lr.nextSibling)!==null)break;lr=or,or=lr.parentNode}lr=mr}oe=Rt===-1||Ft===-1?null:{start:Rt,end:Ft}}else oe=null}oe=oe||{start:0,end:0}}else oe=null;for(Es={focusedElem:H,selectionRange:oe},Za=!1,yr=ee;yr!==null;)if(ee=yr,H=ee.child,(ee.subtreeFlags&1028)!==0&&H!==null)H.return=ee,yr=H;else for(;yr!==null;){ee=yr;try{var wr=ee.alternate;if(ee.flags&1024)switch(ee.tag){case 0:case 11:case 15:break;case 1:if(wr!==null){var xr=wr.memoizedProps,qr=wr.memoizedState,Ht=ee.stateNode,Dt=Ht.getSnapshotBeforeUpdate(ee.elementType===ee.type?xr:Bn(ee.type,xr),qr);Ht.__reactInternalSnapshotBeforeUpdate=Dt}break;case 3:var Kt=ee.stateNode.containerInfo;Kt.nodeType===1?Kt.textContent="":Kt.nodeType===9&&Kt.documentElement&&Kt.removeChild(Kt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(g(163))}}catch(ur){Qr(ee,ee.return,ur)}if(H=ee.sibling,H!==null){H.return=ee.return,yr=H;break}yr=ee.return}return wr=Rc,Rc=!1,wr}function Ca(H,ee,oe){var fe=ee.updateQueue;if(fe=fe!==null?fe.lastEffect:null,fe!==null){var Ee=fe=fe.next;do{if((Ee.tag&H)===H){var Re=Ee.destroy;Ee.destroy=void 0,Re!==void 0&&cl(ee,oe,Re)}Ee=Ee.next}while(Ee!==fe)}}function Bo(H,ee){if(ee=ee.updateQueue,ee=ee!==null?ee.lastEffect:null,ee!==null){var oe=ee=ee.next;do{if((oe.tag&H)===H){var fe=oe.create;oe.destroy=fe()}oe=oe.next}while(oe!==ee)}}function fl(H){var ee=H.ref;if(ee!==null){var oe=H.stateNode;switch(H.tag){case 5:H=oe;break;default:H=oe}typeof ee=="function"?ee(H):ee.current=H}}function Bc(H){var ee=H.alternate;ee!==null&&(H.alternate=null,Bc(ee)),H.child=null,H.deletions=null,H.sibling=null,H.tag===5&&(ee=H.stateNode,ee!==null&&(delete ee[Dn],delete ee[ya],delete ee[Is],delete ee[ud],delete ee[cd])),H.stateNode=null,H.return=null,H.dependencies=null,H.memoizedProps=null,H.memoizedState=null,H.pendingProps=null,H.stateNode=null,H.updateQueue=null}function Nc(H){return H.tag===5||H.tag===3||H.tag===4}function zc(H){e:for(;;){for(;H.sibling===null;){if(H.return===null||Nc(H.return))return null;H=H.return}for(H.sibling.return=H.return,H=H.sibling;H.tag!==5&&H.tag!==6&&H.tag!==18;){if(H.flags&2||H.child===null||H.tag===4)continue e;H.child.return=H,H=H.child}if(!(H.flags&2))return H.stateNode}}function dl(H,ee,oe){var fe=H.tag;if(fe===5||fe===6)H=H.stateNode,ee?oe.nodeType===8?oe.parentNode.insertBefore(H,ee):oe.insertBefore(H,ee):(oe.nodeType===8?(ee=oe.parentNode,ee.insertBefore(H,oe)):(ee=oe,ee.appendChild(H)),oe=oe._reactRootContainer,oe!=null||ee.onclick!==null||(ee.onclick=oo));else if(fe!==4&&(H=H.child,H!==null))for(dl(H,ee,oe),H=H.sibling;H!==null;)dl(H,ee,oe),H=H.sibling}function hl(H,ee,oe){var fe=H.tag;if(fe===5||fe===6)H=H.stateNode,ee?oe.insertBefore(H,ee):oe.appendChild(H);else if(fe!==4&&(H=H.child,H!==null))for(hl(H,ee,oe),H=H.sibling;H!==null;)hl(H,ee,oe),H=H.sibling}var nn=null,Nn=!1;function ui(H,ee,oe){for(oe=oe.child;oe!==null;)Fc(H,ee,oe),oe=oe.sibling}function Fc(H,ee,oe){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Oa,oe)}catch{}switch(oe.tag){case 5:un||Qi(oe,ee);case 6:var fe=nn,Ee=Nn;nn=null,ui(H,ee,oe),nn=fe,Nn=Ee,nn!==null&&(Nn?(H=nn,oe=oe.stateNode,H.nodeType===8?H.parentNode.removeChild(oe):H.removeChild(oe)):nn.removeChild(oe.stateNode));break;case 18:nn!==null&&(Nn?(H=nn,oe=oe.stateNode,H.nodeType===8?Ts(H.parentNode,oe):H.nodeType===1&&Ts(H,oe),sa(H)):Ts(nn,oe.stateNode));break;case 4:fe=nn,Ee=Nn,nn=oe.stateNode.containerInfo,Nn=!0,ui(H,ee,oe),nn=fe,Nn=Ee;break;case 0:case 11:case 14:case 15:if(!un&&(fe=oe.updateQueue,fe!==null&&(fe=fe.lastEffect,fe!==null))){Ee=fe=fe.next;do{var Re=Ee,Ve=Re.destroy;Re=Re.tag,Ve!==void 0&&(Re&2||Re&4)&&cl(oe,ee,Ve),Ee=Ee.next}while(Ee!==fe)}ui(H,ee,oe);break;case 1:if(!un&&(Qi(oe,ee),fe=oe.stateNode,typeof fe.componentWillUnmount=="function"))try{fe.props=oe.memoizedProps,fe.state=oe.memoizedState,fe.componentWillUnmount()}catch(Rt){Qr(oe,ee,Rt)}ui(H,ee,oe);break;case 21:ui(H,ee,oe);break;case 22:oe.mode&1?(un=(fe=un)||oe.memoizedState!==null,ui(H,ee,oe),un=fe):ui(H,ee,oe);break;default:ui(H,ee,oe)}}function Oc(H){var ee=H.updateQueue;if(ee!==null){H.updateQueue=null;var oe=H.stateNode;oe===null&&(oe=H.stateNode=new Td),ee.forEach(function(fe){var Ee=Fd.bind(null,H,fe);oe.has(fe)||(oe.add(fe),fe.then(Ee,Ee))})}}function zn(H,ee){var oe=ee.deletions;if(oe!==null)for(var fe=0;fe<oe.length;fe++){var Ee=oe[fe];try{var Re=H,Ve=ee,Rt=Ve;e:for(;Rt!==null;){switch(Rt.tag){case 5:nn=Rt.stateNode,Nn=!1;break e;case 3:nn=Rt.stateNode.containerInfo,Nn=!0;break e;case 4:nn=Rt.stateNode.containerInfo,Nn=!0;break e}Rt=Rt.return}if(nn===null)throw Error(g(160));Fc(Re,Ve,Ee),nn=null,Nn=!1;var Ft=Ee.alternate;Ft!==null&&(Ft.return=null),Ee.return=null}catch(Jt){Qr(Ee,ee,Jt)}}if(ee.subtreeFlags&12854)for(ee=ee.child;ee!==null;)Dc(ee,H),ee=ee.sibling}function Dc(H,ee){var oe=H.alternate,fe=H.flags;switch(H.tag){case 0:case 11:case 14:case 15:if(zn(ee,H),jn(H),fe&4){try{Ca(3,H,H.return),Bo(3,H)}catch(xr){Qr(H,H.return,xr)}try{Ca(5,H,H.return)}catch(xr){Qr(H,H.return,xr)}}break;case 1:zn(ee,H),jn(H),fe&512&&oe!==null&&Qi(oe,oe.return);break;case 5:if(zn(ee,H),jn(H),fe&512&&oe!==null&&Qi(oe,oe.return),H.flags&32){var Ee=H.stateNode;try{dr(Ee,"")}catch(xr){Qr(H,H.return,xr)}}if(fe&4&&(Ee=H.stateNode,Ee!=null)){var Re=H.memoizedProps,Ve=oe!==null?oe.memoizedProps:Re,Rt=H.type,Ft=H.updateQueue;if(H.updateQueue=null,Ft!==null)try{Rt==="input"&&Re.type==="radio"&&Re.name!=null&&Ze(Ee,Re),jt(Rt,Ve);var Jt=jt(Rt,Re);for(Ve=0;Ve<Ft.length;Ve+=2){var sr=Ft[Ve],lr=Ft[Ve+1];sr==="style"?ot(Ee,lr):sr==="dangerouslySetInnerHTML"?gr(Ee,lr):sr==="children"?dr(Ee,lr):me(Ee,sr,lr,Jt)}switch(Rt){case"input":et(Ee,Re);break;case"textarea":tr(Ee,Re);break;case"select":var or=Ee._wrapperState.wasMultiple;Ee._wrapperState.wasMultiple=!!Re.multiple;var mr=Re.value;mr!=null?je(Ee,!!Re.multiple,mr,!1):or!==!!Re.multiple&&(Re.defaultValue!=null?je(Ee,!!Re.multiple,Re.defaultValue,!0):je(Ee,!!Re.multiple,Re.multiple?[]:"",!1))}Ee[ya]=Re}catch(xr){Qr(H,H.return,xr)}}break;case 6:if(zn(ee,H),jn(H),fe&4){if(H.stateNode===null)throw Error(g(162));Ee=H.stateNode,Re=H.memoizedProps;try{Ee.nodeValue=Re}catch(xr){Qr(H,H.return,xr)}}break;case 3:if(zn(ee,H),jn(H),fe&4&&oe!==null&&oe.memoizedState.isDehydrated)try{sa(ee.containerInfo)}catch(xr){Qr(H,H.return,xr)}break;case 4:zn(ee,H),jn(H);break;case 13:zn(ee,H),jn(H),Ee=H.child,Ee.flags&8192&&(Re=Ee.memoizedState!==null,Ee.stateNode.isHidden=Re,!Re||Ee.alternate!==null&&Ee.alternate.memoizedState!==null||(gl=jr())),fe&4&&Oc(H);break;case 22:if(sr=oe!==null&&oe.memoizedState!==null,H.mode&1?(un=(Jt=un)||sr,zn(ee,H),un=Jt):zn(ee,H),jn(H),fe&8192){if(Jt=H.memoizedState!==null,(H.stateNode.isHidden=Jt)&&!sr&&H.mode&1)for(yr=H,sr=H.child;sr!==null;){for(lr=yr=sr;yr!==null;){switch(or=yr,mr=or.child,or.tag){case 0:case 11:case 14:case 15:Ca(4,or,or.return);break;case 1:Qi(or,or.return);var wr=or.stateNode;if(typeof wr.componentWillUnmount=="function"){fe=or,oe=or.return;try{ee=fe,wr.props=ee.memoizedProps,wr.state=ee.memoizedState,wr.componentWillUnmount()}catch(xr){Qr(fe,oe,xr)}}break;case 5:Qi(or,or.return);break;case 22:if(or.memoizedState!==null){jc(lr);continue}}mr!==null?(mr.return=or,yr=mr):jc(lr)}sr=sr.sibling}e:for(sr=null,lr=H;;){if(lr.tag===5){if(sr===null){sr=lr;try{Ee=lr.stateNode,Jt?(Re=Ee.style,typeof Re.setProperty=="function"?Re.setProperty("display","none","important"):Re.display="none"):(Rt=lr.stateNode,Ft=lr.memoizedProps.style,Ve=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null,Rt.style.display=fr("display",Ve))}catch(xr){Qr(H,H.return,xr)}}}else if(lr.tag===6){if(sr===null)try{lr.stateNode.nodeValue=Jt?"":lr.memoizedProps}catch(xr){Qr(H,H.return,xr)}}else if((lr.tag!==22&&lr.tag!==23||lr.memoizedState===null||lr===H)&&lr.child!==null){lr.child.return=lr,lr=lr.child;continue}if(lr===H)break e;for(;lr.sibling===null;){if(lr.return===null||lr.return===H)break e;sr===lr&&(sr=null),lr=lr.return}sr===lr&&(sr=null),lr.sibling.return=lr.return,lr=lr.sibling}}break;case 19:zn(ee,H),jn(H),fe&4&&Oc(H);break;case 21:break;default:zn(ee,H),jn(H)}}function jn(H){var ee=H.flags;if(ee&2){try{e:{for(var oe=H.return;oe!==null;){if(Nc(oe)){var fe=oe;break e}oe=oe.return}throw Error(g(160))}switch(fe.tag){case 5:var Ee=fe.stateNode;fe.flags&32&&(dr(Ee,""),fe.flags&=-33);var Re=zc(H);hl(H,Re,Ee);break;case 3:case 4:var Ve=fe.stateNode.containerInfo,Rt=zc(H);dl(H,Rt,Ve);break;default:throw Error(g(161))}}catch(Ft){Qr(H,H.return,Ft)}H.flags&=-3}ee&4096&&(H.flags&=-4097)}function Ad(H,ee,oe){yr=H,Lc(H)}function Lc(H,ee,oe){for(var fe=(H.mode&1)!==0;yr!==null;){var Ee=yr,Re=Ee.child;if(Ee.tag===22&&fe){var Ve=Ee.memoizedState!==null||Ro;if(!Ve){var Rt=Ee.alternate,Ft=Rt!==null&&Rt.memoizedState!==null||un;Rt=Ro;var Jt=un;if(Ro=Ve,(un=Ft)&&!Jt)for(yr=Ee;yr!==null;)Ve=yr,Ft=Ve.child,Ve.tag===22&&Ve.memoizedState!==null?Uc(Ee):Ft!==null?(Ft.return=Ve,yr=Ft):Uc(Ee);for(;Re!==null;)yr=Re,Lc(Re),Re=Re.sibling;yr=Ee,Ro=Rt,un=Jt}$c(H)}else Ee.subtreeFlags&8772&&Re!==null?(Re.return=Ee,yr=Re):$c(H)}}function $c(H){for(;yr!==null;){var ee=yr;if(ee.flags&8772){var oe=ee.alternate;try{if(ee.flags&8772)switch(ee.tag){case 0:case 11:case 15:un||Bo(5,ee);break;case 1:var fe=ee.stateNode;if(ee.flags&4&&!un)if(oe===null)fe.componentDidMount();else{var Ee=ee.elementType===ee.type?oe.memoizedProps:Bn(ee.type,oe.memoizedProps);fe.componentDidUpdate(Ee,oe.memoizedState,fe.__reactInternalSnapshotBeforeUpdate)}var Re=ee.updateQueue;Re!==null&&ju(ee,Re,fe);break;case 3:var Ve=ee.updateQueue;if(Ve!==null){if(oe=null,ee.child!==null)switch(ee.child.tag){case 5:oe=ee.child.stateNode;break;case 1:oe=ee.child.stateNode}ju(ee,Ve,oe)}break;case 5:var Rt=ee.stateNode;if(oe===null&&ee.flags&4){oe=Rt;var Ft=ee.memoizedProps;switch(ee.type){case"button":case"input":case"select":case"textarea":Ft.autoFocus&&oe.focus();break;case"img":Ft.src&&(oe.src=Ft.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ee.memoizedState===null){var Jt=ee.alternate;if(Jt!==null){var sr=Jt.memoizedState;if(sr!==null){var lr=sr.dehydrated;lr!==null&&sa(lr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(g(163))}un||ee.flags&512&&fl(ee)}catch(or){Qr(ee,ee.return,or)}}if(ee===H){yr=null;break}if(oe=ee.sibling,oe!==null){oe.return=ee.return,yr=oe;break}yr=ee.return}}function jc(H){for(;yr!==null;){var ee=yr;if(ee===H){yr=null;break}var oe=ee.sibling;if(oe!==null){oe.return=ee.return,yr=oe;break}yr=ee.return}}function Uc(H){for(;yr!==null;){var ee=yr;try{switch(ee.tag){case 0:case 11:case 15:var oe=ee.return;try{Bo(4,ee)}catch(Ft){Qr(ee,oe,Ft)}break;case 1:var fe=ee.stateNode;if(typeof fe.componentDidMount=="function"){var Ee=ee.return;try{fe.componentDidMount()}catch(Ft){Qr(ee,Ee,Ft)}}var Re=ee.return;try{fl(ee)}catch(Ft){Qr(ee,Re,Ft)}break;case 5:var Ve=ee.return;try{fl(ee)}catch(Ft){Qr(ee,Ve,Ft)}}}catch(Ft){Qr(ee,ee.return,Ft)}if(ee===H){yr=null;break}var Rt=ee.sibling;if(Rt!==null){Rt.return=ee.return,yr=Rt;break}yr=ee.return}}var Cd=Math.ceil,No=ge.ReactCurrentDispatcher,pl=ge.ReactCurrentOwner,In=ge.ReactCurrentBatchConfig,Mr=0,en=null,Vr=null,an=0,wn=0,qi=ii(0),Yr=0,Ma=null,Ei=0,zo=0,ml=0,Pa=null,mn=null,gl=0,Vi=1/0,Vn=null,Fo=!1,_l=null,ci=null,Oo=!1,fi=null,Do=0,Ra=0,yl=null,Lo=-1,$o=0;function fn(){return Mr&6?jr():Lo!==-1?Lo:Lo=jr()}function di(H){return H.mode&1?Mr&2&&an!==0?an&-an:dd.transition!==null?($o===0&&($o=zl()),$o):(H=Rr,H!==0||(H=window.event,H=H===void 0?16:Hl(H.type)),H):1}function Fn(H,ee,oe,fe){if(50<Ra)throw Ra=0,yl=null,Error(g(185));ra(H,oe,fe),(!(Mr&2)||H!==en)&&(H===en&&(!(Mr&2)&&(zo|=oe),Yr===4&&hi(H,an)),gn(H,fe),oe===1&&Mr===0&&!(ee.mode&1)&&(Vi=jr()+500,ho&&oi()))}function gn(H,ee){var oe=H.callbackNode;df(H,ee);var fe=$a(H,H===en?an:0);if(fe===0)oe!==null&&ea(oe),H.callbackNode=null,H.callbackPriority=0;else if(ee=fe&-fe,H.callbackPriority!==ee){if(oe!=null&&ea(oe),ee===1)H.tag===0?fd(Hc.bind(null,H)):Cu(Hc.bind(null,H)),sd(function(){!(Mr&6)&&oi()}),oe=null;else{switch(Fl(fe)){case 1:oe=Yo;break;case 4:oe=Bl;break;case 16:oe=Fa;break;case 536870912:oe=Nl;break;default:oe=Fa}oe=Xc(oe,Zc.bind(null,H))}H.callbackPriority=ee,H.callbackNode=oe}}function Zc(H,ee){if(Lo=-1,$o=0,Mr&6)throw Error(g(327));var oe=H.callbackNode;if(Ki()&&H.callbackNode!==oe)return null;var fe=$a(H,H===en?an:0);if(fe===0)return null;if(fe&30||fe&H.expiredLanes||ee)ee=jo(H,fe);else{ee=fe;var Ee=Mr;Mr|=2;var Re=Wc();(en!==H||an!==ee)&&(Vn=null,Vi=jr()+500,Si(H,ee));do try{Rd();break}catch(Rt){Gc(H,Rt)}while(!0);Fs(),No.current=Re,Mr=Ee,Vr!==null?ee=0:(en=null,an=0,ee=Yr)}if(ee!==0){if(ee===2&&(Ee=Xo(H),Ee!==0&&(fe=Ee,ee=bl(H,Ee))),ee===1)throw oe=Ma,Si(H,0),hi(H,fe),gn(H,jr()),oe;if(ee===6)hi(H,fe);else{if(Ee=H.current.alternate,!(fe&30)&&!Md(Ee)&&(ee=jo(H,fe),ee===2&&(Re=Xo(H),Re!==0&&(fe=Re,ee=bl(H,Re))),ee===1))throw oe=Ma,Si(H,0),hi(H,fe),gn(H,jr()),oe;switch(H.finishedWork=Ee,H.finishedLanes=fe,ee){case 0:case 1:throw Error(g(345));case 2:Ti(H,mn,Vn);break;case 3:if(hi(H,fe),(fe&130023424)===fe&&(ee=gl+500-jr(),10<ee)){if($a(H,0)!==0)break;if(Ee=H.suspendedLanes,(Ee&fe)!==fe){fn(),H.pingedLanes|=H.suspendedLanes&Ee;break}H.timeoutHandle=Ss(Ti.bind(null,H,mn,Vn),ee);break}Ti(H,mn,Vn);break;case 4:if(hi(H,fe),(fe&4194240)===fe)break;for(ee=H.eventTimes,Ee=-1;0<fe;){var Ve=31-Mn(fe);Re=1<<Ve,Ve=ee[Ve],Ve>Ee&&(Ee=Ve),fe&=~Re}if(fe=Ee,fe=jr()-fe,fe=(120>fe?120:480>fe?480:1080>fe?1080:1920>fe?1920:3e3>fe?3e3:4320>fe?4320:1960*Cd(fe/1960))-fe,10<fe){H.timeoutHandle=Ss(Ti.bind(null,H,mn,Vn),fe);break}Ti(H,mn,Vn);break;case 5:Ti(H,mn,Vn);break;default:throw Error(g(329))}}}return gn(H,jr()),H.callbackNode===oe?Zc.bind(null,H):null}function bl(H,ee){var oe=Pa;return H.current.memoizedState.isDehydrated&&(Si(H,ee).flags|=256),H=jo(H,ee),H!==2&&(ee=mn,mn=oe,ee!==null&&vl(ee)),H}function vl(H){mn===null?mn=H:mn.push.apply(mn,H)}function Md(H){for(var ee=H;;){if(ee.flags&16384){var oe=ee.updateQueue;if(oe!==null&&(oe=oe.stores,oe!==null))for(var fe=0;fe<oe.length;fe++){var Ee=oe[fe],Re=Ee.getSnapshot;Ee=Ee.value;try{if(!Pn(Re(),Ee))return!1}catch{return!1}}}if(oe=ee.child,ee.subtreeFlags&16384&&oe!==null)oe.return=ee,ee=oe;else{if(ee===H)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===H)return!0;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}}return!0}function hi(H,ee){for(ee&=~ml,ee&=~zo,H.suspendedLanes|=ee,H.pingedLanes&=~ee,H=H.expirationTimes;0<ee;){var oe=31-Mn(ee),fe=1<<oe;H[oe]=-1,ee&=~fe}}function Hc(H){if(Mr&6)throw Error(g(327));Ki();var ee=$a(H,0);if(!(ee&1))return gn(H,jr()),null;var oe=jo(H,ee);if(H.tag!==0&&oe===2){var fe=Xo(H);fe!==0&&(ee=fe,oe=bl(H,fe))}if(oe===1)throw oe=Ma,Si(H,0),hi(H,ee),gn(H,jr()),oe;if(oe===6)throw Error(g(345));return H.finishedWork=H.current.alternate,H.finishedLanes=ee,Ti(H,mn,Vn),gn(H,jr()),null}function wl(H,ee){var oe=Mr;Mr|=1;try{return H(ee)}finally{Mr=oe,Mr===0&&(Vi=jr()+500,ho&&oi())}}function ki(H){fi!==null&&fi.tag===0&&!(Mr&6)&&Ki();var ee=Mr;Mr|=1;var oe=In.transition,fe=Rr;try{if(In.transition=null,Rr=1,H)return H()}finally{Rr=fe,In.transition=oe,Mr=ee,!(Mr&6)&&oi()}}function xl(){wn=qi.current,Lr(qi)}function Si(H,ee){H.finishedWork=null,H.finishedLanes=0;var oe=H.timeoutHandle;if(oe!==-1&&(H.timeoutHandle=-1,od(oe)),Vr!==null)for(oe=Vr.return;oe!==null;){var fe=oe;switch(Ps(fe),fe.tag){case 1:fe=fe.type.childContextTypes,fe!=null&&co();break;case 3:Gi(),Lr(dn),Lr(on),Hs();break;case 5:Us(fe);break;case 4:Gi();break;case 13:Lr(Hr);break;case 19:Lr(Hr);break;case 10:Os(fe.type._context);break;case 22:case 23:xl()}oe=oe.return}if(en=H,Vr=H=pi(H.current,null),an=wn=ee,Yr=0,Ma=null,ml=zo=Ei=0,mn=Pa=null,vi!==null){for(ee=0;ee<vi.length;ee++)if(oe=vi[ee],fe=oe.interleaved,fe!==null){oe.interleaved=null;var Ee=fe.next,Re=oe.pending;if(Re!==null){var Ve=Re.next;Re.next=Ee,fe.next=Ve}oe.pending=fe}vi=null}return H}function Gc(H,ee){do{var oe=Vr;try{if(Fs(),ko.current=Ao,So){for(var fe=Gr.memoizedState;fe!==null;){var Ee=fe.queue;Ee!==null&&(Ee.pending=null),fe=fe.next}So=!1}if(xi=0,Jr=Kr=Gr=null,ka=!1,Sa=0,pl.current=null,oe===null||oe.return===null){Yr=1,Ma=ee,Vr=null;break}e:{var Re=H,Ve=oe.return,Rt=oe,Ft=ee;if(ee=an,Rt.flags|=32768,Ft!==null&&typeof Ft=="object"&&typeof Ft.then=="function"){var Jt=Ft,sr=Rt,lr=sr.tag;if(!(sr.mode&1)&&(lr===0||lr===11||lr===15)){var or=sr.alternate;or?(sr.updateQueue=or.updateQueue,sr.memoizedState=or.memoizedState,sr.lanes=or.lanes):(sr.updateQueue=null,sr.memoizedState=null)}var mr=gc(Ve);if(mr!==null){mr.flags&=-257,_c(mr,Ve,Rt,Re,ee),mr.mode&1&&mc(Re,Jt,ee),ee=mr,Ft=Jt;var wr=ee.updateQueue;if(wr===null){var xr=new Set;xr.add(Ft),ee.updateQueue=xr}else wr.add(Ft);break e}else{if(!(ee&1)){mc(Re,Jt,ee),El();break e}Ft=Error(g(426))}}else if(Ur&&Rt.mode&1){var qr=gc(Ve);if(qr!==null){!(qr.flags&65536)&&(qr.flags|=256),_c(qr,Ve,Rt,Re,ee),Ns(Wi(Ft,Rt));break e}}Re=Ft=Wi(Ft,Rt),Yr!==4&&(Yr=2),Pa===null?Pa=[Re]:Pa.push(Re),Re=Ve;do{switch(Re.tag){case 3:Re.flags|=65536,ee&=-ee,Re.lanes|=ee;var Ht=hc(Re,Ft,ee);$u(Re,Ht);break e;case 1:Rt=Ft;var Dt=Re.type,Kt=Re.stateNode;if(!(Re.flags&128)&&(typeof Dt.getDerivedStateFromError=="function"||Kt!==null&&typeof Kt.componentDidCatch=="function"&&(ci===null||!ci.has(Kt)))){Re.flags|=65536,ee&=-ee,Re.lanes|=ee;var ur=pc(Re,Rt,ee);$u(Re,ur);break e}}Re=Re.return}while(Re!==null)}qc(oe)}catch(Er){ee=Er,Vr===oe&&oe!==null&&(Vr=oe=oe.return);continue}break}while(!0)}function Wc(){var H=No.current;return No.current=Ao,H===null?Ao:H}function El(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),en===null||!(Ei&268435455)&&!(zo&268435455)||hi(en,an)}function jo(H,ee){var oe=Mr;Mr|=2;var fe=Wc();(en!==H||an!==ee)&&(Vn=null,Si(H,ee));do try{Pd();break}catch(Ee){Gc(H,Ee)}while(!0);if(Fs(),Mr=oe,No.current=fe,Vr!==null)throw Error(g(261));return en=null,an=0,Yr}function Pd(){for(;Vr!==null;)Qc(Vr)}function Rd(){for(;Vr!==null&&!Na();)Qc(Vr)}function Qc(H){var ee=Yc(H.alternate,H,wn);H.memoizedProps=H.pendingProps,ee===null?qc(H):Vr=ee,pl.current=null}function qc(H){var ee=H;do{var oe=ee.alternate;if(H=ee.return,ee.flags&32768){if(oe=Sd(oe,ee),oe!==null){oe.flags&=32767,Vr=oe;return}if(H!==null)H.flags|=32768,H.subtreeFlags=0,H.deletions=null;else{Yr=6,Vr=null;return}}else if(oe=kd(oe,ee,wn),oe!==null){Vr=oe;return}if(ee=ee.sibling,ee!==null){Vr=ee;return}Vr=ee=H}while(ee!==null);Yr===0&&(Yr=5)}function Ti(H,ee,oe){var fe=Rr,Ee=In.transition;try{In.transition=null,Rr=1,Bd(H,ee,oe,fe)}finally{In.transition=Ee,Rr=fe}return null}function Bd(H,ee,oe,fe){do Ki();while(fi!==null);if(Mr&6)throw Error(g(327));oe=H.finishedWork;var Ee=H.finishedLanes;if(oe===null)return null;if(H.finishedWork=null,H.finishedLanes=0,oe===H.current)throw Error(g(177));H.callbackNode=null,H.callbackPriority=0;var Re=oe.lanes|oe.childLanes;if(hf(H,Re),H===en&&(Vr=en=null,an=0),!(oe.subtreeFlags&2064)&&!(oe.flags&2064)||Oo||(Oo=!0,Xc(Fa,function(){return Ki(),null})),Re=(oe.flags&15990)!==0,oe.subtreeFlags&15990||Re){Re=In.transition,In.transition=null;var Ve=Rr;Rr=1;var Rt=Mr;Mr|=4,pl.current=null,Id(H,oe),Dc(oe,H),Jf(Es),Za=!!xs,Es=xs=null,H.current=oe,Ad(oe),za(),Mr=Rt,Rr=Ve,In.transition=Re}else H.current=oe;if(Oo&&(Oo=!1,fi=H,Do=Ee),Re=H.pendingLanes,Re===0&&(ci=null),sf(oe.stateNode),gn(H,jr()),ee!==null)for(fe=H.onRecoverableError,oe=0;oe<ee.length;oe++)Ee=ee[oe],fe(Ee.value,{componentStack:Ee.stack,digest:Ee.digest});if(Fo)throw Fo=!1,H=_l,_l=null,H;return Do&1&&H.tag!==0&&Ki(),Re=H.pendingLanes,Re&1?H===yl?Ra++:(Ra=0,yl=H):Ra=0,oi(),null}function Ki(){if(fi!==null){var H=Fl(Do),ee=In.transition,oe=Rr;try{if(In.transition=null,Rr=16>H?16:H,fi===null)var fe=!1;else{if(H=fi,fi=null,Do=0,Mr&6)throw Error(g(331));var Ee=Mr;for(Mr|=4,yr=H.current;yr!==null;){var Re=yr,Ve=Re.child;if(yr.flags&16){var Rt=Re.deletions;if(Rt!==null){for(var Ft=0;Ft<Rt.length;Ft++){var Jt=Rt[Ft];for(yr=Jt;yr!==null;){var sr=yr;switch(sr.tag){case 0:case 11:case 15:Ca(8,sr,Re)}var lr=sr.child;if(lr!==null)lr.return=sr,yr=lr;else for(;yr!==null;){sr=yr;var or=sr.sibling,mr=sr.return;if(Bc(sr),sr===Jt){yr=null;break}if(or!==null){or.return=mr,yr=or;break}yr=mr}}}var wr=Re.alternate;if(wr!==null){var xr=wr.child;if(xr!==null){wr.child=null;do{var qr=xr.sibling;xr.sibling=null,xr=qr}while(xr!==null)}}yr=Re}}if(Re.subtreeFlags&2064&&Ve!==null)Ve.return=Re,yr=Ve;else e:for(;yr!==null;){if(Re=yr,Re.flags&2048)switch(Re.tag){case 0:case 11:case 15:Ca(9,Re,Re.return)}var Ht=Re.sibling;if(Ht!==null){Ht.return=Re.return,yr=Ht;break e}yr=Re.return}}var Dt=H.current;for(yr=Dt;yr!==null;){Ve=yr;var Kt=Ve.child;if(Ve.subtreeFlags&2064&&Kt!==null)Kt.return=Ve,yr=Kt;else e:for(Ve=Dt;yr!==null;){if(Rt=yr,Rt.flags&2048)try{switch(Rt.tag){case 0:case 11:case 15:Bo(9,Rt)}}catch(Er){Qr(Rt,Rt.return,Er)}if(Rt===Ve){yr=null;break e}var ur=Rt.sibling;if(ur!==null){ur.return=Rt.return,yr=ur;break e}yr=Rt.return}}if(Mr=Ee,oi(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Oa,H)}catch{}fe=!0}return fe}finally{Rr=oe,In.transition=ee}}return!1}function Vc(H,ee,oe){ee=Wi(oe,ee),ee=hc(H,ee,1),H=li(H,ee,1),ee=fn(),H!==null&&(ra(H,1,ee),gn(H,ee))}function Qr(H,ee,oe){if(H.tag===3)Vc(H,H,oe);else for(;ee!==null;){if(ee.tag===3){Vc(ee,H,oe);break}else if(ee.tag===1){var fe=ee.stateNode;if(typeof ee.type.getDerivedStateFromError=="function"||typeof fe.componentDidCatch=="function"&&(ci===null||!ci.has(fe))){H=Wi(oe,H),H=pc(ee,H,1),ee=li(ee,H,1),H=fn(),ee!==null&&(ra(ee,1,H),gn(ee,H));break}}ee=ee.return}}function Nd(H,ee,oe){var fe=H.pingCache;fe!==null&&fe.delete(ee),ee=fn(),H.pingedLanes|=H.suspendedLanes&oe,en===H&&(an&oe)===oe&&(Yr===4||Yr===3&&(an&130023424)===an&&500>jr()-gl?Si(H,0):ml|=oe),gn(H,ee)}function Kc(H,ee){ee===0&&(H.mode&1?(ee=La,La<<=1,!(La&130023424)&&(La=4194304)):ee=1);var oe=fn();H=Wn(H,ee),H!==null&&(ra(H,ee,oe),gn(H,oe))}function zd(H){var ee=H.memoizedState,oe=0;ee!==null&&(oe=ee.retryLane),Kc(H,oe)}function Fd(H,ee){var oe=0;switch(H.tag){case 13:var fe=H.stateNode,Ee=H.memoizedState;Ee!==null&&(oe=Ee.retryLane);break;case 19:fe=H.stateNode;break;default:throw Error(g(314))}fe!==null&&fe.delete(ee),Kc(H,oe)}var Yc;Yc=function(H,ee,oe){if(H!==null)if(H.memoizedProps!==ee.pendingProps||dn.current)pn=!0;else{if(!(H.lanes&oe)&&!(ee.flags&128))return pn=!1,Ed(H,ee,oe);pn=!!(H.flags&131072)}else pn=!1,Ur&&ee.flags&1048576&&Mu(ee,mo,ee.index);switch(ee.lanes=0,ee.tag){case 2:var fe=ee.type;Po(H,ee),H=ee.pendingProps;var Ee=Di(ee,on.current);Hi(ee,oe),Ee=Qs(null,ee,fe,H,Ee,oe);var Re=qs();return ee.flags|=1,typeof Ee=="object"&&Ee!==null&&typeof Ee.render=="function"&&Ee.$$typeof===void 0?(ee.tag=1,ee.memoizedState=null,ee.updateQueue=null,hn(fe)?(Re=!0,fo(ee)):Re=!1,ee.memoizedState=Ee.state!==null&&Ee.state!==void 0?Ee.state:null,$s(ee),Ee.updater=Co,ee.stateNode=Ee,Ee._reactInternals=ee,el(ee,fe,H,oe),ee=il(null,ee,fe,!0,Re,oe)):(ee.tag=0,Ur&&Re&&Ms(ee),cn(null,ee,Ee,oe),ee=ee.child),ee;case 16:fe=ee.elementType;e:{switch(Po(H,ee),H=ee.pendingProps,Ee=fe._init,fe=Ee(fe._payload),ee.type=fe,Ee=ee.tag=Dd(fe),H=Bn(fe,H),Ee){case 0:ee=nl(null,ee,fe,H,oe);break e;case 1:ee=Ec(null,ee,fe,H,oe);break e;case 11:ee=yc(null,ee,fe,H,oe);break e;case 14:ee=bc(null,ee,fe,Bn(fe.type,H),oe);break e}throw Error(g(306,fe,""))}return ee;case 0:return fe=ee.type,Ee=ee.pendingProps,Ee=ee.elementType===fe?Ee:Bn(fe,Ee),nl(H,ee,fe,Ee,oe);case 1:return fe=ee.type,Ee=ee.pendingProps,Ee=ee.elementType===fe?Ee:Bn(fe,Ee),Ec(H,ee,fe,Ee,oe);case 3:e:{if(kc(ee),H===null)throw Error(g(387));fe=ee.pendingProps,Re=ee.memoizedState,Ee=Re.element,Lu(H,ee),xo(ee,fe,null,oe);var Ve=ee.memoizedState;if(fe=Ve.element,Re.isDehydrated)if(Re={element:fe,isDehydrated:!1,cache:Ve.cache,pendingSuspenseBoundaries:Ve.pendingSuspenseBoundaries,transitions:Ve.transitions},ee.updateQueue.baseState=Re,ee.memoizedState=Re,ee.flags&256){Ee=Wi(Error(g(423)),ee),ee=Sc(H,ee,fe,oe,Ee);break e}else if(fe!==Ee){Ee=Wi(Error(g(424)),ee),ee=Sc(H,ee,fe,oe,Ee);break e}else for(vn=ni(ee.stateNode.containerInfo.firstChild),bn=ee,Ur=!0,Rn=null,oe=Ou(ee,null,fe,oe),ee.child=oe;oe;)oe.flags=oe.flags&-3|4096,oe=oe.sibling;else{if(ji(),fe===Ee){ee=qn(H,ee,oe);break e}cn(H,ee,fe,oe)}ee=ee.child}return ee;case 5:return Uu(ee),H===null&&Bs(ee),fe=ee.type,Ee=ee.pendingProps,Re=H!==null?H.memoizedProps:null,Ve=Ee.children,ks(fe,Ee)?Ve=null:Re!==null&&ks(fe,Re)&&(ee.flags|=32),xc(H,ee),cn(H,ee,Ve,oe),ee.child;case 6:return H===null&&Bs(ee),null;case 13:return Tc(H,ee,oe);case 4:return js(ee,ee.stateNode.containerInfo),fe=ee.pendingProps,H===null?ee.child=Ui(ee,null,fe,oe):cn(H,ee,fe,oe),ee.child;case 11:return fe=ee.type,Ee=ee.pendingProps,Ee=ee.elementType===fe?Ee:Bn(fe,Ee),yc(H,ee,fe,Ee,oe);case 7:return cn(H,ee,ee.pendingProps,oe),ee.child;case 8:return cn(H,ee,ee.pendingProps.children,oe),ee.child;case 12:return cn(H,ee,ee.pendingProps.children,oe),ee.child;case 10:e:{if(fe=ee.type._context,Ee=ee.pendingProps,Re=ee.memoizedProps,Ve=Ee.value,Nr(bo,fe._currentValue),fe._currentValue=Ve,Re!==null)if(Pn(Re.value,Ve)){if(Re.children===Ee.children&&!dn.current){ee=qn(H,ee,oe);break e}}else for(Re=ee.child,Re!==null&&(Re.return=ee);Re!==null;){var Rt=Re.dependencies;if(Rt!==null){Ve=Re.child;for(var Ft=Rt.firstContext;Ft!==null;){if(Ft.context===fe){if(Re.tag===1){Ft=Qn(-1,oe&-oe),Ft.tag=2;var Jt=Re.updateQueue;if(Jt!==null){Jt=Jt.shared;var sr=Jt.pending;sr===null?Ft.next=Ft:(Ft.next=sr.next,sr.next=Ft),Jt.pending=Ft}}Re.lanes|=oe,Ft=Re.alternate,Ft!==null&&(Ft.lanes|=oe),Ds(Re.return,oe,ee),Rt.lanes|=oe;break}Ft=Ft.next}}else if(Re.tag===10)Ve=Re.type===ee.type?null:Re.child;else if(Re.tag===18){if(Ve=Re.return,Ve===null)throw Error(g(341));Ve.lanes|=oe,Rt=Ve.alternate,Rt!==null&&(Rt.lanes|=oe),Ds(Ve,oe,ee),Ve=Re.sibling}else Ve=Re.child;if(Ve!==null)Ve.return=Re;else for(Ve=Re;Ve!==null;){if(Ve===ee){Ve=null;break}if(Re=Ve.sibling,Re!==null){Re.return=Ve.return,Ve=Re;break}Ve=Ve.return}Re=Ve}cn(H,ee,Ee.children,oe),ee=ee.child}return ee;case 9:return Ee=ee.type,fe=ee.pendingProps.children,Hi(ee,oe),Ee=Sn(Ee),fe=fe(Ee),ee.flags|=1,cn(H,ee,fe,oe),ee.child;case 14:return fe=ee.type,Ee=Bn(fe,ee.pendingProps),Ee=Bn(fe.type,Ee),bc(H,ee,fe,Ee,oe);case 15:return vc(H,ee,ee.type,ee.pendingProps,oe);case 17:return fe=ee.type,Ee=ee.pendingProps,Ee=ee.elementType===fe?Ee:Bn(fe,Ee),Po(H,ee),ee.tag=1,hn(fe)?(H=!0,fo(ee)):H=!1,Hi(ee,oe),fc(ee,fe,Ee),el(ee,fe,Ee,oe),il(null,ee,fe,!0,H,oe);case 19:return Ac(H,ee,oe);case 22:return wc(H,ee,oe)}throw Error(g(156,ee.tag))};function Xc(H,ee){return Ji(H,ee)}function Od(H,ee,oe,fe){this.tag=H,this.key=oe,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ee,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=fe,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(H,ee,oe,fe){return new Od(H,ee,oe,fe)}function kl(H){return H=H.prototype,!(!H||!H.isReactComponent)}function Dd(H){if(typeof H=="function")return kl(H)?1:0;if(H!=null){if(H=H.$$typeof,H===Ie)return 11;if(H===Me)return 14}return 2}function pi(H,ee){var oe=H.alternate;return oe===null?(oe=An(H.tag,ee,H.key,H.mode),oe.elementType=H.elementType,oe.type=H.type,oe.stateNode=H.stateNode,oe.alternate=H,H.alternate=oe):(oe.pendingProps=ee,oe.type=H.type,oe.flags=0,oe.subtreeFlags=0,oe.deletions=null),oe.flags=H.flags&14680064,oe.childLanes=H.childLanes,oe.lanes=H.lanes,oe.child=H.child,oe.memoizedProps=H.memoizedProps,oe.memoizedState=H.memoizedState,oe.updateQueue=H.updateQueue,ee=H.dependencies,oe.dependencies=ee===null?null:{lanes:ee.lanes,firstContext:ee.firstContext},oe.sibling=H.sibling,oe.index=H.index,oe.ref=H.ref,oe}function Uo(H,ee,oe,fe,Ee,Re){var Ve=2;if(fe=H,typeof H=="function")kl(H)&&(Ve=1);else if(typeof H=="string")Ve=5;else e:switch(H){case ye:return Ii(oe.children,Ee,Re,ee);case Se:Ve=8,Ee|=8;break;case we:return H=An(12,oe,ee,Ee|2),H.elementType=we,H.lanes=Re,H;case Le:return H=An(13,oe,ee,Ee),H.elementType=Le,H.lanes=Re,H;case Be:return H=An(19,oe,ee,Ee),H.elementType=Be,H.lanes=Re,H;case Ye:return Zo(oe,Ee,Re,ee);default:if(typeof H=="object"&&H!==null)switch(H.$$typeof){case Te:Ve=10;break e;case _e:Ve=9;break e;case Ie:Ve=11;break e;case Me:Ve=14;break e;case Ne:Ve=16,fe=null;break e}throw Error(g(130,H==null?H:typeof H,""))}return ee=An(Ve,oe,ee,Ee),ee.elementType=H,ee.type=fe,ee.lanes=Re,ee}function Ii(H,ee,oe,fe){return H=An(7,H,fe,ee),H.lanes=oe,H}function Zo(H,ee,oe,fe){return H=An(22,H,fe,ee),H.elementType=Ye,H.lanes=oe,H.stateNode={isHidden:!1},H}function Sl(H,ee,oe){return H=An(6,H,null,ee),H.lanes=oe,H}function Tl(H,ee,oe){return ee=An(4,H.children!==null?H.children:[],H.key,ee),ee.lanes=oe,ee.stateNode={containerInfo:H.containerInfo,pendingChildren:null,implementation:H.implementation},ee}function Ld(H,ee,oe,fe,Ee){this.tag=ee,this.containerInfo=H,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jo(0),this.expirationTimes=Jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.identifierPrefix=fe,this.onRecoverableError=Ee,this.mutableSourceEagerHydrationData=null}function Il(H,ee,oe,fe,Ee,Re,Ve,Rt,Ft){return H=new Ld(H,ee,oe,Rt,Ft),ee===1?(ee=1,Re===!0&&(ee|=8)):ee=0,Re=An(3,null,null,ee),H.current=Re,Re.stateNode=H,Re.memoizedState={element:fe,isDehydrated:oe,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(Re),H}function $d(H,ee,oe){var fe=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ke,key:fe==null?null:""+fe,children:H,containerInfo:ee,implementation:oe}}function Jc(H){if(!H)return ai;H=H._reactInternals;e:{if(Zr(H)!==H||H.tag!==1)throw Error(g(170));var ee=H;do{switch(ee.tag){case 3:ee=ee.stateNode.context;break e;case 1:if(hn(ee.type)){ee=ee.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ee=ee.return}while(ee!==null);throw Error(g(171))}if(H.tag===1){var oe=H.type;if(hn(oe))return Iu(H,oe,ee)}return ee}function ef(H,ee,oe,fe,Ee,Re,Ve,Rt,Ft){return H=Il(oe,fe,!0,H,Ee,Re,Ve,Rt,Ft),H.context=Jc(null),oe=H.current,fe=fn(),Ee=di(oe),Re=Qn(fe,Ee),Re.callback=ee??null,li(oe,Re,Ee),H.current.lanes=Ee,ra(H,Ee,fe),gn(H,fe),H}function Ho(H,ee,oe,fe){var Ee=ee.current,Re=fn(),Ve=di(Ee);return oe=Jc(oe),ee.context===null?ee.context=oe:ee.pendingContext=oe,ee=Qn(Re,Ve),ee.payload={element:H},fe=fe===void 0?null:fe,fe!==null&&(ee.callback=fe),H=li(Ee,ee,Ve),H!==null&&(Fn(H,Ee,Ve,Re),wo(H,Ee,Ve)),Ve}function Go(H){if(H=H.current,!H.child)return null;switch(H.child.tag){case 5:return H.child.stateNode;default:return H.child.stateNode}}function tf(H,ee){if(H=H.memoizedState,H!==null&&H.dehydrated!==null){var oe=H.retryLane;H.retryLane=oe!==0&&oe<ee?oe:ee}}function Al(H,ee){tf(H,ee),(H=H.alternate)&&tf(H,ee)}var rf=typeof reportError=="function"?reportError:function(H){console.error(H)};function Cl(H){this._internalRoot=H}Wo.prototype.render=Cl.prototype.render=function(H){var ee=this._internalRoot;if(ee===null)throw Error(g(409));Ho(H,ee,null,null)},Wo.prototype.unmount=Cl.prototype.unmount=function(){var H=this._internalRoot;if(H!==null){this._internalRoot=null;var ee=H.containerInfo;ki(function(){Ho(null,H,null,null)}),ee[Un]=null}};function Wo(H){this._internalRoot=H}Wo.prototype.unstable_scheduleHydration=function(H){if(H){var ee=Ll();H={blockedOn:null,target:H,priority:ee};for(var oe=0;oe<ei.length&&ee!==0&&ee<ei[oe].priority;oe++);ei.splice(oe,0,H),oe===0&&Ul(H)}};function Ml(H){return!(!H||H.nodeType!==1&&H.nodeType!==9&&H.nodeType!==11)}function Qo(H){return!(!H||H.nodeType!==1&&H.nodeType!==9&&H.nodeType!==11&&(H.nodeType!==8||H.nodeValue!==" react-mount-point-unstable "))}function nf(){}function jd(H,ee,oe,fe,Ee){if(Ee){if(typeof fe=="function"){var Re=fe;fe=function(){var Jt=Go(Ve);Re.call(Jt)}}var Ve=ef(ee,fe,H,0,null,!1,!1,"",nf);return H._reactRootContainer=Ve,H[Un]=Ve.current,ga(H.nodeType===8?H.parentNode:H),ki(),Ve}for(;Ee=H.lastChild;)H.removeChild(Ee);if(typeof fe=="function"){var Rt=fe;fe=function(){var Jt=Go(Ft);Rt.call(Jt)}}var Ft=Il(H,0,!1,null,null,!1,!1,"",nf);return H._reactRootContainer=Ft,H[Un]=Ft.current,ga(H.nodeType===8?H.parentNode:H),ki(function(){Ho(ee,Ft,oe,fe)}),Ft}function qo(H,ee,oe,fe,Ee){var Re=oe._reactRootContainer;if(Re){var Ve=Re;if(typeof Ee=="function"){var Rt=Ee;Ee=function(){var Ft=Go(Ve);Rt.call(Ft)}}Ho(ee,Ve,H,Ee)}else Ve=jd(oe,ee,H,Ee,fe);return Go(Ve)}Ol=function(H){switch(H.tag){case 3:var ee=H.stateNode;if(ee.current.memoizedState.isDehydrated){var oe=ta(ee.pendingLanes);oe!==0&&(es(ee,oe|1),gn(ee,jr()),!(Mr&6)&&(Vi=jr()+500,oi()))}break;case 13:ki(function(){var fe=Wn(H,1);if(fe!==null){var Ee=fn();Fn(fe,H,1,Ee)}}),Al(H,1)}},ts=function(H){if(H.tag===13){var ee=Wn(H,134217728);if(ee!==null){var oe=fn();Fn(ee,H,134217728,oe)}Al(H,134217728)}},Dl=function(H){if(H.tag===13){var ee=di(H),oe=Wn(H,ee);if(oe!==null){var fe=fn();Fn(oe,H,ee,fe)}Al(H,ee)}},Ll=function(){return Rr},$l=function(H,ee){var oe=Rr;try{return Rr=H,ee()}finally{Rr=oe}},br=function(H,ee,oe){switch(ee){case"input":if(et(H,oe),ee=oe.name,oe.type==="radio"&&ee!=null){for(oe=H;oe.parentNode;)oe=oe.parentNode;for(oe=oe.querySelectorAll("input[name="+JSON.stringify(""+ee)+'][type="radio"]'),ee=0;ee<oe.length;ee++){var fe=oe[ee];if(fe!==H&&fe.form===H.form){var Ee=uo(fe);if(!Ee)throw Error(g(90));qe(fe),et(fe,Ee)}}}break;case"textarea":tr(H,oe);break;case"select":ee=oe.value,ee!=null&&je(H,!!oe.multiple,ee,!1)}},Ut=wl,_r=ki;var Ud={usingClientEntryPoint:!1,Events:[ba,Fi,uo,ft,$t,wl]},Ba={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zd={bundleType:Ba.bundleType,version:Ba.version,rendererPackageName:Ba.rendererPackageName,rendererConfig:Ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ge.ReactCurrentDispatcher,findHostInstanceByFiber:function(H){return H=Yi(H),H===null?null:H.stateNode},findFiberByHostInstance:Ba.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{Oa=Vo.inject(Zd),On=Vo}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ud,reactDom_production_min.createPortal=function(H,ee){var oe=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ml(ee))throw Error(g(200));return $d(H,ee,null,oe)},reactDom_production_min.createRoot=function(H,ee){if(!Ml(H))throw Error(g(299));var oe=!1,fe="",Ee=rf;return ee!=null&&(ee.unstable_strictMode===!0&&(oe=!0),ee.identifierPrefix!==void 0&&(fe=ee.identifierPrefix),ee.onRecoverableError!==void 0&&(Ee=ee.onRecoverableError)),ee=Il(H,1,!1,null,null,oe,!1,fe,Ee),H[Un]=ee.current,ga(H.nodeType===8?H.parentNode:H),new Cl(ee)},reactDom_production_min.findDOMNode=function(H){if(H==null)return null;if(H.nodeType===1)return H;var ee=H._reactInternals;if(ee===void 0)throw typeof H.render=="function"?Error(g(188)):(H=Object.keys(H).join(","),Error(g(268,H)));return H=Yi(ee),H=H===null?null:H.stateNode,H},reactDom_production_min.flushSync=function(H){return ki(H)},reactDom_production_min.hydrate=function(H,ee,oe){if(!Qo(ee))throw Error(g(200));return qo(null,H,ee,!0,oe)},reactDom_production_min.hydrateRoot=function(H,ee,oe){if(!Ml(H))throw Error(g(405));var fe=oe!=null&&oe.hydratedSources||null,Ee=!1,Re="",Ve=rf;if(oe!=null&&(oe.unstable_strictMode===!0&&(Ee=!0),oe.identifierPrefix!==void 0&&(Re=oe.identifierPrefix),oe.onRecoverableError!==void 0&&(Ve=oe.onRecoverableError)),ee=ef(ee,null,H,1,oe??null,Ee,!1,Re,Ve),H[Un]=ee.current,ga(H),fe)for(H=0;H<fe.length;H++)oe=fe[H],Ee=oe._getVersion,Ee=Ee(oe._source),ee.mutableSourceEagerHydrationData==null?ee.mutableSourceEagerHydrationData=[oe,Ee]:ee.mutableSourceEagerHydrationData.push(oe,Ee);return new Wo(ee)},reactDom_production_min.render=function(H,ee,oe){if(!Qo(ee))throw Error(g(200));return qo(null,H,ee,!1,oe)},reactDom_production_min.unmountComponentAtNode=function(H){if(!Qo(H))throw Error(g(40));return H._reactRootContainer?(ki(function(){qo(null,null,H,!1,function(){H._reactRootContainer=null,H[Un]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=wl,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(H,ee,oe,fe){if(!Qo(oe))throw Error(g(200));if(H==null||H._reactInternals===void 0)throw Error(g(38));return qo(H,ee,oe,!1,fe)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var d=requireReactDom();return client.createRoot=d.createRoot,client.hydrateRoot=d.hydrateRoot,client}var clientExports=requireClient(),reactExports=requireReact();const ct=getDefaultExportFromCjs$1(reactExports);var reactFastCompare,hasRequiredReactFastCompare;function requireReactFastCompare(){if(hasRequiredReactFastCompare)return reactFastCompare;hasRequiredReactFastCompare=1;var d=typeof Element<"u",m=typeof Map=="function",g=typeof Set=="function",w=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function D(j,q){if(j===q)return!0;if(j&&q&&typeof j=="object"&&typeof q=="object"){if(j.constructor!==q.constructor)return!1;var te,re,ne;if(Array.isArray(j)){if(te=j.length,te!=q.length)return!1;for(re=te;re--!==0;)if(!D(j[re],q[re]))return!1;return!0}var ie;if(m&&j instanceof Map&&q instanceof Map){if(j.size!==q.size)return!1;for(ie=j.entries();!(re=ie.next()).done;)if(!q.has(re.value[0]))return!1;for(ie=j.entries();!(re=ie.next()).done;)if(!D(re.value[1],q.get(re.value[0])))return!1;return!0}if(g&&j instanceof Set&&q instanceof Set){if(j.size!==q.size)return!1;for(ie=j.entries();!(re=ie.next()).done;)if(!q.has(re.value[0]))return!1;return!0}if(w&&ArrayBuffer.isView(j)&&ArrayBuffer.isView(q)){if(te=j.length,te!=q.length)return!1;for(re=te;re--!==0;)if(j[re]!==q[re])return!1;return!0}if(j.constructor===RegExp)return j.source===q.source&&j.flags===q.flags;if(j.valueOf!==Object.prototype.valueOf&&typeof j.valueOf=="function"&&typeof q.valueOf=="function")return j.valueOf()===q.valueOf();if(j.toString!==Object.prototype.toString&&typeof j.toString=="function"&&typeof q.toString=="function")return j.toString()===q.toString();if(ne=Object.keys(j),te=ne.length,te!==Object.keys(q).length)return!1;for(re=te;re--!==0;)if(!Object.prototype.hasOwnProperty.call(q,ne[re]))return!1;if(d&&j instanceof Element)return!1;for(re=te;re--!==0;)if(!((ne[re]==="_owner"||ne[re]==="__v"||ne[re]==="__o")&&j.$$typeof)&&!D(j[ne[re]],q[ne[re]]))return!1;return!0}return j!==j&&q!==q}return reactFastCompare=function(q,te){try{return D(q,te)}catch(re){if((re.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw re}},reactFastCompare}var reactFastCompareExports=requireReactFastCompare();const fastCompare=getDefaultExportFromCjs$1(reactFastCompareExports);var browser$2,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;var d=function(m,g,w,D,j,q,te,re){if(!m){var ne;if(g===void 0)ne=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var ie=[w,D,j,q,te,re],ae=0;ne=new Error(g.replace(/%s/g,function(){return ie[ae++]})),ne.name="Invariant Violation"}throw ne.framesToPop=1,ne}};return browser$2=d,browser$2}var browserExports$1=requireBrowser();const invariant$1=getDefaultExportFromCjs$1(browserExports$1);var shallowequal,hasRequiredShallowequal;function requireShallowequal(){return hasRequiredShallowequal||(hasRequiredShallowequal=1,shallowequal=function(m,g,w,D){var j=w?w.call(D,m,g):void 0;if(j!==void 0)return!!j;if(m===g)return!0;if(typeof m!="object"||!m||typeof g!="object"||!g)return!1;var q=Object.keys(m),te=Object.keys(g);if(q.length!==te.length)return!1;for(var re=Object.prototype.hasOwnProperty.bind(g),ne=0;ne<q.length;ne++){var ie=q[ne];if(!re(ie))return!1;var ae=m[ie],se=g[ie];if(j=w?w.call(D,ae,se,ie):void 0,j===!1||j===void 0&&ae!==se)return!1}return!0}),shallowequal}var shallowequalExports=requireShallowequal();const shallowEqual=getDefaultExportFromCjs$1(shallowequalExports);var TAG_NAMES=(d=>(d.BASE="base",d.BODY="body",d.HEAD="head",d.HTML="html",d.LINK="link",d.META="meta",d.NOSCRIPT="noscript",d.SCRIPT="script",d.STYLE="style",d.TITLE="title",d.FRAGMENT="Symbol(react.fragment)",d))(TAG_NAMES||{}),SEO_PRIORITY_TAGS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},VALID_TAG_NAMES=Object.values(TAG_NAMES),REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HTML_TAG_MAP=Object.entries(REACT_TAG_MAP).reduce((d,[m,g])=>(d[g]=m,d),{}),HELMET_ATTRIBUTE="data-rh",HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},getInnermostProperty=(d,m)=>{for(let g=d.length-1;g>=0;g-=1){const w=d[g];if(Object.prototype.hasOwnProperty.call(w,m))return w[m]}return null},getTitleFromPropsList=d=>{let m=getInnermostProperty(d,"title");const g=getInnermostProperty(d,HELMET_PROPS.TITLE_TEMPLATE);if(Array.isArray(m)&&(m=m.join("")),g&&m)return g.replace(/%s/g,()=>m);const w=getInnermostProperty(d,HELMET_PROPS.DEFAULT_TITLE);return m||w||void 0},getOnChangeClientState=d=>getInnermostProperty(d,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||(()=>{}),getAttributesFromPropsList=(d,m)=>m.filter(g=>typeof g[d]<"u").map(g=>g[d]).reduce((g,w)=>({...g,...w}),{}),getBaseTagFromPropsList=(d,m)=>m.filter(g=>typeof g.base<"u").map(g=>g.base).reverse().reduce((g,w)=>{if(!g.length){const D=Object.keys(w);for(let j=0;j<D.length;j+=1){const te=D[j].toLowerCase();if(d.indexOf(te)!==-1&&w[te])return g.concat(w)}}return g},[]),warn=d=>console&&typeof console.warn=="function"&&console.warn(d),getTagsFromPropsList=(d,m,g)=>{const w={};return g.filter(D=>Array.isArray(D[d])?!0:(typeof D[d]<"u"&&warn(`Helmet: ${d} should be of type "Array". Instead found type "${typeof D[d]}"`),!1)).map(D=>D[d]).reverse().reduce((D,j)=>{const q={};j.filter(re=>{let ne;const ie=Object.keys(re);for(let se=0;se<ie.length;se+=1){const le=ie[se],ue=le.toLowerCase();m.indexOf(ue)!==-1&&!(ne==="rel"&&re[ne].toLowerCase()==="canonical")&&!(ue==="rel"&&re[ue].toLowerCase()==="stylesheet")&&(ne=ue),m.indexOf(le)!==-1&&(le==="innerHTML"||le==="cssText"||le==="itemprop")&&(ne=le)}if(!ne||!re[ne])return!1;const ae=re[ne].toLowerCase();return w[ne]||(w[ne]={}),q[ne]||(q[ne]={}),w[ne][ae]?!1:(q[ne][ae]=!0,!0)}).reverse().forEach(re=>D.push(re));const te=Object.keys(q);for(let re=0;re<te.length;re+=1){const ne=te[re],ie={...w[ne],...q[ne]};w[ne]=ie}return D},[]).reverse()},getAnyTrueFromPropsList=(d,m)=>{if(Array.isArray(d)&&d.length){for(let g=0;g<d.length;g+=1)if(d[g][m])return!0}return!1},reducePropsToState=d=>({baseTag:getBaseTagFromPropsList(["href"],d),bodyAttributes:getAttributesFromPropsList("bodyAttributes",d),defer:getInnermostProperty(d,HELMET_PROPS.DEFER),encode:getInnermostProperty(d,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList("htmlAttributes",d),linkTags:getTagsFromPropsList("link",["rel","href"],d),metaTags:getTagsFromPropsList("meta",["name","charset","http-equiv","property","itemprop"],d),noscriptTags:getTagsFromPropsList("noscript",["innerHTML"],d),onChangeClientState:getOnChangeClientState(d),scriptTags:getTagsFromPropsList("script",["src","innerHTML"],d),styleTags:getTagsFromPropsList("style",["cssText"],d),title:getTitleFromPropsList(d),titleAttributes:getAttributesFromPropsList("titleAttributes",d),prioritizeSeoTags:getAnyTrueFromPropsList(d,HELMET_PROPS.PRIORITIZE_SEO_TAGS)}),flattenArray=d=>Array.isArray(d)?d.join(""):d,checkIfPropsMatch=(d,m)=>{const g=Object.keys(d);for(let w=0;w<g.length;w+=1)if(m[g[w]]&&m[g[w]].includes(d[g[w]]))return!0;return!1},prioritizer=(d,m)=>Array.isArray(d)?d.reduce((g,w)=>(checkIfPropsMatch(w,m)?g.priority.push(w):g.default.push(w),g),{priority:[],default:[]}):{default:d,priority:[]},without=(d,m)=>({...d,[m]:void 0}),SELF_CLOSING_TAGS=["noscript","script","style"],encodeSpecialCharacters=(d,m=!0)=>m===!1?String(d):String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=d=>Object.keys(d).reduce((m,g)=>{const w=typeof d[g]<"u"?`${g}="${d[g]}"`:`${g}`;return m?`${m} ${w}`:w},""),generateTitleAsString=(d,m,g,w)=>{const D=generateElementAttributesAsString(g),j=flattenArray(m);return D?`<${d} ${HELMET_ATTRIBUTE}="true" ${D}>${encodeSpecialCharacters(j,w)}</${d}>`:`<${d} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(j,w)}</${d}>`},generateTagsAsString=(d,m,g=!0)=>m.reduce((w,D)=>{const j=D,q=Object.keys(j).filter(ne=>!(ne==="innerHTML"||ne==="cssText")).reduce((ne,ie)=>{const ae=typeof j[ie]>"u"?ie:`${ie}="${encodeSpecialCharacters(j[ie],g)}"`;return ne?`${ne} ${ae}`:ae},""),te=j.innerHTML||j.cssText||"",re=SELF_CLOSING_TAGS.indexOf(d)===-1;return`${w}<${d} ${HELMET_ATTRIBUTE}="true" ${q}${re?"/>":`>${te}</${d}>`}`},""),convertElementAttributesToReactProps=(d,m={})=>Object.keys(d).reduce((g,w)=>{const D=REACT_TAG_MAP[w];return g[D||w]=d[w],g},m),generateTitleAsReactComponent=(d,m,g)=>{const w={key:m,[HELMET_ATTRIBUTE]:!0},D=convertElementAttributesToReactProps(g,w);return[ct.createElement("title",D,m)]},generateTagsAsReactComponent=(d,m)=>m.map((g,w)=>{const D={key:w,[HELMET_ATTRIBUTE]:!0};return Object.keys(g).forEach(j=>{const te=REACT_TAG_MAP[j]||j;if(te==="innerHTML"||te==="cssText"){const re=g.innerHTML||g.cssText;D.dangerouslySetInnerHTML={__html:re}}else D[te]=g[j]}),ct.createElement(d,D)}),getMethodsForTag=(d,m,g=!0)=>{switch(d){case"title":return{toComponent:()=>generateTitleAsReactComponent(d,m.title,m.titleAttributes),toString:()=>generateTitleAsString(d,m.title,m.titleAttributes,g)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps(m),toString:()=>generateElementAttributesAsString(m)};default:return{toComponent:()=>generateTagsAsReactComponent(d,m),toString:()=>generateTagsAsString(d,m,g)}}},getPriorityMethods=({metaTags:d,linkTags:m,scriptTags:g,encode:w})=>{const D=prioritizer(d,SEO_PRIORITY_TAGS.meta),j=prioritizer(m,SEO_PRIORITY_TAGS.link),q=prioritizer(g,SEO_PRIORITY_TAGS.script);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",D.priority),...generateTagsAsReactComponent("link",j.priority),...generateTagsAsReactComponent("script",q.priority)],toString:()=>`${getMethodsForTag("meta",D.priority,w)} ${getMethodsForTag("link",j.priority,w)} ${getMethodsForTag("script",q.priority,w)}`},metaTags:D.default,linkTags:j.default,scriptTags:q.default}},mapStateOnServer=d=>{const{baseTag:m,bodyAttributes:g,encode:w=!0,htmlAttributes:D,noscriptTags:j,styleTags:q,title:te="",titleAttributes:re,prioritizeSeoTags:ne}=d;let{linkTags:ie,metaTags:ae,scriptTags:se}=d,le={toComponent:()=>{},toString:()=>""};return ne&&({priorityMethods:le,linkTags:ie,metaTags:ae,scriptTags:se}=getPriorityMethods(d)),{priority:le,base:getMethodsForTag("base",m,w),bodyAttributes:getMethodsForTag("bodyAttributes",g,w),htmlAttributes:getMethodsForTag("htmlAttributes",D,w),link:getMethodsForTag("link",ie,w),meta:getMethodsForTag("meta",ae,w),noscript:getMethodsForTag("noscript",j,w),script:getMethodsForTag("script",se,w),style:getMethodsForTag("style",q,w),title:getMethodsForTag("title",{title:te,titleAttributes:re},w)}},server_default=mapStateOnServer,instances=[],isDocument=!!(typeof window<"u"&&window.document&&window.document.createElement),HelmetData=class{constructor(d,m){vr(this,"instances",[]);vr(this,"canUseDOM",isDocument);vr(this,"context");vr(this,"value",{setHelmet:d=>{this.context.helmet=d},helmetInstances:{get:()=>this.canUseDOM?instances:this.instances,add:d=>{(this.canUseDOM?instances:this.instances).push(d)},remove:d=>{const m=(this.canUseDOM?instances:this.instances).indexOf(d);(this.canUseDOM?instances:this.instances).splice(m,1)}}});this.context=d,this.canUseDOM=m||!1,m||(d.helmet=server_default({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},defaultValue={},Context=ct.createContext(defaultValue),Ai,HelmetProvider=(Ai=class extends reactExports.Component{constructor(g){super(g);vr(this,"helmetData");this.helmetData=new HelmetData(this.props.context||{},Ai.canUseDOM)}render(){return ct.createElement(Context.Provider,{value:this.helmetData.value},this.props.children)}},vr(Ai,"canUseDOM",isDocument),Ai),updateTags=(d,m)=>{const g=document.head||document.querySelector("head"),w=g.querySelectorAll(`${d}[${HELMET_ATTRIBUTE}]`),D=[].slice.call(w),j=[];let q;return m&&m.length&&m.forEach(te=>{const re=document.createElement(d);for(const ne in te)if(Object.prototype.hasOwnProperty.call(te,ne))if(ne==="innerHTML")re.innerHTML=te.innerHTML;else if(ne==="cssText")re.styleSheet?re.styleSheet.cssText=te.cssText:re.appendChild(document.createTextNode(te.cssText));else{const ie=ne,ae=typeof te[ie]>"u"?"":te[ie];re.setAttribute(ne,ae)}re.setAttribute(HELMET_ATTRIBUTE,"true"),D.some((ne,ie)=>(q=ie,re.isEqualNode(ne)))?D.splice(q,1):j.push(re)}),D.forEach(te=>{var re;return(re=te.parentNode)==null?void 0:re.removeChild(te)}),j.forEach(te=>g.appendChild(te)),{oldTags:D,newTags:j}},updateAttributes=(d,m)=>{const g=document.getElementsByTagName(d)[0];if(!g)return;const w=g.getAttribute(HELMET_ATTRIBUTE),D=w?w.split(","):[],j=[...D],q=Object.keys(m);for(const te of q){const re=m[te]||"";g.getAttribute(te)!==re&&g.setAttribute(te,re),D.indexOf(te)===-1&&D.push(te);const ne=j.indexOf(te);ne!==-1&&j.splice(ne,1)}for(let te=j.length-1;te>=0;te-=1)g.removeAttribute(j[te]);D.length===j.length?g.removeAttribute(HELMET_ATTRIBUTE):g.getAttribute(HELMET_ATTRIBUTE)!==q.join(",")&&g.setAttribute(HELMET_ATTRIBUTE,q.join(","))},updateTitle=(d,m)=>{typeof d<"u"&&document.title!==d&&(document.title=flattenArray(d)),updateAttributes("title",m)},commitTagChanges=(d,m)=>{const{baseTag:g,bodyAttributes:w,htmlAttributes:D,linkTags:j,metaTags:q,noscriptTags:te,onChangeClientState:re,scriptTags:ne,styleTags:ie,title:ae,titleAttributes:se}=d;updateAttributes("body",w),updateAttributes("html",D),updateTitle(ae,se);const le={baseTag:updateTags("base",g),linkTags:updateTags("link",j),metaTags:updateTags("meta",q),noscriptTags:updateTags("noscript",te),scriptTags:updateTags("script",ne),styleTags:updateTags("style",ie)},ue={},ce={};Object.keys(le).forEach(de=>{const{newTags:he,oldTags:pe}=le[de];he.length&&(ue[de]=he),pe.length&&(ce[de]=le[de].oldTags)}),m&&m(),re(d,ue,ce)},_helmetCallback=null,handleStateChangeOnClient=d=>{_helmetCallback&&cancelAnimationFrame(_helmetCallback),d.defer?_helmetCallback=requestAnimationFrame(()=>{commitTagChanges(d,()=>{_helmetCallback=null})}):(commitTagChanges(d),_helmetCallback=null)},client_default=handleStateChangeOnClient,HelmetDispatcher=class extends reactExports.Component{constructor(){super(...arguments);vr(this,"rendered",!1)}shouldComponentUpdate(m){return!shallowEqual(m,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:m}=this.props.context;m.remove(this),this.emitChange()}emitChange(){const{helmetInstances:m,setHelmet:g}=this.props.context;let w=null;const D=reducePropsToState(m.get().map(j=>{const q={...j.props};return delete q.context,q}));HelmetProvider.canUseDOM?client_default(D):w=server_default(D),g(w)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:m}=this.props.context;m.add(this),this.emitChange()}render(){return this.init(),null}},Pl,Helmet=(Pl=class extends reactExports.Component{shouldComponentUpdate(d){return!fastCompare(without(this.props,"helmetData"),without(d,"helmetData"))}mapNestedChildrenToProps(d,m){if(!m)return null;switch(d.type){case"script":case"noscript":return{innerHTML:m};case"style":return{cssText:m};default:throw new Error(`<${d.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(d,m,g,w){return{...m,[d.type]:[...m[d.type]||[],{...g,...this.mapNestedChildrenToProps(d,w)}]}}mapObjectTypeChildren(d,m,g,w){switch(d.type){case"title":return{...m,[d.type]:w,titleAttributes:{...g}};case"body":return{...m,bodyAttributes:{...g}};case"html":return{...m,htmlAttributes:{...g}};default:return{...m,[d.type]:{...g}}}}mapArrayTypeChildrenToProps(d,m){let g={...m};return Object.keys(d).forEach(w=>{g={...g,[w]:d[w]}}),g}warnOnInvalidChildren(d,m){return invariant$1(VALID_TAG_NAMES.some(g=>d.type===g),typeof d.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${VALID_TAG_NAMES.join(", ")} are allowed. Helmet does not support rendering <${d.type}> elements. Refer to our API for more information.`),invariant$1(!m||typeof m=="string"||Array.isArray(m)&&!m.some(g=>typeof g!="string"),`Helmet expects a string as a child of <${d.type}>. Did you forget to wrap your children in braces? ( <${d.type}>{\`\`}</${d.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(d,m){let g={};return ct.Children.forEach(d,w=>{if(!w||!w.props)return;const{children:D,...j}=w.props,q=Object.keys(j).reduce((re,ne)=>(re[HTML_TAG_MAP[ne]||ne]=j[ne],re),{});let{type:te}=w;switch(typeof te=="symbol"?te=te.toString():this.warnOnInvalidChildren(w,D),te){case"Symbol(react.fragment)":m=this.mapChildrenToProps(D,m);break;case"link":case"meta":case"noscript":case"script":case"style":g=this.flattenArrayTypeChildren(w,g,q,D);break;default:m=this.mapObjectTypeChildren(w,m,q,D);break}}),this.mapArrayTypeChildrenToProps(g,m)}render(){const{children:d,...m}=this.props;let g={...m},{helmetData:w}=m;if(d&&(g=this.mapChildrenToProps(d,g)),w&&!(w instanceof HelmetData)){const D=w;w=new HelmetData(D.context,!0),delete g.helmetData}return w?ct.createElement(HelmetDispatcher,{...g,context:w.value}):ct.createElement(Context.Consumer,null,D=>ct.createElement(HelmetDispatcher,{...g,context:D}))}},vr(Pl,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Pl),dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=q,dist.serialize=ne;const d=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,m=/^[\u0021-\u003A\u003C-\u007E]*$/,g=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,w=/^[\u0020-\u003A\u003D-\u007E]*$/,D=Object.prototype.toString,j=(()=>{const se=function(){};return se.prototype=Object.create(null),se})();function q(se,le){const ue=new j,ce=se.length;if(ce<2)return ue;const de=(le==null?void 0:le.decode)||ie;let he=0;do{const pe=se.indexOf("=",he);if(pe===-1)break;const me=se.indexOf(";",he),ge=me===-1?ce:me;if(pe>ge){he=se.lastIndexOf(";",pe-1)+1;continue}const be=te(se,he,pe),ke=re(se,pe,be),ye=se.slice(be,ke);if(ue[ye]===void 0){let Se=te(se,pe+1,ge),we=re(se,ge,Se);const Te=de(se.slice(Se,we));ue[ye]=Te}he=ge+1}while(he<ce);return ue}function te(se,le,ue){do{const ce=se.charCodeAt(le);if(ce!==32&&ce!==9)return le}while(++le<ue);return ue}function re(se,le,ue){for(;le>ue;){const ce=se.charCodeAt(--le);if(ce!==32&&ce!==9)return le+1}return ue}function ne(se,le,ue){const ce=(ue==null?void 0:ue.encode)||encodeURIComponent;if(!d.test(se))throw new TypeError(`argument name is invalid: ${se}`);const de=ce(le);if(!m.test(de))throw new TypeError(`argument val is invalid: ${le}`);let he=se+"="+de;if(!ue)return he;if(ue.maxAge!==void 0){if(!Number.isInteger(ue.maxAge))throw new TypeError(`option maxAge is invalid: ${ue.maxAge}`);he+="; Max-Age="+ue.maxAge}if(ue.domain){if(!g.test(ue.domain))throw new TypeError(`option domain is invalid: ${ue.domain}`);he+="; Domain="+ue.domain}if(ue.path){if(!w.test(ue.path))throw new TypeError(`option path is invalid: ${ue.path}`);he+="; Path="+ue.path}if(ue.expires){if(!ae(ue.expires)||!Number.isFinite(ue.expires.valueOf()))throw new TypeError(`option expires is invalid: ${ue.expires}`);he+="; Expires="+ue.expires.toUTCString()}if(ue.httpOnly&&(he+="; HttpOnly"),ue.secure&&(he+="; Secure"),ue.partitioned&&(he+="; Partitioned"),ue.priority)switch(typeof ue.priority=="string"?ue.priority.toLowerCase():void 0){case"low":he+="; Priority=Low";break;case"medium":he+="; Priority=Medium";break;case"high":he+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${ue.priority}`)}if(ue.sameSite)switch(typeof ue.sameSite=="string"?ue.sameSite.toLowerCase():ue.sameSite){case!0:case"strict":he+="; SameSite=Strict";break;case"lax":he+="; SameSite=Lax";break;case"none":he+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${ue.sameSite}`)}return he}function ie(se){if(se.indexOf("%")===-1)return se;try{return decodeURIComponent(se)}catch{return se}}function ae(se){return D.call(se)==="[object Date]"}return dist}requireDist();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(d={}){function m(w,D){let{pathname:j,search:q,hash:te}=w.location;return createLocation("",{pathname:j,search:q,hash:te},D.state&&D.state.usr||null,D.state&&D.state.key||"default")}function g(w,D){return typeof D=="string"?D:createPath(D)}return getUrlBasedHistory(m,g,null,d)}function invariant(d,m){if(d===!1||d===null||typeof d>"u")throw new Error(m)}function warning(d,m){if(!d){typeof console<"u"&&console.warn(m);try{throw new Error(m)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(d,m){return{usr:d.state,key:d.key,idx:m}}function createLocation(d,m,g=null,w){return{pathname:typeof d=="string"?d:d.pathname,search:"",hash:"",...typeof m=="string"?parsePath(m):m,state:g,key:m&&m.key||w||createKey()}}function createPath({pathname:d="/",search:m="",hash:g=""}){return m&&m!=="?"&&(d+=m.charAt(0)==="?"?m:"?"+m),g&&g!=="#"&&(d+=g.charAt(0)==="#"?g:"#"+g),d}function parsePath(d){let m={};if(d){let g=d.indexOf("#");g>=0&&(m.hash=d.substring(g),d=d.substring(0,g));let w=d.indexOf("?");w>=0&&(m.search=d.substring(w),d=d.substring(0,w)),d&&(m.pathname=d)}return m}function getUrlBasedHistory(d,m,g,w={}){let{window:D=document.defaultView,v5Compat:j=!1}=w,q=D.history,te="POP",re=null,ne=ie();ne==null&&(ne=0,q.replaceState({...q.state,idx:ne},""));function ie(){return(q.state||{idx:null}).idx}function ae(){te="POP";let de=ie(),he=de==null?null:de-ne;ne=de,re&&re({action:te,location:ce.location,delta:he})}function se(de,he){te="PUSH";let pe=createLocation(ce.location,de,he);ne=ie()+1;let me=getHistoryState(pe,ne),ge=ce.createHref(pe);try{q.pushState(me,"",ge)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;D.location.assign(ge)}j&&re&&re({action:te,location:ce.location,delta:1})}function le(de,he){te="REPLACE";let pe=createLocation(ce.location,de,he);ne=ie();let me=getHistoryState(pe,ne),ge=ce.createHref(pe);q.replaceState(me,"",ge),j&&re&&re({action:te,location:ce.location,delta:0})}function ue(de){let he=D.location.origin!=="null"?D.location.origin:D.location.href,pe=typeof de=="string"?de:createPath(de);return pe=pe.replace(/ $/,"%20"),invariant(he,`No window.location.(origin|href) available to create URL for href: ${pe}`),new URL(pe,he)}let ce={get action(){return te},get location(){return d(D,q)},listen(de){if(re)throw new Error("A history only accepts one active listener");return D.addEventListener(PopStateEventType,ae),re=de,()=>{D.removeEventListener(PopStateEventType,ae),re=null}},createHref(de){return m(D,de)},createURL:ue,encodeLocation(de){let he=ue(de);return{pathname:he.pathname,search:he.search,hash:he.hash}},push:se,replace:le,go(de){return q.go(de)}};return ce}function matchRoutes(d,m,g="/"){return matchRoutesImpl(d,m,g,!1)}function matchRoutesImpl(d,m,g,w){let D=typeof m=="string"?parsePath(m):m,j=stripBasename(D.pathname||"/",g);if(j==null)return null;let q=flattenRoutes(d);rankRouteBranches(q);let te=null;for(let re=0;te==null&&re<q.length;++re){let ne=decodePath(j);te=matchRouteBranch(q[re],ne,w)}return te}function flattenRoutes(d,m=[],g=[],w=""){let D=(j,q,te)=>{let re={relativePath:te===void 0?j.path||"":te,caseSensitive:j.caseSensitive===!0,childrenIndex:q,route:j};re.relativePath.startsWith("/")&&(invariant(re.relativePath.startsWith(w),`Absolute route path "${re.relativePath}" nested under path "${w}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),re.relativePath=re.relativePath.slice(w.length));let ne=joinPaths([w,re.relativePath]),ie=g.concat(re);j.children&&j.children.length>0&&(invariant(j.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ne}".`),flattenRoutes(j.children,m,ie,ne)),!(j.path==null&&!j.index)&&m.push({path:ne,score:computeScore(ne,j.index),routesMeta:ie})};return d.forEach((j,q)=>{var te;if(j.path===""||!((te=j.path)!=null&&te.includes("?")))D(j,q);else for(let re of explodeOptionalSegments(j.path))D(j,q,re)}),m}function explodeOptionalSegments(d){let m=d.split("/");if(m.length===0)return[];let[g,...w]=m,D=g.endsWith("?"),j=g.replace(/\?$/,"");if(w.length===0)return D?[j,""]:[j];let q=explodeOptionalSegments(w.join("/")),te=[];return te.push(...q.map(re=>re===""?j:[j,re].join("/"))),D&&te.push(...q),te.map(re=>d.startsWith("/")&&re===""?"/":re)}function rankRouteBranches(d){d.sort((m,g)=>m.score!==g.score?g.score-m.score:compareIndexes(m.routesMeta.map(w=>w.childrenIndex),g.routesMeta.map(w=>w.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=d=>d==="*";function computeScore(d,m){let g=d.split("/"),w=g.length;return g.some(isSplat)&&(w+=splatPenalty),m&&(w+=indexRouteValue),g.filter(D=>!isSplat(D)).reduce((D,j)=>D+(paramRe.test(j)?dynamicSegmentValue:j===""?emptySegmentValue:staticSegmentValue),w)}function compareIndexes(d,m){return d.length===m.length&&d.slice(0,-1).every((w,D)=>w===m[D])?d[d.length-1]-m[m.length-1]:0}function matchRouteBranch(d,m,g=!1){let{routesMeta:w}=d,D={},j="/",q=[];for(let te=0;te<w.length;++te){let re=w[te],ne=te===w.length-1,ie=j==="/"?m:m.slice(j.length)||"/",ae=matchPath({path:re.relativePath,caseSensitive:re.caseSensitive,end:ne},ie),se=re.route;if(!ae&&ne&&g&&!w[w.length-1].route.index&&(ae=matchPath({path:re.relativePath,caseSensitive:re.caseSensitive,end:!1},ie)),!ae)return null;Object.assign(D,ae.params),q.push({params:D,pathname:joinPaths([j,ae.pathname]),pathnameBase:normalizePathname(joinPaths([j,ae.pathnameBase])),route:se}),ae.pathnameBase!=="/"&&(j=joinPaths([j,ae.pathnameBase]))}return q}function matchPath(d,m){typeof d=="string"&&(d={path:d,caseSensitive:!1,end:!0});let[g,w]=compilePath(d.path,d.caseSensitive,d.end),D=m.match(g);if(!D)return null;let j=D[0],q=j.replace(/(.)\/+$/,"$1"),te=D.slice(1);return{params:w.reduce((ne,{paramName:ie,isOptional:ae},se)=>{if(ie==="*"){let ue=te[se]||"";q=j.slice(0,j.length-ue.length).replace(/(.)\/+$/,"$1")}const le=te[se];return ae&&!le?ne[ie]=void 0:ne[ie]=(le||"").replace(/%2F/g,"/"),ne},{}),pathname:j,pathnameBase:q,pattern:d}}function compilePath(d,m=!1,g=!0){warning(d==="*"||!d.endsWith("*")||d.endsWith("/*"),`Route path "${d}" will be treated as if it were "${d.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${d.replace(/\*$/,"/*")}".`);let w=[],D="^"+d.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(q,te,re)=>(w.push({paramName:te,isOptional:re!=null}),re?"/?([^\\/]+)?":"/([^\\/]+)"));return d.endsWith("*")?(w.push({paramName:"*"}),D+=d==="*"||d==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):g?D+="\\/*$":d!==""&&d!=="/"&&(D+="(?:(?=\\/|$))"),[new RegExp(D,m?void 0:"i"),w]}function decodePath(d){try{return d.split("/").map(m=>decodeURIComponent(m).replace(/\//g,"%2F")).join("/")}catch(m){return warning(!1,`The URL path "${d}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${m}).`),d}}function stripBasename(d,m){if(m==="/")return d;if(!d.toLowerCase().startsWith(m.toLowerCase()))return null;let g=m.endsWith("/")?m.length-1:m.length,w=d.charAt(g);return w&&w!=="/"?null:d.slice(g)||"/"}function resolvePath(d,m="/"){let{pathname:g,search:w="",hash:D=""}=typeof d=="string"?parsePath(d):d;return{pathname:g?g.startsWith("/")?g:resolvePathname(g,m):m,search:normalizeSearch(w),hash:normalizeHash(D)}}function resolvePathname(d,m){let g=m.replace(/\/+$/,"").split("/");return d.split("/").forEach(D=>{D===".."?g.length>1&&g.pop():D!=="."&&g.push(D)}),g.length>1?g.join("/"):"/"}function getInvalidPathError(d,m,g,w){return`Cannot include a '${d}' character in a manually specified \`to.${m}\` field [${JSON.stringify(w)}].  Please separate it out to the \`to.${g}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(d){return d.filter((m,g)=>g===0||m.route.path&&m.route.path.length>0)}function getResolveToMatches(d){let m=getPathContributingMatches(d);return m.map((g,w)=>w===m.length-1?g.pathname:g.pathnameBase)}function resolveTo(d,m,g,w=!1){let D;typeof d=="string"?D=parsePath(d):(D={...d},invariant(!D.pathname||!D.pathname.includes("?"),getInvalidPathError("?","pathname","search",D)),invariant(!D.pathname||!D.pathname.includes("#"),getInvalidPathError("#","pathname","hash",D)),invariant(!D.search||!D.search.includes("#"),getInvalidPathError("#","search","hash",D)));let j=d===""||D.pathname==="",q=j?"/":D.pathname,te;if(q==null)te=g;else{let ae=m.length-1;if(!w&&q.startsWith("..")){let se=q.split("/");for(;se[0]==="..";)se.shift(),ae-=1;D.pathname=se.join("/")}te=ae>=0?m[ae]:"/"}let re=resolvePath(D,te),ne=q&&q!=="/"&&q.endsWith("/"),ie=(j||q===".")&&g.endsWith("/");return!re.pathname.endsWith("/")&&(ne||ie)&&(re.pathname+="/"),re}var joinPaths=d=>d.join("/").replace(/\/\/+/g,"/"),normalizePathname=d=>d.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=d=>!d||d==="?"?"":d.startsWith("?")?d:"?"+d,normalizeHash=d=>!d||d==="#"?"":d.startsWith("#")?d:"#"+d;function isRouteErrorResponse(d){return d!=null&&typeof d.status=="number"&&typeof d.statusText=="string"&&typeof d.internal=="boolean"&&"data"in d}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(d,{relative:m}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:g,navigator:w}=reactExports.useContext(NavigationContext),{hash:D,pathname:j,search:q}=useResolvedPath(d,{relative:m}),te=j;return g!=="/"&&(te=j==="/"?g:joinPaths([g,j])),w.createHref({pathname:te,search:q,hash:D})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(d){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(d)}function useNavigate(){let{isDataRoute:d}=reactExports.useContext(RouteContext);return d?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let d=reactExports.useContext(DataRouterContext),{basename:m,navigator:g}=reactExports.useContext(NavigationContext),{matches:w}=reactExports.useContext(RouteContext),{pathname:D}=useLocation(),j=JSON.stringify(getResolveToMatches(w)),q=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{q.current=!0}),reactExports.useCallback((re,ne={})=>{if(warning(q.current,navigateEffectWarning),!q.current)return;if(typeof re=="number"){g.go(re);return}let ie=resolveTo(re,JSON.parse(j),D,ne.relative==="path");d==null&&m!=="/"&&(ie.pathname=ie.pathname==="/"?m:joinPaths([m,ie.pathname])),(ne.replace?g.replace:g.push)(ie,ne.state,ne)},[m,g,j,D,d])}reactExports.createContext(null);function useResolvedPath(d,{relative:m}={}){let{matches:g}=reactExports.useContext(RouteContext),{pathname:w}=useLocation(),D=JSON.stringify(getResolveToMatches(g));return reactExports.useMemo(()=>resolveTo(d,JSON.parse(D),w,m==="path"),[d,D,w,m])}function useRoutes(d,m){return useRoutesImpl(d,m)}function useRoutesImpl(d,m,g,w){var he;invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:D}=reactExports.useContext(NavigationContext),{matches:j}=reactExports.useContext(RouteContext),q=j[j.length-1],te=q?q.params:{},re=q?q.pathname:"/",ne=q?q.pathnameBase:"/",ie=q&&q.route;{let pe=ie&&ie.path||"";warningOnce(re,!ie||pe.endsWith("*")||pe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${re}" (under <Route path="${pe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${pe}"> to <Route path="${pe==="/"?"*":`${pe}/*`}">.`)}let ae=useLocation(),se;if(m){let pe=typeof m=="string"?parsePath(m):m;invariant(ne==="/"||((he=pe.pathname)==null?void 0:he.startsWith(ne)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${ne}" but pathname "${pe.pathname}" was given in the \`location\` prop.`),se=pe}else se=ae;let le=se.pathname||"/",ue=le;if(ne!=="/"){let pe=ne.replace(/^\//,"").split("/");ue="/"+le.replace(/^\//,"").split("/").slice(pe.length).join("/")}let ce=matchRoutes(d,{pathname:ue});warning(ie||ce!=null,`No routes matched location "${se.pathname}${se.search}${se.hash}" `),warning(ce==null||ce[ce.length-1].route.element!==void 0||ce[ce.length-1].route.Component!==void 0||ce[ce.length-1].route.lazy!==void 0,`Matched leaf route at location "${se.pathname}${se.search}${se.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let de=_renderMatches(ce&&ce.map(pe=>Object.assign({},pe,{params:Object.assign({},te,pe.params),pathname:joinPaths([ne,D.encodeLocation?D.encodeLocation(pe.pathname).pathname:pe.pathname]),pathnameBase:pe.pathnameBase==="/"?ne:joinPaths([ne,D.encodeLocation?D.encodeLocation(pe.pathnameBase).pathname:pe.pathnameBase])})),j,g,w);return m&&de?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...se},navigationType:"POP"}},de):de}function DefaultErrorComponent(){let d=useRouteError(),m=isRouteErrorResponse(d)?`${d.status} ${d.statusText}`:d instanceof Error?d.message:JSON.stringify(d),g=d instanceof Error?d.stack:null,w="rgba(200,200,200, 0.5)",D={padding:"0.5rem",backgroundColor:w},j={padding:"2px 4px",backgroundColor:w},q=null;return console.error("Error handled by React Router default ErrorBoundary:",d),q=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:j},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:j},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},m),g?reactExports.createElement("pre",{style:D},g):null,q)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(d){super(d),this.state={location:d.location,revalidation:d.revalidation,error:d.error}}static getDerivedStateFromError(d){return{error:d}}static getDerivedStateFromProps(d,m){return m.location!==d.location||m.revalidation!=="idle"&&d.revalidation==="idle"?{error:d.error,location:d.location,revalidation:d.revalidation}:{error:d.error!==void 0?d.error:m.error,location:m.location,revalidation:d.revalidation||m.revalidation}}componentDidCatch(d,m){console.error("React Router caught the following error during render",d,m)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:d,match:m,children:g}){let w=reactExports.useContext(DataRouterContext);return w&&w.static&&w.staticContext&&(m.route.errorElement||m.route.ErrorBoundary)&&(w.staticContext._deepestRenderedBoundaryId=m.route.id),reactExports.createElement(RouteContext.Provider,{value:d},g)}function _renderMatches(d,m=[],g=null,w=null){if(d==null){if(!g)return null;if(g.errors)d=g.matches;else if(m.length===0&&!g.initialized&&g.matches.length>0)d=g.matches;else return null}let D=d,j=g==null?void 0:g.errors;if(j!=null){let re=D.findIndex(ne=>ne.route.id&&(j==null?void 0:j[ne.route.id])!==void 0);invariant(re>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(j).join(",")}`),D=D.slice(0,Math.min(D.length,re+1))}let q=!1,te=-1;if(g)for(let re=0;re<D.length;re++){let ne=D[re];if((ne.route.HydrateFallback||ne.route.hydrateFallbackElement)&&(te=re),ne.route.id){let{loaderData:ie,errors:ae}=g,se=ne.route.loader&&!ie.hasOwnProperty(ne.route.id)&&(!ae||ae[ne.route.id]===void 0);if(ne.route.lazy||se){q=!0,te>=0?D=D.slice(0,te+1):D=[D[0]];break}}}return D.reduceRight((re,ne,ie)=>{let ae,se=!1,le=null,ue=null;g&&(ae=j&&ne.route.id?j[ne.route.id]:void 0,le=ne.route.errorElement||defaultErrorElement,q&&(te<0&&ie===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),se=!0,ue=null):te===ie&&(se=!0,ue=ne.route.hydrateFallbackElement||null)));let ce=m.concat(D.slice(0,ie+1)),de=()=>{let he;return ae?he=le:se?he=ue:ne.route.Component?he=reactExports.createElement(ne.route.Component,null):ne.route.element?he=ne.route.element:he=re,reactExports.createElement(RenderedRoute,{match:ne,routeContext:{outlet:re,matches:ce,isDataRoute:g!=null},children:he})};return g&&(ne.route.ErrorBoundary||ne.route.errorElement||ie===0)?reactExports.createElement(RenderErrorBoundary,{location:g.location,revalidation:g.revalidation,component:le,error:ae,children:de(),routeContext:{outlet:null,matches:ce,isDataRoute:!0}}):de()},null)}function getDataRouterConsoleError(d){return`${d} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(d){let m=reactExports.useContext(DataRouterContext);return invariant(m,getDataRouterConsoleError(d)),m}function useDataRouterState(d){let m=reactExports.useContext(DataRouterStateContext);return invariant(m,getDataRouterConsoleError(d)),m}function useRouteContext(d){let m=reactExports.useContext(RouteContext);return invariant(m,getDataRouterConsoleError(d)),m}function useCurrentRouteId(d){let m=useRouteContext(d),g=m.matches[m.matches.length-1];return invariant(g.route.id,`${d} can only be used on routes that contain a unique "id"`),g.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var w;let d=reactExports.useContext(RouteErrorContext),m=useDataRouterState("useRouteError"),g=useCurrentRouteId("useRouteError");return d!==void 0?d:(w=m.errors)==null?void 0:w[g]}function useNavigateStable(){let{router:d}=useDataRouterContext("useNavigate"),m=useCurrentRouteId("useNavigate"),g=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{g.current=!0}),reactExports.useCallback(async(D,j={})=>{warning(g.current,navigateEffectWarning),g.current&&(typeof D=="number"?d.navigate(D):await d.navigate(D,{fromRouteId:m,...j}))},[d,m])}var alreadyWarned={};function warningOnce(d,m,g){!m&&!alreadyWarned[d]&&(alreadyWarned[d]=!0,warning(!1,g))}reactExports.memo(DataRoutes);function DataRoutes({routes:d,future:m,state:g}){return useRoutesImpl(d,void 0,g,m)}function Route(d){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:d="/",children:m=null,location:g,navigationType:w="POP",navigator:D,static:j=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let q=d.replace(/^\/*/,"/"),te=reactExports.useMemo(()=>({basename:q,navigator:D,static:j,future:{}}),[q,D,j]);typeof g=="string"&&(g=parsePath(g));let{pathname:re="/",search:ne="",hash:ie="",state:ae=null,key:se="default"}=g,le=reactExports.useMemo(()=>{let ue=stripBasename(re,q);return ue==null?null:{location:{pathname:ue,search:ne,hash:ie,state:ae,key:se},navigationType:w}},[q,re,ne,ie,ae,se,w]);return warning(le!=null,`<Router basename="${q}"> is not able to match the URL "${re}${ne}${ie}" because it does not start with the basename, so the <Router> won't render anything.`),le==null?null:reactExports.createElement(NavigationContext.Provider,{value:te},reactExports.createElement(LocationContext.Provider,{children:m,value:le}))}function Routes({children:d,location:m}){return useRoutes(createRoutesFromChildren(d),m)}function createRoutesFromChildren(d,m=[]){let g=[];return reactExports.Children.forEach(d,(w,D)=>{if(!reactExports.isValidElement(w))return;let j=[...m,D];if(w.type===reactExports.Fragment){g.push.apply(g,createRoutesFromChildren(w.props.children,j));return}invariant(w.type===Route,`[${typeof w.type=="string"?w.type:w.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!w.props.index||!w.props.children,"An index route cannot have child routes.");let q={id:w.props.id||j.join("-"),caseSensitive:w.props.caseSensitive,element:w.props.element,Component:w.props.Component,index:w.props.index,path:w.props.path,loader:w.props.loader,action:w.props.action,hydrateFallbackElement:w.props.hydrateFallbackElement,HydrateFallback:w.props.HydrateFallback,errorElement:w.props.errorElement,ErrorBoundary:w.props.ErrorBoundary,hasErrorBoundary:w.props.hasErrorBoundary===!0||w.props.ErrorBoundary!=null||w.props.errorElement!=null,shouldRevalidate:w.props.shouldRevalidate,handle:w.props.handle,lazy:w.props.lazy};w.props.children&&(q.children=createRoutesFromChildren(w.props.children,j)),g.push(q)}),g}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(d){return d!=null&&typeof d.tagName=="string"}function isButtonElement(d){return isHtmlElement(d)&&d.tagName.toLowerCase()==="button"}function isFormElement(d){return isHtmlElement(d)&&d.tagName.toLowerCase()==="form"}function isInputElement(d){return isHtmlElement(d)&&d.tagName.toLowerCase()==="input"}function isModifiedEvent(d){return!!(d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)}function shouldProcessLinkClick(d,m){return d.button===0&&(!m||m==="_self")&&!isModifiedEvent(d)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(d){return d!=null&&!supportedFormEncTypes.has(d)?(warning(!1,`"${d}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):d}function getFormSubmissionInfo(d,m){let g,w,D,j,q;if(isFormElement(d)){let te=d.getAttribute("action");w=te?stripBasename(te,m):null,g=d.getAttribute("method")||defaultMethod,D=getFormEncType(d.getAttribute("enctype"))||defaultEncType,j=new FormData(d)}else if(isButtonElement(d)||isInputElement(d)&&(d.type==="submit"||d.type==="image")){let te=d.form;if(te==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let re=d.getAttribute("formaction")||te.getAttribute("action");if(w=re?stripBasename(re,m):null,g=d.getAttribute("formmethod")||te.getAttribute("method")||defaultMethod,D=getFormEncType(d.getAttribute("formenctype"))||getFormEncType(te.getAttribute("enctype"))||defaultEncType,j=new FormData(te,d),!isFormDataSubmitterSupported()){let{name:ne,type:ie,value:ae}=d;if(ie==="image"){let se=ne?`${ne}.`:"";j.append(`${se}x`,"0"),j.append(`${se}y`,"0")}else ne&&j.append(ne,ae)}}else{if(isHtmlElement(d))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');g=defaultMethod,w=null,D=defaultEncType,q=d}return j&&D==="text/plain"&&(q=j,j=void 0),{action:w,method:g.toLowerCase(),encType:D,formData:j,body:q}}function invariant2(d,m){if(d===!1||d===null||typeof d>"u")throw new Error(m)}async function loadRouteModule(d,m){if(d.id in m)return m[d.id];try{let g=await import(d.module);return m[d.id]=g,g}catch(g){return console.error(`Error loading route module \`${d.module}\`, reloading page...`),console.error(g),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(d){return d==null?!1:d.href==null?d.rel==="preload"&&typeof d.imageSrcSet=="string"&&typeof d.imageSizes=="string":typeof d.rel=="string"&&typeof d.href=="string"}async function getKeyedPrefetchLinks(d,m,g){let w=await Promise.all(d.map(async D=>{let j=m.routes[D.route.id];if(j){let q=await loadRouteModule(j,g);return q.links?q.links():[]}return[]}));return dedupeLinkDescriptors(w.flat(1).filter(isHtmlLinkDescriptor).filter(D=>D.rel==="stylesheet"||D.rel==="preload").map(D=>D.rel==="stylesheet"?{...D,rel:"prefetch",as:"style"}:{...D,rel:"prefetch"}))}function getNewMatchesForLinks(d,m,g,w,D,j){let q=(re,ne)=>g[ne]?re.route.id!==g[ne].route.id:!0,te=(re,ne)=>{var ie;return g[ne].pathname!==re.pathname||((ie=g[ne].route.path)==null?void 0:ie.endsWith("*"))&&g[ne].params["*"]!==re.params["*"]};return j==="assets"?m.filter((re,ne)=>q(re,ne)||te(re,ne)):j==="data"?m.filter((re,ne)=>{var ae;let ie=w.routes[re.route.id];if(!ie||!ie.hasLoader)return!1;if(q(re,ne)||te(re,ne))return!0;if(re.route.shouldRevalidate){let se=re.route.shouldRevalidate({currentUrl:new URL(D.pathname+D.search+D.hash,window.origin),currentParams:((ae=g[0])==null?void 0:ae.params)||{},nextUrl:new URL(d,window.origin),nextParams:re.params,defaultShouldRevalidate:!0});if(typeof se=="boolean")return se}return!0}):[]}function getModuleLinkHrefs(d,m){return dedupeHrefs(d.map(g=>{let w=m.routes[g.route.id];if(!w)return[];let D=[w.module];return w.imports&&(D=D.concat(w.imports)),D}).flat(1))}function dedupeHrefs(d){return[...new Set(d)]}function sortKeys(d){let m={},g=Object.keys(d).sort();for(let w of g)m[w]=d[w];return m}function dedupeLinkDescriptors(d,m){let g=new Set;return new Set(m),d.reduce((w,D)=>{let j=JSON.stringify(sortKeys(D));return g.has(j)||(g.add(j),w.push({key:j,link:D})),w},[])}function singleFetchUrl(d){let m=typeof d=="string"?new URL(d,typeof window>"u"?"server://singlefetch/":window.location.origin):d;return m.pathname==="/"?m.pathname="_root.data":m.pathname=`${m.pathname.replace(/\/$/,"")}.data`,m}function useDataRouterContext2(){let d=reactExports.useContext(DataRouterContext);return invariant2(d,"You must render this element inside a <DataRouterContext.Provider> element"),d}function useDataRouterStateContext(){let d=reactExports.useContext(DataRouterStateContext);return invariant2(d,"You must render this element inside a <DataRouterStateContext.Provider> element"),d}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let d=reactExports.useContext(FrameworkContext);return invariant2(d,"You must render this element inside a <HydratedRouter> element"),d}function usePrefetchBehavior(d,m){let g=reactExports.useContext(FrameworkContext),[w,D]=reactExports.useState(!1),[j,q]=reactExports.useState(!1),{onFocus:te,onBlur:re,onMouseEnter:ne,onMouseLeave:ie,onTouchStart:ae}=m,se=reactExports.useRef(null);reactExports.useEffect(()=>{if(d==="render"&&q(!0),d==="viewport"){let ce=he=>{he.forEach(pe=>{q(pe.isIntersecting)})},de=new IntersectionObserver(ce,{threshold:.5});return se.current&&de.observe(se.current),()=>{de.disconnect()}}},[d]),reactExports.useEffect(()=>{if(w){let ce=setTimeout(()=>{q(!0)},100);return()=>{clearTimeout(ce)}}},[w]);let le=()=>{D(!0)},ue=()=>{D(!1),q(!1)};return g?d!=="intent"?[j,se,{}]:[j,se,{onFocus:composeEventHandlers(te,le),onBlur:composeEventHandlers(re,ue),onMouseEnter:composeEventHandlers(ne,le),onMouseLeave:composeEventHandlers(ie,ue),onTouchStart:composeEventHandlers(ae,le)}]:[!1,se,{}]}function composeEventHandlers(d,m){return g=>{d&&d(g),g.defaultPrevented||m(g)}}function PrefetchPageLinks({page:d,...m}){let{router:g}=useDataRouterContext2(),w=reactExports.useMemo(()=>matchRoutes(g.routes,d,g.basename),[g.routes,d,g.basename]);return w?reactExports.createElement(PrefetchPageLinksImpl,{page:d,matches:w,...m}):null}function useKeyedPrefetchLinks(d){let{manifest:m,routeModules:g}=useFrameworkContext(),[w,D]=reactExports.useState([]);return reactExports.useEffect(()=>{let j=!1;return getKeyedPrefetchLinks(d,m,g).then(q=>{j||D(q)}),()=>{j=!0}},[d,m,g]),w}function PrefetchPageLinksImpl({page:d,matches:m,...g}){let w=useLocation(),{manifest:D,routeModules:j}=useFrameworkContext(),{loaderData:q,matches:te}=useDataRouterStateContext(),re=reactExports.useMemo(()=>getNewMatchesForLinks(d,m,te,D,w,"data"),[d,m,te,D,w]),ne=reactExports.useMemo(()=>getNewMatchesForLinks(d,m,te,D,w,"assets"),[d,m,te,D,w]),ie=reactExports.useMemo(()=>{if(d===w.pathname+w.search+w.hash)return[];let le=new Set,ue=!1;if(m.forEach(de=>{var pe;let he=D.routes[de.route.id];!he||!he.hasLoader||(!re.some(me=>me.route.id===de.route.id)&&de.route.id in q&&((pe=j[de.route.id])!=null&&pe.shouldRevalidate)||he.hasClientLoader?ue=!0:le.add(de.route.id))}),le.size===0)return[];let ce=singleFetchUrl(d);return ue&&le.size>0&&ce.searchParams.set("_routes",m.filter(de=>le.has(de.route.id)).map(de=>de.route.id).join(",")),[ce.pathname+ce.search]},[q,w,D,re,m,d,j]),ae=reactExports.useMemo(()=>getModuleLinkHrefs(ne,D),[ne,D]),se=useKeyedPrefetchLinks(ne);return reactExports.createElement(reactExports.Fragment,null,ie.map(le=>reactExports.createElement("link",{key:le,rel:"prefetch",as:"fetch",href:le,...g})),ae.map(le=>reactExports.createElement("link",{key:le,rel:"modulepreload",href:le,...g})),se.map(({key:le,link:ue})=>reactExports.createElement("link",{key:le,...ue})))}function mergeRefs(...d){return m=>{d.forEach(g=>{typeof g=="function"?g(m):g!=null&&(g.current=m)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.1.3")}catch{}function BrowserRouter({basename:d,children:m,window:g}){let w=reactExports.useRef();w.current==null&&(w.current=createBrowserHistory({window:g,v5Compat:!0}));let D=w.current,[j,q]=reactExports.useState({action:D.action,location:D.location}),te=reactExports.useCallback(re=>{reactExports.startTransition(()=>q(re))},[q]);return reactExports.useLayoutEffect(()=>D.listen(te),[D,te]),reactExports.createElement(Router,{basename:d,children:m,location:j.location,navigationType:j.action,navigator:D})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:m,discover:g="render",prefetch:w="none",relative:D,reloadDocument:j,replace:q,state:te,target:re,to:ne,preventScrollReset:ie,viewTransition:ae,...se},le){let{basename:ue}=reactExports.useContext(NavigationContext),ce=typeof ne=="string"&&ABSOLUTE_URL_REGEX2.test(ne),de,he=!1;if(typeof ne=="string"&&ce&&(de=ne,isBrowser))try{let we=new URL(window.location.href),Te=ne.startsWith("//")?new URL(we.protocol+ne):new URL(ne),_e=stripBasename(Te.pathname,ue);Te.origin===we.origin&&_e!=null?ne=_e+Te.search+Te.hash:he=!0}catch{warning(!1,`<Link to="${ne}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let pe=useHref(ne,{relative:D}),[me,ge,be]=usePrefetchBehavior(w,se),ke=useLinkClickHandler(ne,{replace:q,state:te,target:re,preventScrollReset:ie,relative:D,viewTransition:ae});function ye(we){m&&m(we),we.defaultPrevented||ke(we)}let Se=reactExports.createElement("a",{...se,...be,href:de||pe,onClick:he||j?m:ye,ref:mergeRefs(le,ge),target:re,"data-discover":!ce&&g==="render"?"true":void 0});return me&&!ce?reactExports.createElement(reactExports.Fragment,null,Se,reactExports.createElement(PrefetchPageLinks,{page:pe})):Se});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":m="page",caseSensitive:g=!1,className:w="",end:D=!1,style:j,to:q,viewTransition:te,children:re,...ne},ie){let ae=useResolvedPath(q,{relative:ne.relative}),se=useLocation(),le=reactExports.useContext(DataRouterStateContext),{navigator:ue,basename:ce}=reactExports.useContext(NavigationContext),de=le!=null&&useViewTransitionState(ae)&&te===!0,he=ue.encodeLocation?ue.encodeLocation(ae).pathname:ae.pathname,pe=se.pathname,me=le&&le.navigation&&le.navigation.location?le.navigation.location.pathname:null;g||(pe=pe.toLowerCase(),me=me?me.toLowerCase():null,he=he.toLowerCase()),me&&ce&&(me=stripBasename(me,ce)||me);const ge=he!=="/"&&he.endsWith("/")?he.length-1:he.length;let be=pe===he||!D&&pe.startsWith(he)&&pe.charAt(ge)==="/",ke=me!=null&&(me===he||!D&&me.startsWith(he)&&me.charAt(he.length)==="/"),ye={isActive:be,isPending:ke,isTransitioning:de},Se=be?m:void 0,we;typeof w=="function"?we=w(ye):we=[w,be?"active":null,ke?"pending":null,de?"transitioning":null].filter(Boolean).join(" ");let Te=typeof j=="function"?j(ye):j;return reactExports.createElement(Link,{...ne,"aria-current":Se,className:we,ref:ie,style:Te,to:q,viewTransition:te},typeof re=="function"?re(ye):re)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:d="render",fetcherKey:m,navigate:g,reloadDocument:w,replace:D,state:j,method:q=defaultMethod,action:te,onSubmit:re,relative:ne,preventScrollReset:ie,viewTransition:ae,...se},le)=>{let ue=useSubmit(),ce=useFormAction(te,{relative:ne}),de=q.toLowerCase()==="get"?"get":"post",he=typeof te=="string"&&ABSOLUTE_URL_REGEX2.test(te),pe=me=>{if(re&&re(me),me.defaultPrevented)return;me.preventDefault();let ge=me.nativeEvent.submitter,be=(ge==null?void 0:ge.getAttribute("formmethod"))||q;ue(ge||me.currentTarget,{fetcherKey:m,method:be,navigate:g,replace:D,state:j,relative:ne,preventScrollReset:ie,viewTransition:ae})};return reactExports.createElement("form",{ref:le,method:de,action:ce,onSubmit:w?re:pe,...se,"data-discover":!he&&d==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(d){return`${d} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(d){let m=reactExports.useContext(DataRouterContext);return invariant(m,getDataRouterConsoleError2(d)),m}function useLinkClickHandler(d,{target:m,replace:g,state:w,preventScrollReset:D,relative:j,viewTransition:q}={}){let te=useNavigate(),re=useLocation(),ne=useResolvedPath(d,{relative:j});return reactExports.useCallback(ie=>{if(shouldProcessLinkClick(ie,m)){ie.preventDefault();let ae=g!==void 0?g:createPath(re)===createPath(ne);te(d,{replace:ae,state:w,preventScrollReset:D,relative:j,viewTransition:q})}},[re,te,ne,g,w,m,d,D,j,q])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:d}=useDataRouterContext3("useSubmit"),{basename:m}=reactExports.useContext(NavigationContext),g=useRouteId();return reactExports.useCallback(async(w,D={})=>{let{action:j,method:q,encType:te,formData:re,body:ne}=getFormSubmissionInfo(w,m);if(D.navigate===!1){let ie=D.fetcherKey||getUniqueFetcherId();await d.fetch(ie,g,D.action||j,{preventScrollReset:D.preventScrollReset,formData:re,body:ne,formMethod:D.method||q,formEncType:D.encType||te,flushSync:D.flushSync})}else await d.navigate(D.action||j,{preventScrollReset:D.preventScrollReset,formData:re,body:ne,formMethod:D.method||q,formEncType:D.encType||te,replace:D.replace,state:D.state,fromRouteId:g,flushSync:D.flushSync,viewTransition:D.viewTransition})},[d,m,g])}function useFormAction(d,{relative:m}={}){let{basename:g}=reactExports.useContext(NavigationContext),w=reactExports.useContext(RouteContext);invariant(w,"useFormAction must be used inside a RouteContext");let[D]=w.matches.slice(-1),j={...useResolvedPath(d||".",{relative:m})},q=useLocation();if(d==null){j.search=q.search;let te=new URLSearchParams(j.search),re=te.getAll("index");if(re.some(ie=>ie==="")){te.delete("index"),re.filter(ae=>ae).forEach(ae=>te.append("index",ae));let ie=te.toString();j.search=ie?`?${ie}`:""}}return(!d||d===".")&&D.route.index&&(j.search=j.search?j.search.replace(/^\?/,"?index&"):"?index"),g!=="/"&&(j.pathname=j.pathname==="/"?g:joinPaths([g,j.pathname])),createPath(j)}function useViewTransitionState(d,m={}){let g=reactExports.useContext(ViewTransitionContext);invariant(g!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:w}=useDataRouterContext3("useViewTransitionState"),D=useResolvedPath(d,{relative:m.relative});if(!g.isTransitioning)return!1;let j=stripBasename(g.currentLocation.pathname,w)||g.currentLocation.pathname,q=stripBasename(g.nextLocation.pathname,w)||g.nextLocation.pathname;return matchPath(D.pathname,q)!=null||matchPath(D.pathname,j)!=null}new TextEncoder;const metadata=[{project:"/arknights-endfields/",title:"Arknights Endfields Pull Calculator",description:"Quickly calculate the number of possible pulls in Arknights Endfield based on your resources.",url:"https://project.mara-li.fr/arknights-endfields/",og_image:"/assets/arknights.jpg",icon:"/assets/arknights.jpg"},{project:"/remove_bg/",title:"Remove (White) Pixel",description:"Remove white Pixels from images with ease! Upload or paste an image, adjust tolerance, and get your processed result. All is done in the browser, without AI, GMO and pesticide!",url:"https://project.mara-li.fr/remove_bg/",og_image:"/assets/og-image.png",icon:"/assets/favicon.png"},{project:"/",title:"Mara-Li's toolbox",description:"Mara-Li's toolbox ; some little website that do stuff.",url:"https://project.mara-li.fr/",og_image:"https://www.blog.mara-li.fr/_assets/meta/avatar_index.gif",icon:"/assets/box.png"}],Card=({title:d,description:m,image:g,url:w})=>jsxRuntimeExports.jsx("a",{href:w,rel:"noopener noreferrer",className:"card-link",children:jsxRuntimeExports.jsxs("div",{className:"card",children:[g&&jsxRuntimeExports.jsx("img",{src:g,alt:d}),jsxRuntimeExports.jsxs("div",{className:"card-content",children:[jsxRuntimeExports.jsx("h2",{children:d}),jsxRuntimeExports.jsx("p",{children:m})]})]})});function Meta({project:d}){const m=metadata.find(g=>g.project===d);if(!m)throw new Error(`No metadata found for project ${d}`);return jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("meta",{charSet:"UTF-8"}),jsxRuntimeExports.jsx("meta",{content:"width=device-width, initial-scale=1.0",name:"viewport"}),jsxRuntimeExports.jsx("title",{children:m.title}),jsxRuntimeExports.jsx("meta",{name:"description",content:m.description}),jsxRuntimeExports.jsx("meta",{property:"og:title",content:m.title}),jsxRuntimeExports.jsx("meta",{property:"og:description",content:m.description}),jsxRuntimeExports.jsx("meta",{property:"og:image",content:m.og_image}),jsxRuntimeExports.jsx("meta",{property:"og:url",content:m.url}),jsxRuntimeExports.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),jsxRuntimeExports.jsx("meta",{name:"twitter:title",content:m.title}),jsxRuntimeExports.jsx("meta",{name:"twitter:description",content:m.description}),jsxRuntimeExports.jsx("meta",{name:"twitter:image",content:m.og_image}),jsxRuntimeExports.jsx("link",{href:m.icon,rel:"icon",type:"image/x-icon"}),jsxRuntimeExports.jsx("link",{href:m.icon,rel:"apple-touch-icon"})]})}const HomePage=()=>jsxRuntimeExports.jsxs("div",{className:"home-container",children:[jsxRuntimeExports.jsx(Meta,{project:"/"}),jsxRuntimeExports.jsx("h1",{children:"Mara-Li's toolbox"}),jsxRuntimeExports.jsx("div",{className:"card-container",children:metadata.filter(d=>d.project!=="/").map((d,m)=>jsxRuntimeExports.jsx(Card,{title:d.title??"Titre non dfini",description:d.description??"Description non dfinie",image:d.og_image,url:d.project},m))})]}),defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations}),defaultExtendedIconProps=Object.freeze({...defaultIconProps,body:"",hidden:!1});function mergeIconTransformations(d,m){const g={};!d.hFlip!=!m.hFlip&&(g.hFlip=!0),!d.vFlip!=!m.vFlip&&(g.vFlip=!0);const w=((d.rotate||0)+(m.rotate||0))%4;return w&&(g.rotate=w),g}function mergeIconData(d,m){const g=mergeIconTransformations(d,m);for(const w in defaultExtendedIconProps)w in defaultIconTransformations?w in d&&!(w in g)&&(g[w]=defaultIconTransformations[w]):w in m?g[w]=m[w]:w in d&&(g[w]=d[w]);return g}function getIconsTree(d,m){const g=d.icons,w=d.aliases||Object.create(null),D=Object.create(null);function j(q){if(g[q])return D[q]=[];if(!(q in D)){D[q]=null;const te=w[q]&&w[q].parent,re=te&&j(te);re&&(D[q]=[te].concat(re))}return D[q]}return Object.keys(g).concat(Object.keys(w)).forEach(j),D}function internalGetIconData(d,m,g){const w=d.icons,D=d.aliases||Object.create(null);let j={};function q(te){j=mergeIconData(w[te]||D[te],j)}return q(m),g.forEach(q),mergeIconData(d,j)}function parseIconSet(d,m){const g=[];if(typeof d!="object"||typeof d.icons!="object")return g;d.not_found instanceof Array&&d.not_found.forEach(D=>{m(D,null),g.push(D)});const w=getIconsTree(d);for(const D in w){const j=w[D];j&&(m(D,internalGetIconData(d,D,j)),g.push(D))}return g}const optionalPropertyDefaults={provider:"",aliases:{},not_found:{},...defaultIconDimensions};function checkOptionalProps(d,m){for(const g in m)if(g in d&&typeof d[g]!=typeof m[g])return!1;return!0}function quicklyValidateIconSet(d){if(typeof d!="object"||d===null)return null;const m=d;if(typeof m.prefix!="string"||!d.icons||typeof d.icons!="object"||!checkOptionalProps(d,optionalPropertyDefaults))return null;const g=m.icons;for(const D in g){const j=g[D];if(!D||typeof j.body!="string"||!checkOptionalProps(j,defaultExtendedIconProps))return null}const w=m.aliases||Object.create(null);for(const D in w){const j=w[D],q=j.parent;if(!D||typeof q!="string"||!g[q]&&!w[q]||!checkOptionalProps(j,defaultExtendedIconProps))return null}return m}const matchIconName=/^[a-z0-9]+(-[a-z0-9]+)*$/,stringToIcon=(d,m,g,w="")=>{const D=d.split(":");if(d.slice(0,1)==="@"){if(D.length<2||D.length>3)return null;w=D.shift().slice(1)}if(D.length>3||!D.length)return null;if(D.length>1){const te=D.pop(),re=D.pop(),ne={provider:D.length>0?D[0]:w,prefix:re,name:te};return m&&!validateIconName(ne)?null:ne}const j=D[0],q=j.split("-");if(q.length>1){const te={provider:w,prefix:q.shift(),name:q.join("-")};return m&&!validateIconName(te)?null:te}if(g&&w===""){const te={provider:w,prefix:"",name:j};return m&&!validateIconName(te,g)?null:te}return null},validateIconName=(d,m)=>d?!!((m&&d.prefix===""||d.prefix)&&d.name):!1,dataStorage=Object.create(null);function newStorage(d,m){return{provider:d,prefix:m,icons:Object.create(null),missing:new Set}}function getStorage(d,m){const g=dataStorage[d]||(dataStorage[d]=Object.create(null));return g[m]||(g[m]=newStorage(d,m))}function addIconSet(d,m){return quicklyValidateIconSet(m)?parseIconSet(m,(g,w)=>{w?d.icons[g]=w:d.missing.add(g)}):[]}function addIconToStorage(d,m,g){try{if(typeof g.body=="string")return d.icons[m]={...g},!0}catch{}return!1}let simpleNames=!1;function allowSimpleNames(d){return typeof d=="boolean"&&(simpleNames=d),simpleNames}function getIconData(d){const m=typeof d=="string"?stringToIcon(d,!0,simpleNames):d;if(m){const g=getStorage(m.provider,m.prefix),w=m.name;return g.icons[w]||(g.missing.has(w)?null:void 0)}}function addIcon(d,m){const g=stringToIcon(d,!0,simpleNames);if(!g)return!1;const w=getStorage(g.provider,g.prefix);return m?addIconToStorage(w,g.name,m):(w.missing.add(g.name),!0)}function addCollection(d,m){if(typeof d!="object")return!1;if(typeof m!="string"&&(m=d.provider||""),simpleNames&&!m&&!d.prefix){let D=!1;return quicklyValidateIconSet(d)&&(d.prefix="",parseIconSet(d,(j,q)=>{addIcon(j,q)&&(D=!0)})),D}const g=d.prefix;if(!validateIconName({provider:m,prefix:g,name:"a"}))return!1;const w=getStorage(m,g);return!!addIconSet(w,d)}const defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations}),unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(d,m,g){if(m===1)return d;if(g=g||100,typeof d=="number")return Math.ceil(d*m*g)/g;if(typeof d!="string")return d;const w=d.split(unitsSplit);if(w===null||!w.length)return d;const D=[];let j=w.shift(),q=unitsTest.test(j);for(;;){if(q){const te=parseFloat(j);isNaN(te)?D.push(j):D.push(Math.ceil(te*m*g)/g)}else D.push(j);if(j=w.shift(),j===void 0)return D.join("");q=!q}}function splitSVGDefs(d,m="defs"){let g="";const w=d.indexOf("<"+m);for(;w>=0;){const D=d.indexOf(">",w),j=d.indexOf("</"+m);if(D===-1||j===-1)break;const q=d.indexOf(">",j);if(q===-1)break;g+=d.slice(D+1,j).trim(),d=d.slice(0,w).trim()+d.slice(q+1)}return{defs:g,content:d}}function mergeDefsAndContent(d,m){return d?"<defs>"+d+"</defs>"+m:m}function wrapSVGContent(d,m,g){const w=splitSVGDefs(d);return mergeDefsAndContent(w.defs,m+w.content+g)}const isUnsetKeyword=d=>d==="unset"||d==="undefined"||d==="none";function iconToSVG(d,m){const g={...defaultIconProps,...d},w={...defaultIconCustomisations,...m},D={left:g.left,top:g.top,width:g.width,height:g.height};let j=g.body;[g,w].forEach(ce=>{const de=[],he=ce.hFlip,pe=ce.vFlip;let me=ce.rotate;he?pe?me+=2:(de.push("translate("+(D.width+D.left).toString()+" "+(0-D.top).toString()+")"),de.push("scale(-1 1)"),D.top=D.left=0):pe&&(de.push("translate("+(0-D.left).toString()+" "+(D.height+D.top).toString()+")"),de.push("scale(1 -1)"),D.top=D.left=0);let ge;switch(me<0&&(me-=Math.floor(me/4)*4),me=me%4,me){case 1:ge=D.height/2+D.top,de.unshift("rotate(90 "+ge.toString()+" "+ge.toString()+")");break;case 2:de.unshift("rotate(180 "+(D.width/2+D.left).toString()+" "+(D.height/2+D.top).toString()+")");break;case 3:ge=D.width/2+D.left,de.unshift("rotate(-90 "+ge.toString()+" "+ge.toString()+")");break}me%2===1&&(D.left!==D.top&&(ge=D.left,D.left=D.top,D.top=ge),D.width!==D.height&&(ge=D.width,D.width=D.height,D.height=ge)),de.length&&(j=wrapSVGContent(j,'<g transform="'+de.join(" ")+'">',"</g>"))});const q=w.width,te=w.height,re=D.width,ne=D.height;let ie,ae;q===null?(ae=te===null?"1em":te==="auto"?ne:te,ie=calculateSize(ae,re/ne)):(ie=q==="auto"?re:q,ae=te===null?calculateSize(ie,ne/re):te==="auto"?ne:te);const se={},le=(ce,de)=>{isUnsetKeyword(de)||(se[ce]=de.toString())};le("width",ie),le("height",ae);const ue=[D.left,D.top,re,ne];return se.viewBox=ue.join(" "),{attributes:se,viewBox:ue,body:j}}const regex=/\sid="(\S+)"/g,randomPrefix="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let counter=0;function replaceIDs(d,m=randomPrefix){const g=[];let w;for(;w=regex.exec(d);)g.push(w[1]);if(!g.length)return d;const D="suffix"+(Math.random()*16777216|Date.now()).toString(16);return g.forEach(j=>{const q=typeof m=="function"?m(j):m+(counter++).toString(),te=j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");d=d.replace(new RegExp('([#;"])('+te+')([")]|\\.[a-z])',"g"),"$1"+q+D+"$3")}),d=d.replace(new RegExp(D,"g"),""),d}const storage=Object.create(null);function setAPIModule(d,m){storage[d]=m}function getAPIModule(d){return storage[d]||storage[""]}function createAPIConfig(d){let m;if(typeof d.resources=="string")m=[d.resources];else if(m=d.resources,!(m instanceof Array)||!m.length)return null;return{resources:m,path:d.path||"/",maxURL:d.maxURL||500,rotate:d.rotate||750,timeout:d.timeout||5e3,random:d.random===!0,index:d.index||0,dataAfterTimeout:d.dataAfterTimeout!==!1}}const configStorage=Object.create(null),fallBackAPISources=["https://api.simplesvg.com","https://api.unisvg.com"],fallBackAPI=[];for(;fallBackAPISources.length>0;)fallBackAPISources.length===1||Math.random()>.5?fallBackAPI.push(fallBackAPISources.shift()):fallBackAPI.push(fallBackAPISources.pop());configStorage[""]=createAPIConfig({resources:["https://api.iconify.design"].concat(fallBackAPI)});function addAPIProvider(d,m){const g=createAPIConfig(m);return g===null?!1:(configStorage[d]=g,!0)}function getAPIConfig(d){return configStorage[d]}const detectFetch=()=>{let d;try{if(d=fetch,typeof d=="function")return d}catch{}};let fetchModule=detectFetch();function calculateMaxLength(d,m){const g=getAPIConfig(d);if(!g)return 0;let w;if(!g.maxURL)w=0;else{let D=0;g.resources.forEach(q=>{D=Math.max(D,q.length)});const j=m+".json?icons=";w=g.maxURL-D-g.path.length-j.length}return w}function shouldAbort(d){return d===404}const prepare=(d,m,g)=>{const w=[],D=calculateMaxLength(d,m),j="icons";let q={type:j,provider:d,prefix:m,icons:[]},te=0;return g.forEach((re,ne)=>{te+=re.length+1,te>=D&&ne>0&&(w.push(q),q={type:j,provider:d,prefix:m,icons:[]},te=re.length),q.icons.push(re)}),w.push(q),w};function getPath(d){if(typeof d=="string"){const m=getAPIConfig(d);if(m)return m.path}return"/"}const send=(d,m,g)=>{if(!fetchModule){g("abort",424);return}let w=getPath(m.provider);switch(m.type){case"icons":{const j=m.prefix,te=m.icons.join(","),re=new URLSearchParams({icons:te});w+=j+".json?"+re.toString();break}case"custom":{const j=m.uri;w+=j.slice(0,1)==="/"?j.slice(1):j;break}default:g("abort",400);return}let D=503;fetchModule(d+w).then(j=>{const q=j.status;if(q!==200){setTimeout(()=>{g(shouldAbort(q)?"abort":"next",q)});return}return D=501,j.json()}).then(j=>{if(typeof j!="object"||j===null){setTimeout(()=>{j===404?g("abort",j):g("next",D)});return}setTimeout(()=>{g("success",j)})}).catch(()=>{g("next",D)})},fetchAPIModule={prepare,send};function sortIcons(d){const m={loaded:[],missing:[],pending:[]},g=Object.create(null);d.sort((D,j)=>D.provider!==j.provider?D.provider.localeCompare(j.provider):D.prefix!==j.prefix?D.prefix.localeCompare(j.prefix):D.name.localeCompare(j.name));let w={provider:"",prefix:"",name:""};return d.forEach(D=>{if(w.name===D.name&&w.prefix===D.prefix&&w.provider===D.provider)return;w=D;const j=D.provider,q=D.prefix,te=D.name,re=g[j]||(g[j]=Object.create(null)),ne=re[q]||(re[q]=getStorage(j,q));let ie;te in ne.icons?ie=m.loaded:q===""||ne.missing.has(te)?ie=m.missing:ie=m.pending;const ae={provider:j,prefix:q,name:te};ie.push(ae)}),m}function removeCallback(d,m){d.forEach(g=>{const w=g.loaderCallbacks;w&&(g.loaderCallbacks=w.filter(D=>D.id!==m))})}function updateCallbacks(d){d.pendingCallbacksFlag||(d.pendingCallbacksFlag=!0,setTimeout(()=>{d.pendingCallbacksFlag=!1;const m=d.loaderCallbacks?d.loaderCallbacks.slice(0):[];if(!m.length)return;let g=!1;const w=d.provider,D=d.prefix;m.forEach(j=>{const q=j.icons,te=q.pending.length;q.pending=q.pending.filter(re=>{if(re.prefix!==D)return!0;const ne=re.name;if(d.icons[ne])q.loaded.push({provider:w,prefix:D,name:ne});else if(d.missing.has(ne))q.missing.push({provider:w,prefix:D,name:ne});else return g=!0,!0;return!1}),q.pending.length!==te&&(g||removeCallback([d],j.id),j.callback(q.loaded.slice(0),q.missing.slice(0),q.pending.slice(0),j.abort))})}))}let idCounter=0;function storeCallback(d,m,g){const w=idCounter++,D=removeCallback.bind(null,g,w);if(!m.pending.length)return D;const j={id:w,icons:m,callback:d,abort:D};return g.forEach(q=>{(q.loaderCallbacks||(q.loaderCallbacks=[])).push(j)}),D}function listToIcons(d,m=!0,g=!1){const w=[];return d.forEach(D=>{const j=typeof D=="string"?stringToIcon(D,m,g):D;j&&w.push(j)}),w}var defaultConfig={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function sendQuery(d,m,g,w){const D=d.resources.length,j=d.random?Math.floor(Math.random()*D):d.index;let q;if(d.random){let ke=d.resources.slice(0);for(q=[];ke.length>1;){const ye=Math.floor(Math.random()*ke.length);q.push(ke[ye]),ke=ke.slice(0,ye).concat(ke.slice(ye+1))}q=q.concat(ke)}else q=d.resources.slice(j).concat(d.resources.slice(0,j));const te=Date.now();let re="pending",ne=0,ie,ae=null,se=[],le=[];typeof w=="function"&&le.push(w);function ue(){ae&&(clearTimeout(ae),ae=null)}function ce(){re==="pending"&&(re="aborted"),ue(),se.forEach(ke=>{ke.status==="pending"&&(ke.status="aborted")}),se=[]}function de(ke,ye){ye&&(le=[]),typeof ke=="function"&&le.push(ke)}function he(){return{startTime:te,payload:m,status:re,queriesSent:ne,queriesPending:se.length,subscribe:de,abort:ce}}function pe(){re="failed",le.forEach(ke=>{ke(void 0,ie)})}function me(){se.forEach(ke=>{ke.status==="pending"&&(ke.status="aborted")}),se=[]}function ge(ke,ye,Se){const we=ye!=="success";switch(se=se.filter(Te=>Te!==ke),re){case"pending":break;case"failed":if(we||!d.dataAfterTimeout)return;break;default:return}if(ye==="abort"){ie=Se,pe();return}if(we){ie=Se,se.length||(q.length?be():pe());return}if(ue(),me(),!d.random){const Te=d.resources.indexOf(ke.resource);Te!==-1&&Te!==d.index&&(d.index=Te)}re="completed",le.forEach(Te=>{Te(Se)})}function be(){if(re!=="pending")return;ue();const ke=q.shift();if(ke===void 0){if(se.length){ae=setTimeout(()=>{ue(),re==="pending"&&(me(),pe())},d.timeout);return}pe();return}const ye={status:"pending",resource:ke,callback:(Se,we)=>{ge(ye,Se,we)}};se.push(ye),ne++,ae=setTimeout(be,d.rotate),g(ke,m,ye.callback)}return setTimeout(be),he}function initRedundancy(d){const m={...defaultConfig,...d};let g=[];function w(){g=g.filter(te=>te().status==="pending")}function D(te,re,ne){const ie=sendQuery(m,te,re,(ae,se)=>{w(),ne&&ne(ae,se)});return g.push(ie),ie}function j(te){return g.find(re=>te(re))||null}return{query:D,find:j,setIndex:te=>{m.index=te},getIndex:()=>m.index,cleanup:w}}function emptyCallback$1(){}const redundancyCache=Object.create(null);function getRedundancyCache(d){if(!redundancyCache[d]){const m=getAPIConfig(d);if(!m)return;const g=initRedundancy(m),w={config:m,redundancy:g};redundancyCache[d]=w}return redundancyCache[d]}function sendAPIQuery(d,m,g){let w,D;if(typeof d=="string"){const j=getAPIModule(d);if(!j)return g(void 0,424),emptyCallback$1;D=j.send;const q=getRedundancyCache(d);q&&(w=q.redundancy)}else{const j=createAPIConfig(d);if(j){w=initRedundancy(j);const q=d.resources?d.resources[0]:"",te=getAPIModule(q);te&&(D=te.send)}}return!w||!D?(g(void 0,424),emptyCallback$1):w.query(m,D,g)().abort}function emptyCallback(){}function loadedNewIcons(d){d.iconsLoaderFlag||(d.iconsLoaderFlag=!0,setTimeout(()=>{d.iconsLoaderFlag=!1,updateCallbacks(d)}))}function checkIconNamesForAPI(d){const m=[],g=[];return d.forEach(w=>{(w.match(matchIconName)?m:g).push(w)}),{valid:m,invalid:g}}function parseLoaderResponse(d,m,g){function w(){const D=d.pendingIcons;m.forEach(j=>{D&&D.delete(j),d.icons[j]||d.missing.add(j)})}if(g&&typeof g=="object")try{if(!addIconSet(d,g).length){w();return}}catch(D){console.error(D)}w(),loadedNewIcons(d)}function parsePossiblyAsyncResponse(d,m){d instanceof Promise?d.then(g=>{m(g)}).catch(()=>{m(null)}):m(d)}function loadNewIcons(d,m){d.iconsToLoad?d.iconsToLoad=d.iconsToLoad.concat(m).sort():d.iconsToLoad=m,d.iconsQueueFlag||(d.iconsQueueFlag=!0,setTimeout(()=>{d.iconsQueueFlag=!1;const{provider:g,prefix:w}=d,D=d.iconsToLoad;if(delete d.iconsToLoad,!D||!D.length)return;const j=d.loadIcon;if(d.loadIcons&&(D.length>1||!j)){parsePossiblyAsyncResponse(d.loadIcons(D,w,g),ie=>{parseLoaderResponse(d,D,ie)});return}if(j){D.forEach(ie=>{const ae=j(ie,w,g);parsePossiblyAsyncResponse(ae,se=>{const le=se?{prefix:w,icons:{[ie]:se}}:null;parseLoaderResponse(d,[ie],le)})});return}const{valid:q,invalid:te}=checkIconNamesForAPI(D);if(te.length&&parseLoaderResponse(d,te,null),!q.length)return;const re=w.match(matchIconName)?getAPIModule(g):null;if(!re){parseLoaderResponse(d,q,null);return}re.prepare(g,w,q).forEach(ie=>{sendAPIQuery(g,ie,ae=>{parseLoaderResponse(d,ie.icons,ae)})})}))}const loadIcons=(d,m)=>{const g=listToIcons(d,!0,allowSimpleNames()),w=sortIcons(g);if(!w.pending.length){let re=!0;return setTimeout(()=>{re&&m(w.loaded,w.missing,w.pending,emptyCallback)}),()=>{re=!1}}const D=Object.create(null),j=[];let q,te;return w.pending.forEach(re=>{const{provider:ne,prefix:ie}=re;if(ie===te&&ne===q)return;q=ne,te=ie,j.push(getStorage(ne,ie));const ae=D[ne]||(D[ne]=Object.create(null));ae[ie]||(ae[ie]=[])}),w.pending.forEach(re=>{const{provider:ne,prefix:ie,name:ae}=re,se=getStorage(ne,ie),le=se.pendingIcons||(se.pendingIcons=new Set);le.has(ae)||(le.add(ae),D[ne][ie].push(ae))}),j.forEach(re=>{const ne=D[re.provider][re.prefix];ne.length&&loadNewIcons(re,ne)}),storeCallback(m,w,j)};function mergeCustomisations(d,m){const g={...d};for(const w in m){const D=m[w],j=typeof D;w in defaultIconSizeCustomisations?(D===null||D&&(j==="string"||j==="number"))&&(g[w]=D):j===typeof g[w]&&(g[w]=w==="rotate"?D%4:D)}return g}const separator=/[\s,]+/;function flipFromString(d,m){m.split(separator).forEach(g=>{switch(g.trim()){case"horizontal":d.hFlip=!0;break;case"vertical":d.vFlip=!0;break}})}function rotateFromString(d,m=0){const g=d.replace(/^-?[0-9.]*/,"");function w(D){for(;D<0;)D+=4;return D%4}if(g===""){const D=parseInt(d);return isNaN(D)?0:w(D)}else if(g!==d){let D=0;switch(g){case"%":D=25;break;case"deg":D=90}if(D){let j=parseFloat(d.slice(0,d.length-g.length));return isNaN(j)?0:(j=j/D,j%1===0?w(j):0)}}return m}function iconToHTML(d,m){let g=d.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const w in m)g+=" "+w+'="'+m[w]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+g+">"+d+"</svg>"}function encodeSVGforURL(d){return d.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function svgToData(d){return"data:image/svg+xml,"+encodeSVGforURL(d)}function svgToURL(d){return'url("'+svgToData(d)+'")'}let policy;function createPolicy(){try{policy=window.trustedTypes.createPolicy("iconify",{createHTML:d=>d})}catch{policy=null}}function cleanUpInnerHTML(d){return policy===void 0&&createPolicy(),policy?policy.createHTML(d):d}const defaultExtendedIconCustomisations={...defaultIconCustomisations,inline:!1},svgDefaults={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},commonProps={display:"inline-block"},monotoneProps={backgroundColor:"currentColor"},coloredProps={backgroundColor:"transparent"},propsToAdd={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},propsToAddTo={WebkitMask:monotoneProps,mask:monotoneProps,background:coloredProps};for(const d in propsToAddTo){const m=propsToAddTo[d];for(const g in propsToAdd)m[d+g]=propsToAdd[g]}const inlineDefaults={...defaultExtendedIconCustomisations,inline:!0};function fixSize(d){return d+(d.match(/^[-0-9.]+$/)?"px":"")}const render=(d,m,g)=>{const w=m.inline?inlineDefaults:defaultExtendedIconCustomisations,D=mergeCustomisations(w,m),j=m.mode||"svg",q={},te=m.style||{},re={...j==="svg"?svgDefaults:{}};if(g){const de=stringToIcon(g,!1,!0);if(de){const he=["iconify"],pe=["provider","prefix"];for(const me of pe)de[me]&&he.push("iconify--"+de[me]);re.className=he.join(" ")}}for(let de in m){const he=m[de];if(he!==void 0)switch(de){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":re.ref=he;break;case"className":re[de]=(re[de]?re[de]+" ":"")+he;break;case"inline":case"hFlip":case"vFlip":D[de]=he===!0||he==="true"||he===1;break;case"flip":typeof he=="string"&&flipFromString(D,he);break;case"color":q.color=he;break;case"rotate":typeof he=="string"?D[de]=rotateFromString(he):typeof he=="number"&&(D[de]=he);break;case"ariaHidden":case"aria-hidden":he!==!0&&he!=="true"&&delete re["aria-hidden"];break;default:w[de]===void 0&&(re[de]=he)}}const ne=iconToSVG(d,D),ie=ne.attributes;if(D.inline&&(q.verticalAlign="-0.125em"),j==="svg"){re.style={...q,...te},Object.assign(re,ie);let de=0,he=m.id;return typeof he=="string"&&(he=he.replace(/-/g,"_")),re.dangerouslySetInnerHTML={__html:cleanUpInnerHTML(replaceIDs(ne.body,he?()=>he+"ID"+de++:"iconifyReact"))},reactExports.createElement("svg",re)}const{body:ae,width:se,height:le}=d,ue=j==="mask"||(j==="bg"?!1:ae.indexOf("currentColor")!==-1),ce=iconToHTML(ae,{...ie,width:se+"",height:le+""});return re.style={...q,"--svg":svgToURL(ce),width:fixSize(ie.width),height:fixSize(ie.height),...commonProps,...ue?monotoneProps:coloredProps,...te},reactExports.createElement("span",re)};allowSimpleNames(!0);setAPIModule("",fetchAPIModule);if(typeof document<"u"&&typeof window<"u"){const d=window;if(d.IconifyPreload!==void 0){const m=d.IconifyPreload,g="Invalid IconifyPreload syntax.";typeof m=="object"&&m!==null&&(m instanceof Array?m:[m]).forEach(w=>{try{(typeof w!="object"||w===null||w instanceof Array||typeof w.icons!="object"||typeof w.prefix!="string"||!addCollection(w))&&console.error(g)}catch{console.error(g)}})}if(d.IconifyProviders!==void 0){const m=d.IconifyProviders;if(typeof m=="object"&&m!==null)for(let g in m){const w="IconifyProviders["+g+"] is invalid.";try{const D=m[g];if(typeof D!="object"||!D||D.resources===void 0)continue;addAPIProvider(g,D)||console.error(w)}catch{console.error(w)}}}}function IconComponent(d){const[m,g]=reactExports.useState(!!d.ssr),[w,D]=reactExports.useState({});function j(le){if(le){const ue=d.icon;if(typeof ue=="object")return{name:"",data:ue};const ce=getIconData(ue);if(ce)return{name:ue,data:ce}}return{name:""}}const[q,te]=reactExports.useState(j(!!d.ssr));function re(){const le=w.callback;le&&(le(),D({}))}function ne(le){if(JSON.stringify(q)!==JSON.stringify(le))return re(),te(le),!0}function ie(){var le;const ue=d.icon;if(typeof ue=="object"){ne({name:"",data:ue});return}const ce=getIconData(ue);if(ne({name:ue,data:ce}))if(ce===void 0){const de=loadIcons([ue],ie);D({callback:de})}else ce&&((le=d.onLoad)===null||le===void 0||le.call(d,ue))}reactExports.useEffect(()=>(g(!0),re),[]),reactExports.useEffect(()=>{m&&ie()},[d.icon,m]);const{name:ae,data:se}=q;return se?render({...defaultIconProps,...se},d,ae):d.children?d.children:reactExports.createElement("span",{})}const Icon=reactExports.forwardRef((d,m)=>IconComponent({...d,_ref:m}));reactExports.forwardRef((d,m)=>IconComponent({inline:!0,...d,_ref:m}));function r$1(d){var m,g,w="";if(typeof d=="string"||typeof d=="number")w+=d;else if(typeof d=="object")if(Array.isArray(d)){var D=d.length;for(m=0;m<D;m++)d[m]&&(g=r$1(d[m]))&&(w&&(w+=" "),w+=g)}else for(g in d)d[g]&&(w&&(w+=" "),w+=g);return w}function clsx(){for(var d,m,g=0,w="",D=arguments.length;g<D;g++)(d=arguments[g])&&(m=r$1(d))&&(w&&(w+=" "),w+=m);return w}function Mt(d){if(typeof document>"u")return;let m=document.head||document.getElementsByTagName("head")[0],g=document.createElement("style");g.type="text/css",m.firstChild?m.insertBefore(g,m.firstChild):m.appendChild(g),g.styleSheet?g.styleSheet.cssText=d:g.appendChild(document.createTextNode(d))}Mt(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L$1=d=>typeof d=="number"&&!isNaN(d),N$1=d=>typeof d=="string",P=d=>typeof d=="function",mt=d=>N$1(d)||L$1(d),B$1=d=>N$1(d)||P(d)?d:null,pt=(d,m)=>d===!1||L$1(d)&&d>0?d:m,z$1=d=>reactExports.isValidElement(d)||N$1(d)||P(d)||L$1(d);function Z(d,m,g=300){let{scrollHeight:w,style:D}=d;requestAnimationFrame(()=>{D.minHeight="initial",D.height=w+"px",D.transition=`all ${g}ms`,requestAnimationFrame(()=>{D.height="0",D.padding="0",D.margin="0",setTimeout(m,g)})})}function $({enter:d,exit:m,appendPosition:g=!1,collapse:w=!0,collapseDuration:D=300}){return function({children:j,position:q,preventExitTransition:te,done:re,nodeRef:ne,isIn:ie,playToast:ae}){let se=g?`${d}--${q}`:d,le=g?`${m}--${q}`:m,ue=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let ce=ne.current,de=se.split(" "),he=pe=>{pe.target===ne.current&&(ae(),ce.removeEventListener("animationend",he),ce.removeEventListener("animationcancel",he),ue.current===0&&pe.type!=="animationcancel"&&ce.classList.remove(...de))};ce.classList.add(...de),ce.addEventListener("animationend",he),ce.addEventListener("animationcancel",he)},[]),reactExports.useEffect(()=>{let ce=ne.current,de=()=>{ce.removeEventListener("animationend",de),w?Z(ce,re,D):re()};ie||(te?de():(ue.current=1,ce.className+=` ${le}`,ce.addEventListener("animationend",de)))},[ie]),ct.createElement(ct.Fragment,null,j)}}function J(d,m){return{content:tt(d.content,d.props),containerId:d.props.containerId,id:d.props.toastId,theme:d.props.theme,type:d.props.type,data:d.props.data||{},isLoading:d.props.isLoading,icon:d.props.icon,reason:d.removalReason,status:m}}function tt(d,m,g=!1){return reactExports.isValidElement(d)&&!N$1(d.type)?reactExports.cloneElement(d,{closeToast:m.closeToast,toastProps:m,data:m.data,isPaused:g}):P(d)?d({closeToast:m.closeToast,toastProps:m,data:m.data,isPaused:g}):d}function yt({closeToast:d,theme:m,ariaLabel:g="close"}){return ct.createElement("button",{className:`Toastify__close-button Toastify__close-button--${m}`,type:"button",onClick:w=>{w.stopPropagation(),d(!0)},"aria-label":g},ct.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ct.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt({delay:d,isRunning:m,closeToast:g,type:w="default",hide:D,className:j,controlledProgress:q,progress:te,rtl:re,isIn:ne,theme:ie}){let ae=D||q&&te===0,se={animationDuration:`${d}ms`,animationPlayState:m?"running":"paused"};q&&(se.transform=`scaleX(${te})`);let le=clsx("Toastify__progress-bar",q?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${ie}`,`Toastify__progress-bar--${w}`,{"Toastify__progress-bar--rtl":re}),ue=P(j)?j({rtl:re,type:w,defaultClassName:le}):clsx(le,j),ce={[q&&te>=1?"onTransitionEnd":"onAnimationEnd"]:q&&te<1?null:()=>{ne&&g()}};return ct.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":ae},ct.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${ie} Toastify__progress-bar--${w}`}),ct.createElement("div",{role:"progressbar","aria-hidden":ae?"true":"false","aria-label":"notification timer",className:ue,style:se,...ce}))}var Xt=1,at=()=>`${Xt++}`;function _t(d,m,g){let w=1,D=0,j=[],q=[],te=m,re=new Map,ne=new Set,ie=pe=>(ne.add(pe),()=>ne.delete(pe)),ae=()=>{q=Array.from(re.values()),ne.forEach(pe=>pe())},se=({containerId:pe,toastId:me,updateId:ge})=>{let be=pe?pe!==d:d!==1,ke=re.has(me)&&ge==null;return be||ke},le=(pe,me)=>{re.forEach(ge=>{var be;(me==null||me===ge.props.toastId)&&((be=ge.toggle)==null||be.call(ge,pe))})},ue=pe=>{var me,ge;(ge=(me=pe.props)==null?void 0:me.onClose)==null||ge.call(me,pe.removalReason),pe.isActive=!1},ce=pe=>{if(pe==null)re.forEach(ue);else{let me=re.get(pe);me&&ue(me)}ae()},de=()=>{D-=j.length,j=[]},he=pe=>{var me,ge;let{toastId:be,updateId:ke}=pe.props,ye=ke==null;pe.staleId&&re.delete(pe.staleId),pe.isActive=!0,re.set(be,pe),ae(),g(J(pe,ye?"added":"updated")),ye&&((ge=(me=pe.props).onOpen)==null||ge.call(me))};return{id:d,props:te,observe:ie,toggle:le,removeToast:ce,toasts:re,clearQueue:de,buildToast:(pe,me)=>{if(se(me))return;let{toastId:ge,updateId:be,data:ke,staleId:ye,delay:Se}=me,we=be==null;we&&D++;let Te={...te,style:te.toastStyle,key:w++,...Object.fromEntries(Object.entries(me).filter(([Ie,Le])=>Le!=null)),toastId:ge,updateId:be,data:ke,isIn:!1,className:B$1(me.className||te.toastClassName),progressClassName:B$1(me.progressClassName||te.progressClassName),autoClose:me.isLoading?!1:pt(me.autoClose,te.autoClose),closeToast(Ie){re.get(ge).removalReason=Ie,ce(ge)},deleteToast(){let Ie=re.get(ge);if(Ie!=null){if(g(J(Ie,"removed")),re.delete(ge),D--,D<0&&(D=0),j.length>0){he(j.shift());return}ae()}}};Te.closeButton=te.closeButton,me.closeButton===!1||z$1(me.closeButton)?Te.closeButton=me.closeButton:me.closeButton===!0&&(Te.closeButton=z$1(te.closeButton)?te.closeButton:!0);let _e={content:pe,props:Te,staleId:ye};te.limit&&te.limit>0&&D>te.limit&&we?j.push(_e):L$1(Se)?setTimeout(()=>{he(_e)},Se):he(_e)},setProps(pe){te=pe},setToggle:(pe,me)=>{let ge=re.get(pe);ge&&(ge.toggle=me)},isToastActive:pe=>{var me;return(me=re.get(pe))==null?void 0:me.isActive},getSnapshot:()=>q}}var I=new Map,F=[],st=new Set,Vt=d=>st.forEach(m=>m(d)),bt=()=>I.size>0;function Qt(){F.forEach(d=>nt(d.content,d.options)),F=[]}var vt=(d,{containerId:m})=>{var g;return(g=I.get(m||1))==null?void 0:g.toasts.get(d)};function X(d,m){var g;if(m)return!!((g=I.get(m))!=null&&g.isToastActive(d));let w=!1;return I.forEach(D=>{D.isToastActive(d)&&(w=!0)}),w}function ht(d){if(!bt()){F=F.filter(m=>d!=null&&m.options.toastId!==d);return}if(d==null||mt(d))I.forEach(m=>{m.removeToast(d)});else if(d&&("containerId"in d||"id"in d)){let m=I.get(d.containerId);m?m.removeToast(d.id):I.forEach(g=>{g.removeToast(d.id)})}}var Ct=(d={})=>{I.forEach(m=>{m.props.limit&&(!d.containerId||m.id===d.containerId)&&m.clearQueue()})};function nt(d,m){z$1(d)&&(bt()||F.push({content:d,options:m}),I.forEach(g=>{g.buildToast(d,m)}))}function xt(d){var m;(m=I.get(d.containerId||1))==null||m.setToggle(d.id,d.fn)}function rt(d,m){I.forEach(g=>{(m==null||!(m!=null&&m.containerId)||(m==null?void 0:m.containerId)===g.id)&&g.toggle(d,m==null?void 0:m.id)})}function Et(d){let m=d.containerId||1;return{subscribe(g){let w=_t(m,d,Vt);I.set(m,w);let D=w.observe(g);return Qt(),()=>{D(),I.delete(m)}},setProps(g){var w;(w=I.get(m))==null||w.setProps(g)},getSnapshot(){var g;return(g=I.get(m))==null?void 0:g.getSnapshot()}}}function Pt(d){return st.add(d),()=>{st.delete(d)}}function Wt(d){return d&&(N$1(d.toastId)||L$1(d.toastId))?d.toastId:at()}function U(d,m){return nt(d,m),m.toastId}function V(d,m){return{...m,type:m&&m.type||d,toastId:Wt(m)}}function Q(d){return(m,g)=>U(m,V(d,g))}function y$3(d,m){return U(d,V("default",m))}y$3.loading=(d,m)=>U(d,V("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...m}));function Gt(d,{pending:m,error:g,success:w},D){let j;m&&(j=N$1(m)?y$3.loading(m,D):y$3.loading(m.render,{...D,...m}));let q={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},te=(ne,ie,ae)=>{if(ie==null){y$3.dismiss(j);return}let se={type:ne,...q,...D,data:ae},le=N$1(ie)?{render:ie}:ie;return j?y$3.update(j,{...se,...le}):y$3(le.render,{...se,...le}),ae},re=P(d)?d():d;return re.then(ne=>te("success",w,ne)).catch(ne=>te("error",g,ne)),re}y$3.promise=Gt;y$3.success=Q("success");y$3.info=Q("info");y$3.error=Q("error");y$3.warning=Q("warning");y$3.warn=y$3.warning;y$3.dark=(d,m)=>U(d,V("default",{theme:"dark",...m}));function qt(d){ht(d)}y$3.dismiss=qt;y$3.clearWaitingQueue=Ct;y$3.isActive=X;y$3.update=(d,m={})=>{let g=vt(d,m);if(g){let{props:w,content:D}=g,j={delay:100,...w,...m,toastId:m.toastId||d,updateId:at()};j.toastId!==d&&(j.staleId=d);let q=j.render||D;delete j.render,U(q,j)}};y$3.done=d=>{y$3.update(d,{progress:1})};y$3.onChange=Pt;y$3.play=d=>rt(!0,d);y$3.pause=d=>rt(!1,d);function It(d){var m;let{subscribe:g,getSnapshot:w,setProps:D}=reactExports.useRef(Et(d)).current;D(d);let j=(m=reactExports.useSyncExternalStore(g,w,w))==null?void 0:m.slice();function q(te){if(!j)return[];let re=new Map;return d.newestOnTop&&j.reverse(),j.forEach(ne=>{let{position:ie}=ne.props;re.has(ie)||re.set(ie,[]),re.get(ie).push(ne)}),Array.from(re,ne=>te(ne[0],ne[1]))}return{getToastToRender:q,isToastActive:X,count:j==null?void 0:j.length}}function At(d){let[m,g]=reactExports.useState(!1),[w,D]=reactExports.useState(!1),j=reactExports.useRef(null),q=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:te,pauseOnHover:re,closeToast:ne,onClick:ie,closeOnClick:ae}=d;xt({id:d.toastId,containerId:d.containerId,fn:g}),reactExports.useEffect(()=>{if(d.pauseOnFocusLoss)return se(),()=>{le()}},[d.pauseOnFocusLoss]);function se(){document.hasFocus()||he(),window.addEventListener("focus",de),window.addEventListener("blur",he)}function le(){window.removeEventListener("focus",de),window.removeEventListener("blur",he)}function ue(ye){if(d.draggable===!0||d.draggable===ye.pointerType){pe();let Se=j.current;q.canCloseOnClick=!0,q.canDrag=!0,Se.style.transition="none",d.draggableDirection==="x"?(q.start=ye.clientX,q.removalDistance=Se.offsetWidth*(d.draggablePercent/100)):(q.start=ye.clientY,q.removalDistance=Se.offsetHeight*(d.draggablePercent===80?d.draggablePercent*1.5:d.draggablePercent)/100)}}function ce(ye){let{top:Se,bottom:we,left:Te,right:_e}=j.current.getBoundingClientRect();ye.nativeEvent.type!=="touchend"&&d.pauseOnHover&&ye.clientX>=Te&&ye.clientX<=_e&&ye.clientY>=Se&&ye.clientY<=we?he():de()}function de(){g(!0)}function he(){g(!1)}function pe(){q.didMove=!1,document.addEventListener("pointermove",ge),document.addEventListener("pointerup",be)}function me(){document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",be)}function ge(ye){let Se=j.current;if(q.canDrag&&Se){q.didMove=!0,m&&he(),d.draggableDirection==="x"?q.delta=ye.clientX-q.start:q.delta=ye.clientY-q.start,q.start!==ye.clientX&&(q.canCloseOnClick=!1);let we=d.draggableDirection==="x"?`${q.delta}px, var(--y)`:`0, calc(${q.delta}px + var(--y))`;Se.style.transform=`translate3d(${we},0)`,Se.style.opacity=`${1-Math.abs(q.delta/q.removalDistance)}`}}function be(){me();let ye=j.current;if(q.canDrag&&q.didMove&&ye){if(q.canDrag=!1,Math.abs(q.delta)>q.removalDistance){D(!0),d.closeToast(!0),d.collapseAll();return}ye.style.transition="transform 0.2s, opacity 0.2s",ye.style.removeProperty("transform"),ye.style.removeProperty("opacity")}}let ke={onPointerDown:ue,onPointerUp:ce};return te&&re&&(ke.onMouseEnter=he,d.stacked||(ke.onMouseLeave=de)),ae&&(ke.onClick=ye=>{ie&&ie(ye),q.canCloseOnClick&&ne(!0)}),{playToast:de,pauseToast:he,isRunning:m,preventExitTransition:w,toastRef:j,eventHandlers:ke}}var Ot=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G=({theme:d,type:m,isLoading:g,...w})=>ct.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:d==="colored"?"currentColor":`var(--toastify-icon-color-${m})`,...w});function ao(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return ct.createElement("div",{className:"Toastify__spinner"})}var W={info:so,warning:ao,success:no,error:ro,spinner:io},lo=d=>d in W;function Nt({theme:d,type:m,isLoading:g,icon:w}){let D=null,j={theme:d,type:m};return w===!1||(P(w)?D=w({...j,isLoading:g}):reactExports.isValidElement(w)?D=reactExports.cloneElement(w,j):g?D=W.spinner():lo(m)&&(D=W[m](j))),D}var wt=d=>{let{isRunning:m,preventExitTransition:g,toastRef:w,eventHandlers:D,playToast:j}=At(d),{closeButton:q,children:te,autoClose:re,onClick:ne,type:ie,hideProgressBar:ae,closeToast:se,transition:le,position:ue,className:ce,style:de,progressClassName:he,updateId:pe,role:me,progress:ge,rtl:be,toastId:ke,deleteToast:ye,isIn:Se,isLoading:we,closeOnClick:Te,theme:_e,ariaLabel:Ie}=d,Le=clsx("Toastify__toast",`Toastify__toast-theme--${_e}`,`Toastify__toast--${ie}`,{"Toastify__toast--rtl":be},{"Toastify__toast--close-on-click":Te}),Be=P(ce)?ce({rtl:be,position:ue,type:ie,defaultClassName:Le}):clsx(Le,ce),Me=Nt(d),Ne=!!ge||!re,Ye={closeToast:se,type:ie,theme:_e},Ue=null;return q===!1||(P(q)?Ue=q(Ye):reactExports.isValidElement(q)?Ue=reactExports.cloneElement(q,Ye):Ue=yt(Ye)),ct.createElement(le,{isIn:Se,done:ye,position:ue,preventExitTransition:g,nodeRef:w,playToast:j},ct.createElement("div",{id:ke,tabIndex:0,onClick:ne,"data-in":Se,className:Be,...D,style:de,ref:w,...Se&&{role:me,"aria-label":Ie}},Me!=null&&ct.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!we})},Me),tt(te,d,!m),Ue,!d.customProgressBar&&ct.createElement(gt,{...pe&&!Ne?{key:`p-${pe}`}:{},rtl:be,theme:_e,delay:re,isRunning:m,isIn:Se,closeToast:se,hide:ae,type:ie,className:he,controlledProgress:Ne,progress:ge||0})))},K=(d,m=!1)=>({enter:`Toastify--animate Toastify__${d}-enter`,exit:`Toastify--animate Toastify__${d}-exit`,appendPosition:m}),lt=$(K("bounce",!0)),_o={position:"top-right",transition:lt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:d=>d.altKey&&d.code==="KeyT"};function Lt(d){let m={..._o,...d},g=d.stacked,[w,D]=reactExports.useState(!0),j=reactExports.useRef(null),{getToastToRender:q,isToastActive:te,count:re}=It(m),{className:ne,style:ie,rtl:ae,containerId:se,hotKeys:le}=m;function ue(de){let he=clsx("Toastify__toast-container",`Toastify__toast-container--${de}`,{"Toastify__toast-container--rtl":ae});return P(ne)?ne({position:de,rtl:ae,defaultClassName:he}):clsx(he,B$1(ne))}function ce(){g&&(D(!0),y$3.play())}return Ot(()=>{var de;if(g){let he=j.current.querySelectorAll('[data-in="true"]'),pe=12,me=(de=m.position)==null?void 0:de.includes("top"),ge=0,be=0;Array.from(he).reverse().forEach((ke,ye)=>{let Se=ke;Se.classList.add("Toastify__toast--stacked"),ye>0&&(Se.dataset.collapsed=`${w}`),Se.dataset.pos||(Se.dataset.pos=me?"top":"bot");let we=ge*(w?.2:1)+(w?0:pe*ye);Se.style.setProperty("--y",`${me?we:we*-1}px`),Se.style.setProperty("--g",`${pe}`),Se.style.setProperty("--s",`${1-(w?be:0)}`),ge+=Se.offsetHeight,be+=.025})}},[w,re,g]),reactExports.useEffect(()=>{function de(he){var pe;let me=j.current;le(he)&&((pe=me.querySelector('[tabIndex="0"]'))==null||pe.focus(),D(!1),y$3.pause()),he.key==="Escape"&&(document.activeElement===me||me!=null&&me.contains(document.activeElement))&&(D(!0),y$3.play())}return document.addEventListener("keydown",de),()=>{document.removeEventListener("keydown",de)}},[le]),ct.createElement("section",{ref:j,className:"Toastify",id:se,onMouseEnter:()=>{g&&(D(!1),y$3.pause())},onMouseLeave:ce,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":m["aria-label"]},q((de,he)=>{let pe=he.length?{...ie}:{...ie,pointerEvents:"none"};return ct.createElement("div",{tabIndex:-1,className:ue(de),"data-stacked":g,style:pe,key:`c-${de}`},he.map(({content:me,props:ge})=>ct.createElement(wt,{...ge,stacked:g,collapseAll:ce,isIn:te(ge.toastId,ge.containerId),key:`t-${ge.key}`},me)))}))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function getAugmentedNamespace(d){if(d.__esModule)return d;var m=d.default;if(typeof m=="function"){var g=function w(){return this instanceof w?Reflect.construct(m,arguments,this.constructor):m.apply(this,arguments)};g.prototype=m.prototype}else g={};return Object.defineProperty(g,"__esModule",{value:!0}),Object.keys(d).forEach(function(w){var D=Object.getOwnPropertyDescriptor(d,w);Object.defineProperty(g,w,D.get?D:{enumerable:!0,get:function(){return d[w]}})}),g}typeof self>"u"&&typeof commonjsGlobal=="object"&&(commonjsGlobal.self=commonjsGlobal);var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0;m<64;++m)lookup[m]=d[m],revLookup[d.charCodeAt(m)]=m;revLookup[45]=62,revLookup[95]=63}function toByteArray(d){var m,g,w,D,j,q;inited||init();var te=d.length;if(te%4>0)throw new Error("Invalid string. Length must be a multiple of 4");j=d[te-2]==="="?2:d[te-1]==="="?1:0,q=new Arr(3*te/4-j),w=j>0?te-4:te;var re=0;for(m=0,g=0;m<w;m+=4,g+=3)D=revLookup[d.charCodeAt(m)]<<18|revLookup[d.charCodeAt(m+1)]<<12|revLookup[d.charCodeAt(m+2)]<<6|revLookup[d.charCodeAt(m+3)],q[re++]=D>>16&255,q[re++]=D>>8&255,q[re++]=255&D;return j===2?(D=revLookup[d.charCodeAt(m)]<<2|revLookup[d.charCodeAt(m+1)]>>4,q[re++]=255&D):j===1&&(D=revLookup[d.charCodeAt(m)]<<10|revLookup[d.charCodeAt(m+1)]<<4|revLookup[d.charCodeAt(m+2)]>>2,q[re++]=D>>8&255,q[re++]=255&D),q}function tripletToBase64(d){return lookup[d>>18&63]+lookup[d>>12&63]+lookup[d>>6&63]+lookup[63&d]}function encodeChunk(d,m,g){for(var w,D=[],j=m;j<g;j+=3)w=(d[j]<<16)+(d[j+1]<<8)+d[j+2],D.push(tripletToBase64(w));return D.join("")}function fromByteArray(d){var m;inited||init();for(var g=d.length,w=g%3,D="",j=[],q=16383,te=0,re=g-w;te<re;te+=q)j.push(encodeChunk(d,te,te+q>re?re:te+q));return w===1?(m=d[g-1],D+=lookup[m>>2],D+=lookup[m<<4&63],D+="=="):w===2&&(m=(d[g-2]<<8)+d[g-1],D+=lookup[m>>10],D+=lookup[m>>4&63],D+=lookup[m<<2&63],D+="="),j.push(D),j.join("")}function read(d,m,g,w,D){var j,q,te=8*D-w-1,re=(1<<te)-1,ne=re>>1,ie=-7,ae=g?D-1:0,se=g?-1:1,le=d[m+ae];for(ae+=se,j=le&(1<<-ie)-1,le>>=-ie,ie+=te;ie>0;j=256*j+d[m+ae],ae+=se,ie-=8);for(q=j&(1<<-ie)-1,j>>=-ie,ie+=w;ie>0;q=256*q+d[m+ae],ae+=se,ie-=8);if(j===0)j=1-ne;else{if(j===re)return q?NaN:1/0*(le?-1:1);q+=Math.pow(2,w),j-=ne}return(le?-1:1)*q*Math.pow(2,j-w)}function write(d,m,g,w,D,j){var q,te,re,ne=8*j-D-1,ie=(1<<ne)-1,ae=ie>>1,se=D===23?Math.pow(2,-24)-Math.pow(2,-77):0,le=w?0:j-1,ue=w?1:-1,ce=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(te=isNaN(m)?1:0,q=ie):(q=Math.floor(Math.log(m)/Math.LN2),m*(re=Math.pow(2,-q))<1&&(q--,re*=2),(m+=q+ae>=1?se/re:se*Math.pow(2,1-ae))*re>=2&&(q++,re/=2),q+ae>=ie?(te=0,q=ie):q+ae>=1?(te=(m*re-1)*Math.pow(2,D),q+=ae):(te=m*Math.pow(2,ae-1)*Math.pow(2,D),q=0));D>=8;d[g+le]=255&te,le+=ue,te/=256,D-=8);for(q=q<<D|te,ne+=D;ne>0;d[g+le]=255&q,le+=ue,q/=256,ne-=8);d[g+le-ue]|=128*ce}var toString={}.toString,isArray=Array.isArray||function(d){return toString.call(d)=="[object Array]"},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(d,m){if(kMaxLength()<m)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(d=new Uint8Array(m)).__proto__=Buffer.prototype:(d===null&&(d=new Buffer(m)),d.length=m),d}function Buffer(d,m,g){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(d,m,g);if(typeof d=="number"){if(typeof m=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,d)}return from(this,d,m,g)}function from(d,m,g,w){if(typeof m=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer?fromArrayBuffer(d,m,g,w):typeof m=="string"?fromString(d,m,g):fromObject(d,m)}function assertSize(d){if(typeof d!="number")throw new TypeError('"size" argument must be a number');if(d<0)throw new RangeError('"size" argument must not be negative')}function alloc(d,m,g,w){return assertSize(m),m<=0?createBuffer(d,m):g!==void 0?typeof w=="string"?createBuffer(d,m).fill(g,w):createBuffer(d,m).fill(g):createBuffer(d,m)}function allocUnsafe(d,m){if(assertSize(m),d=createBuffer(d,m<0?0:0|checked(m)),!Buffer.TYPED_ARRAY_SUPPORT)for(var g=0;g<m;++g)d[g]=0;return d}function fromString(d,m,g){if(typeof g=="string"&&g!==""||(g="utf8"),!Buffer.isEncoding(g))throw new TypeError('"encoding" must be a valid string encoding');var w=0|byteLength(m,g),D=(d=createBuffer(d,w)).write(m,g);return D!==w&&(d=d.slice(0,D)),d}function fromArrayLike(d,m){var g=m.length<0?0:0|checked(m.length);d=createBuffer(d,g);for(var w=0;w<g;w+=1)d[w]=255&m[w];return d}function fromArrayBuffer(d,m,g,w){if(m.byteLength,g<0||m.byteLength<g)throw new RangeError("'offset' is out of bounds");if(m.byteLength<g+(w||0))throw new RangeError("'length' is out of bounds");return m=g===void 0&&w===void 0?new Uint8Array(m):w===void 0?new Uint8Array(m,g):new Uint8Array(m,g,w),Buffer.TYPED_ARRAY_SUPPORT?(d=m).__proto__=Buffer.prototype:d=fromArrayLike(d,m),d}function fromObject(d,m){if(internalIsBuffer(m)){var g=0|checked(m.length);return(d=createBuffer(d,g)).length===0||m.copy(d,0,0,g),d}if(m){if(typeof ArrayBuffer<"u"&&m.buffer instanceof ArrayBuffer||"length"in m)return typeof m.length!="number"||isnan(m.length)?createBuffer(d,0):fromArrayLike(d,m);if(m.type==="Buffer"&&isArray(m.data))return fromArrayLike(d,m.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(d){if(d>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|d}function internalIsBuffer(d){return!(d==null||!d._isBuffer)}function byteLength(d,m){if(internalIsBuffer(d))return d.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(d)||d instanceof ArrayBuffer))return d.byteLength;typeof d!="string"&&(d=""+d);var g=d.length;if(g===0)return 0;for(var w=!1;;)switch(m){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return utf8ToBytes(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*g;case"hex":return g>>>1;case"base64":return base64ToBytes(d).length;default:if(w)return utf8ToBytes(d).length;m=(""+m).toLowerCase(),w=!0}}function slowToString(d,m,g){var w=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0)<=(m>>>=0))return"";for(d||(d="utf8");;)switch(d){case"hex":return hexSlice(this,m,g);case"utf8":case"utf-8":return utf8Slice(this,m,g);case"ascii":return asciiSlice(this,m,g);case"latin1":case"binary":return latin1Slice(this,m,g);case"base64":return base64Slice(this,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,m,g);default:if(w)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),w=!0}}function swap(d,m,g){var w=d[m];d[m]=d[g],d[g]=w}function bidirectionalIndexOf(d,m,g,w,D){if(d.length===0)return-1;if(typeof g=="string"?(w=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,isNaN(g)&&(g=D?0:d.length-1),g<0&&(g=d.length+g),g>=d.length){if(D)return-1;g=d.length-1}else if(g<0){if(!D)return-1;g=0}if(typeof m=="string"&&(m=Buffer.from(m,w)),internalIsBuffer(m))return m.length===0?-1:arrayIndexOf(d,m,g,w,D);if(typeof m=="number")return m&=255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(d,m,g):Uint8Array.prototype.lastIndexOf.call(d,m,g):arrayIndexOf(d,[m],g,w,D);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(d,m,g,w,D){var j,q=1,te=d.length,re=m.length;if(w!==void 0&&((w=String(w).toLowerCase())==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(d.length<2||m.length<2)return-1;q=2,te/=2,re/=2,g/=2}function ne(le,ue){return q===1?le[ue]:le.readUInt16BE(ue*q)}if(D){var ie=-1;for(j=g;j<te;j++)if(ne(d,j)===ne(m,ie===-1?0:j-ie)){if(ie===-1&&(ie=j),j-ie+1===re)return ie*q}else ie!==-1&&(j-=j-ie),ie=-1}else for(g+re>te&&(g=te-re),j=g;j>=0;j--){for(var ae=!0,se=0;se<re;se++)if(ne(d,j+se)!==ne(m,se)){ae=!1;break}if(ae)return j}return-1}function hexWrite(d,m,g,w){g=Number(g)||0;var D=d.length-g;w?(w=Number(w))>D&&(w=D):w=D;var j=m.length;if(j%2!=0)throw new TypeError("Invalid hex string");w>j/2&&(w=j/2);for(var q=0;q<w;++q){var te=parseInt(m.substr(2*q,2),16);if(isNaN(te))return q;d[g+q]=te}return q}function utf8Write(d,m,g,w){return blitBuffer(utf8ToBytes(m,d.length-g),d,g,w)}function asciiWrite(d,m,g,w){return blitBuffer(asciiToBytes(m),d,g,w)}function latin1Write(d,m,g,w){return asciiWrite(d,m,g,w)}function base64Write(d,m,g,w){return blitBuffer(base64ToBytes(m),d,g,w)}function ucs2Write(d,m,g,w){return blitBuffer(utf16leToBytes(m,d.length-g),d,g,w)}function base64Slice(d,m,g){return m===0&&g===d.length?fromByteArray(d):fromByteArray(d.slice(m,g))}function utf8Slice(d,m,g){g=Math.min(d.length,g);for(var w=[],D=m;D<g;){var j,q,te,re,ne=d[D],ie=null,ae=ne>239?4:ne>223?3:ne>191?2:1;if(D+ae<=g)switch(ae){case 1:ne<128&&(ie=ne);break;case 2:(192&(j=d[D+1]))==128&&(re=(31&ne)<<6|63&j)>127&&(ie=re);break;case 3:j=d[D+1],q=d[D+2],(192&j)==128&&(192&q)==128&&(re=(15&ne)<<12|(63&j)<<6|63&q)>2047&&(re<55296||re>57343)&&(ie=re);break;case 4:j=d[D+1],q=d[D+2],te=d[D+3],(192&j)==128&&(192&q)==128&&(192&te)==128&&(re=(15&ne)<<18|(63&j)<<12|(63&q)<<6|63&te)>65535&&re<1114112&&(ie=re)}ie===null?(ie=65533,ae=1):ie>65535&&(ie-=65536,w.push(ie>>>10&1023|55296),ie=56320|1023&ie),w.push(ie),D+=ae}return decodeCodePointsArray(w)}Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT===void 0||global$1.TYPED_ARRAY_SUPPORT,kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(d){return d.__proto__=Buffer.prototype,d},Buffer.from=function(d,m,g){return from(null,d,m,g)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer[Symbol.species]),Buffer.alloc=function(d,m,g){return alloc(null,d,m,g)},Buffer.allocUnsafe=function(d){return allocUnsafe(null,d)},Buffer.allocUnsafeSlow=function(d){return allocUnsafe(null,d)},Buffer.isBuffer=isBuffer,Buffer.compare=function(d,m){if(!internalIsBuffer(d)||!internalIsBuffer(m))throw new TypeError("Arguments must be Buffers");if(d===m)return 0;for(var g=d.length,w=m.length,D=0,j=Math.min(g,w);D<j;++D)if(d[D]!==m[D]){g=d[D],w=m[D];break}return g<w?-1:w<g?1:0},Buffer.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(d,m){if(!isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return Buffer.alloc(0);var g;if(m===void 0)for(m=0,g=0;g<d.length;++g)m+=d[g].length;var w=Buffer.allocUnsafe(m),D=0;for(g=0;g<d.length;++g){var j=d[g];if(!internalIsBuffer(j))throw new TypeError('"list" argument must be an Array of Buffers');j.copy(w,D),D+=j.length}return w},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<d;m+=2)swap(this,m,m+1);return this},Buffer.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<d;m+=4)swap(this,m,m+3),swap(this,m+1,m+2);return this},Buffer.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<d;m+=8)swap(this,m,m+7),swap(this,m+1,m+6),swap(this,m+2,m+5),swap(this,m+3,m+4);return this},Buffer.prototype.toString=function(){var d=0|this.length;return d===0?"":arguments.length===0?utf8Slice(this,0,d):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(d){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||Buffer.compare(this,d)===0},Buffer.prototype.inspect=function(){var d="",m=INSPECT_MAX_BYTES;return this.length>0&&(d=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(d+=" ... ")),"<Buffer "+d+">"},Buffer.prototype.compare=function(d,m,g,w,D){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),g===void 0&&(g=d?d.length:0),w===void 0&&(w=0),D===void 0&&(D=this.length),m<0||g>d.length||w<0||D>this.length)throw new RangeError("out of range index");if(w>=D&&m>=g)return 0;if(w>=D)return-1;if(m>=g)return 1;if(this===d)return 0;for(var j=(D>>>=0)-(w>>>=0),q=(g>>>=0)-(m>>>=0),te=Math.min(j,q),re=this.slice(w,D),ne=d.slice(m,g),ie=0;ie<te;++ie)if(re[ie]!==ne[ie]){j=re[ie],q=ne[ie];break}return j<q?-1:q<j?1:0},Buffer.prototype.includes=function(d,m,g){return this.indexOf(d,m,g)!==-1},Buffer.prototype.indexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!0)},Buffer.prototype.lastIndexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!1)},Buffer.prototype.write=function(d,m,g,w){if(m===void 0)w="utf8",g=this.length,m=0;else if(g===void 0&&typeof m=="string")w=m,g=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m|=0,isFinite(g)?(g|=0,w===void 0&&(w="utf8")):(w=g,g=void 0)}var D=this.length-m;if((g===void 0||g>D)&&(g=D),d.length>0&&(g<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");for(var j=!1;;)switch(w){case"hex":return hexWrite(this,d,m,g);case"utf8":case"utf-8":return utf8Write(this,d,m,g);case"ascii":return asciiWrite(this,d,m,g);case"latin1":case"binary":return latin1Write(this,d,m,g);case"base64":return base64Write(this,d,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,d,m,g);default:if(j)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),j=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(d){var m=d.length;if(m<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,d);for(var g="",w=0;w<m;)g+=String.fromCharCode.apply(String,d.slice(w,w+=MAX_ARGUMENTS_LENGTH));return g}function asciiSlice(d,m,g){var w="";g=Math.min(d.length,g);for(var D=m;D<g;++D)w+=String.fromCharCode(127&d[D]);return w}function latin1Slice(d,m,g){var w="";g=Math.min(d.length,g);for(var D=m;D<g;++D)w+=String.fromCharCode(d[D]);return w}function hexSlice(d,m,g){var w=d.length;(!m||m<0)&&(m=0),(!g||g<0||g>w)&&(g=w);for(var D="",j=m;j<g;++j)D+=toHex(d[j]);return D}function utf16leSlice(d,m,g){for(var w=d.slice(m,g),D="",j=0;j<w.length;j+=2)D+=String.fromCharCode(w[j]+256*w[j+1]);return D}function checkOffset(d,m,g){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+m>g)throw new RangeError("Trying to access beyond buffer length")}function checkInt(d,m,g,w,D,j){if(!internalIsBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>D||m<j)throw new RangeError('"value" argument is out of bounds');if(g+w>d.length)throw new RangeError("Index out of range")}function objectWriteUInt16(d,m,g,w){m<0&&(m=65535+m+1);for(var D=0,j=Math.min(d.length-g,2);D<j;++D)d[g+D]=(m&255<<8*(w?D:1-D))>>>8*(w?D:1-D)}function objectWriteUInt32(d,m,g,w){m<0&&(m=4294967295+m+1);for(var D=0,j=Math.min(d.length-g,4);D<j;++D)d[g+D]=m>>>8*(w?D:3-D)&255}function checkIEEE754(d,m,g,w,D,j){if(g+w>d.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function writeFloat(d,m,g,w,D){return D||checkIEEE754(d,m,g,4),write(d,m,g,w,23,4),g+4}function writeDouble(d,m,g,w,D){return D||checkIEEE754(d,m,g,8),write(d,m,g,w,52,8),g+8}Buffer.prototype.slice=function(d,m){var g,w=this.length;if((d=~~d)<0?(d+=w)<0&&(d=0):d>w&&(d=w),(m=m===void 0?w:~~m)<0?(m+=w)<0&&(m=0):m>w&&(m=w),m<d&&(m=d),Buffer.TYPED_ARRAY_SUPPORT)(g=this.subarray(d,m)).__proto__=Buffer.prototype;else{var D=m-d;g=new Buffer(D,void 0);for(var j=0;j<D;++j)g[j]=this[j+d]}return g},Buffer.prototype.readUIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],D=1,j=0;++j<m&&(D*=256);)w+=this[d+j]*D;return w},Buffer.prototype.readUIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d+--m],D=1;m>0&&(D*=256);)w+=this[d+--m]*D;return w},Buffer.prototype.readUInt8=function(d,m){return m||checkOffset(d,1,this.length),this[d]},Buffer.prototype.readUInt16LE=function(d,m){return m||checkOffset(d,2,this.length),this[d]|this[d+1]<<8},Buffer.prototype.readUInt16BE=function(d,m){return m||checkOffset(d,2,this.length),this[d]<<8|this[d+1]},Buffer.prototype.readUInt32LE=function(d,m){return m||checkOffset(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},Buffer.prototype.readUInt32BE=function(d,m){return m||checkOffset(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},Buffer.prototype.readIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],D=1,j=0;++j<m&&(D*=256);)w+=this[d+j]*D;return w>=(D*=128)&&(w-=Math.pow(2,8*m)),w},Buffer.prototype.readIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=m,D=1,j=this[d+--w];w>0&&(D*=256);)j+=this[d+--w]*D;return j>=(D*=128)&&(j-=Math.pow(2,8*m)),j},Buffer.prototype.readInt8=function(d,m){return m||checkOffset(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},Buffer.prototype.readInt16LE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d]|this[d+1]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt16BE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d+1]|this[d]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt32LE=function(d,m){return m||checkOffset(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},Buffer.prototype.readInt32BE=function(d,m){return m||checkOffset(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},Buffer.prototype.readFloatLE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!0,23,4)},Buffer.prototype.readFloatBE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!1,23,4)},Buffer.prototype.readDoubleLE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!0,52,8)},Buffer.prototype.readDoubleBE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!1,52,8)},Buffer.prototype.writeUIntLE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var D=1,j=0;for(this[m]=255&d;++j<g&&(D*=256);)this[m+j]=d/D&255;return m+g},Buffer.prototype.writeUIntBE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var D=g-1,j=1;for(this[m+D]=255&d;--D>=0&&(j*=256);)this[m+D]=d/j&255;return m+g},Buffer.prototype.writeUInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[m]=255&d,m+1},Buffer.prototype.writeUInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeUInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeUInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=255&d):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeUInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeIntLE=function(d,m,g,w){if(d=+d,m|=0,!w){var D=Math.pow(2,8*g-1);checkInt(this,d,m,g,D-1,-D)}var j=0,q=1,te=0;for(this[m]=255&d;++j<g&&(q*=256);)d<0&&te===0&&this[m+j-1]!==0&&(te=1),this[m+j]=(d/q|0)-te&255;return m+g},Buffer.prototype.writeIntBE=function(d,m,g,w){if(d=+d,m|=0,!w){var D=Math.pow(2,8*g-1);checkInt(this,d,m,g,D-1,-D)}var j=g-1,q=1,te=0;for(this[m+j]=255&d;--j>=0&&(q*=256);)d<0&&te===0&&this[m+j+1]!==0&&(te=1),this[m+j]=(d/q|0)-te&255;return m+g},Buffer.prototype.writeInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),d<0&&(d=255+d+1),this[m]=255&d,m+1},Buffer.prototype.writeInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeFloatLE=function(d,m,g){return writeFloat(this,d,m,!0,g)},Buffer.prototype.writeFloatBE=function(d,m,g){return writeFloat(this,d,m,!1,g)},Buffer.prototype.writeDoubleLE=function(d,m,g){return writeDouble(this,d,m,!0,g)},Buffer.prototype.writeDoubleBE=function(d,m,g){return writeDouble(this,d,m,!1,g)},Buffer.prototype.copy=function(d,m,g,w){if(g||(g=0),w||w===0||(w=this.length),m>=d.length&&(m=d.length),m||(m=0),w>0&&w<g&&(w=g),w===g||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("sourceStart out of bounds");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),d.length-m<w-g&&(w=d.length-m+g);var D,j=w-g;if(this===d&&g<m&&m<w)for(D=j-1;D>=0;--D)d[D+m]=this[D+g];else if(j<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(D=0;D<j;++D)d[D+m]=this[D+g];else Uint8Array.prototype.set.call(d,this.subarray(g,g+j),m);return j},Buffer.prototype.fill=function(d,m,g,w){if(typeof d=="string"){if(typeof m=="string"?(w=m,m=0,g=this.length):typeof g=="string"&&(w=g,g=this.length),d.length===1){var D=d.charCodeAt(0);D<256&&(d=D)}if(w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!Buffer.isEncoding(w))throw new TypeError("Unknown encoding: "+w)}else typeof d=="number"&&(d&=255);if(m<0||this.length<m||this.length<g)throw new RangeError("Out of range index");if(g<=m)return this;var j;if(m>>>=0,g=g===void 0?this.length:g>>>0,d||(d=0),typeof d=="number")for(j=m;j<g;++j)this[j]=d;else{var q=internalIsBuffer(d)?d:utf8ToBytes(new Buffer(d,w).toString()),te=q.length;for(j=0;j<g-m;++j)this[j+m]=q[j%te]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g,HeaderTypes;function base64clean(d){if((d=stringtrim(d).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;d.length%4!=0;)d+="=";return d}function stringtrim(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function toHex(d){return d<16?"0"+d.toString(16):d.toString(16)}function utf8ToBytes(d,m){var g;m=m||1/0;for(var w=d.length,D=null,j=[],q=0;q<w;++q){if((g=d.charCodeAt(q))>55295&&g<57344){if(!D){if(g>56319){(m-=3)>-1&&j.push(239,191,189);continue}if(q+1===w){(m-=3)>-1&&j.push(239,191,189);continue}D=g;continue}if(g<56320){(m-=3)>-1&&j.push(239,191,189),D=g;continue}g=65536+(D-55296<<10|g-56320)}else D&&(m-=3)>-1&&j.push(239,191,189);if(D=null,g<128){if((m-=1)<0)break;j.push(g)}else if(g<2048){if((m-=2)<0)break;j.push(g>>6|192,63&g|128)}else if(g<65536){if((m-=3)<0)break;j.push(g>>12|224,g>>6&63|128,63&g|128)}else{if(!(g<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;j.push(g>>18|240,g>>12&63|128,g>>6&63|128,63&g|128)}}return j}function asciiToBytes(d){for(var m=[],g=0;g<d.length;++g)m.push(255&d.charCodeAt(g));return m}function utf16leToBytes(d,m){for(var g,w,D,j=[],q=0;q<d.length&&!((m-=2)<0);++q)w=(g=d.charCodeAt(q))>>8,D=g%256,j.push(D),j.push(w);return j}function base64ToBytes(d){return toByteArray(base64clean(d))}function blitBuffer(d,m,g,w){for(var D=0;D<w&&!(D+g>=m.length||D>=d.length);++D)m[D+g]=d[D];return D}function isnan(d){return d!=d}function isBuffer(d){return d!=null&&(!!d._isBuffer||isFastBuffer(d)||isSlowBuffer(d))}function isFastBuffer(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function isSlowBuffer(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&isFastBuffer(d.slice(0,0))}(function(d){d[d.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",d[d.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",d[d.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",d[d.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",d[d.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"})(HeaderTypes||(HeaderTypes={}));var HeaderTypes$1=HeaderTypes,BmpCompression;function maskColor(d,m,g,w){const D=1+~d&d,j=1+~m&m,q=1+~g&g,te=1+~w&w,re=d/D+1,ne=m/j+1,ie=g/q+1,ae=w/te+1;return{shiftRed:se=>(se&d)/D*256/re,shiftGreen:se=>(se&m)/j*256/ne,shiftBlue:se=>(se&g)/q*256/ie,shiftAlpha:w!==0?se=>(se&w)/te*256/ae:()=>255}}(function(d){d[d.NONE=0]="NONE",d[d.BI_RLE8=1]="BI_RLE8",d[d.BI_RLE4=2]="BI_RLE4",d[d.BI_BIT_FIELDS=3]="BI_BIT_FIELDS",d[d.BI_ALPHA_BIT_FIELDS=6]="BI_ALPHA_BIT_FIELDS"})(BmpCompression||(BmpCompression={}));class BmpDecoder{constructor(m,{toRGBA:g}={toRGBA:!1}){vr(this,"flag");vr(this,"fileSize");vr(this,"reserved1");vr(this,"reserved2");vr(this,"offset");vr(this,"headerSize");vr(this,"width");vr(this,"height");vr(this,"planes");vr(this,"bitPP");vr(this,"compression");vr(this,"rawSize");vr(this,"hr");vr(this,"vr");vr(this,"colors");vr(this,"importantColors");vr(this,"palette");vr(this,"data");vr(this,"maskRed");vr(this,"maskGreen");vr(this,"maskBlue");vr(this,"maskAlpha");vr(this,"toRGBA");vr(this,"pos");vr(this,"bottomUp");vr(this,"buffer");vr(this,"locRed");vr(this,"locGreen");vr(this,"locBlue");vr(this,"locAlpha");vr(this,"shiftRed");vr(this,"shiftGreen");vr(this,"shiftBlue");vr(this,"shiftAlpha");if(this.buffer=m,this.toRGBA=!!g,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!=="BM")throw new Error("Invalid BMP File");this.locRed=this.toRGBA?0:3,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=this.toRGBA?3:0,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in HeaderTypes$1))throw new Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.height=this.height>2147483647?this.height-4294967296:this.height,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),this.bitPP===32?(this.maskAlpha=0,this.maskRed=16711680,this.maskGreen=65280,this.maskBlue=255):this.bitPP===16&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>HeaderTypes$1.BITMAP_INFO_HEADER||this.compression===BmpCompression.BI_BIT_FIELDS||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>HeaderTypes$1.BITMAP_V2_INFO_HEADER||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>HeaderTypes$1.BITMAP_V3_INFO_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V4_HEADER-HeaderTypes$1.BITMAP_V3_INFO_HEADER),this.headerSize>HeaderTypes$1.BITMAP_V4_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V5_HEADER-HeaderTypes$1.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){const g=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(g);for(let w=0;w<g;w++){const D=this.buffer.readUInt8(this.pos++),j=this.buffer.readUInt8(this.pos++),q=this.buffer.readUInt8(this.pos++),te=this.buffer.readUInt8(this.pos++);this.palette[w]={red:q,green:j,blue:D,quad:te}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);const m=maskColor(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=m.shiftRed,this.shiftGreen=m.shiftGreen,this.shiftBlue=m.shiftBlue,this.shiftAlpha=m.shiftAlpha}parseRGBA(){switch(this.data=Buffer.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){const m=Math.ceil(this.width/8),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,(D,j)=>{const q=this.buffer.readUInt8(this.pos++),te=j*this.width*4+8*D*4;for(let re=0;re<8&&8*D+re<this.width;re++){const ne=this.palette[q>>7-re&1];this.data[te+re*this.locAlpha]=0,this.data[te+4*re+this.locBlue]=ne.blue,this.data[te+4*re+this.locGreen]=ne.green,this.data[te+4*re+this.locRed]=ne.red}})}bit4(){if(this.compression===BmpCompression.BI_RLE4){this.data.fill(0);let m=!1,g=this.bottomUp?this.height-1:0,w=0;for(;w<this.data.length;){const D=this.buffer.readUInt8(this.pos++),j=this.buffer.readUInt8(this.pos++);if(D===0){if(j===0){g+=this.bottomUp?-1:1,w=g*this.width*4,m=!1;continue}if(j===1)break;if(j===2){const q=this.buffer.readUInt8(this.pos++),te=this.buffer.readUInt8(this.pos++);g+=this.bottomUp?-te:te,w+=te*this.width*4+4*q}else{let q=this.buffer.readUInt8(this.pos++);for(let te=0;te<j;te++)w=this.setPixelData(w,m?15&q:(240&q)>>4),1&te&&te+1<j&&(q=this.buffer.readUInt8(this.pos++)),m=!m;(j+1>>1&1)==1&&this.pos++}}else for(let q=0;q<D;q++)w=this.setPixelData(w,m?15&j:(240&j)>>4),m=!m}}else{const m=Math.ceil(this.width/2),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,(D,j)=>{const q=this.buffer.readUInt8(this.pos++),te=j*this.width*4+2*D*4,re=q>>4;let ne=this.palette[re];if(this.data[te]=0,this.data[te+1]=ne.blue,this.data[te+2]=ne.green,this.data[te+3]=ne.red,2*D+1>=this.width)return!1;const ie=15&q;ne=this.palette[ie],this.data[te+4]=0,this.data[te+4+1]=ne.blue,this.data[te+4+2]=ne.green,this.data[te+4+3]=ne.red})}}bit8(){if(this.compression===BmpCompression.BI_RLE8){this.data.fill(0);let m=this.bottomUp?this.height-1:0,g=0;for(;g<this.data.length;){const w=this.buffer.readUInt8(this.pos++),D=this.buffer.readUInt8(this.pos++);if(w===0){if(D===0){m+=this.bottomUp?-1:1,g=m*this.width*4;continue}if(D===1)break;if(D===2){const j=this.buffer.readUInt8(this.pos++),q=this.buffer.readUInt8(this.pos++);m+=this.bottomUp?-q:q,g+=q*this.width*4+4*j}else{for(let j=0;j<D;j++){const q=this.buffer.readUInt8(this.pos++);g=this.setPixelData(g,q)}!0&D&&this.pos++}}else for(let j=0;j<w;j++)g=this.setPixelData(g,D)}}else{const m=this.width%4,g=m!==0?4-m:0;this.scanImage(g,this.width,(w,D)=>{const j=this.buffer.readUInt8(this.pos++),q=D*this.width*4+4*w;if(j<this.palette.length){const te=this.palette[j];this.data[q]=0,this.data[q+1]=te.blue,this.data[q+2]=te.green,this.data[q+3]=te.red}else this.data[q]=0,this.data[q+1]=255,this.data[q+2]=255,this.data[q+3]=255})}}bit16(){const m=this.width%2*2;this.scanImage(m,this.width,(g,w)=>{const D=w*this.width*4+4*g,j=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[D+this.locRed]=this.shiftRed(j),this.data[D+this.locGreen]=this.shiftGreen(j),this.data[D+this.locBlue]=this.shiftBlue(j),this.data[D+this.locAlpha]=this.shiftAlpha(j)})}bit24(){const m=this.width%4;this.scanImage(m,this.width,(g,w)=>{const D=w*this.width*4+4*g,j=this.buffer.readUInt8(this.pos++),q=this.buffer.readUInt8(this.pos++),te=this.buffer.readUInt8(this.pos++);this.data[D+this.locRed]=te,this.data[D+this.locGreen]=q,this.data[D+this.locBlue]=j,this.data[D+this.locAlpha]=0})}bit32(){this.scanImage(0,this.width,(m,g)=>{const w=g*this.width*4+4*m,D=this.readUInt32LE();this.data[w+this.locRed]=this.shiftRed(D),this.data[w+this.locGreen]=this.shiftGreen(D),this.data[w+this.locBlue]=this.shiftBlue(D),this.data[w+this.locAlpha]=this.shiftAlpha(D)})}scanImage(m=0,g=this.width,w){for(let D=this.height-1;D>=0;D--){const j=this.bottomUp?D:this.height-1-D;for(let q=0;q<g;q++)if(w.call(this,q,j)===!1)return;this.pos+=m}}readUInt32LE(){const m=this.buffer.readUInt32LE(this.pos);return this.pos+=4,m}setPixelData(m,g){const{blue:w,green:D,red:j}=this.palette[g];return this.data[m+this.locAlpha]=0,this.data[m+1+this.locBlue]=w,this.data[m+2+this.locGreen]=D,this.data[m+3+this.locRed]=j,m+4}}function createInteger(d){return d.reduce((m,g)=>m<<1|g,0)}function createColor(d){return d.quad<<24|d.red<<16|d.green<<8|d.blue}class BmpEncoder{constructor(m){vr(this,"fileSize");vr(this,"reserved1");vr(this,"reserved2");vr(this,"offset");vr(this,"width");vr(this,"flag");vr(this,"height");vr(this,"planes");vr(this,"bitPP");vr(this,"compress");vr(this,"hr");vr(this,"vr");vr(this,"colors");vr(this,"importantColors");vr(this,"rawSize");vr(this,"headerSize");vr(this,"data");vr(this,"palette");vr(this,"extraBytes");vr(this,"buffer");vr(this,"bytesInColor");vr(this,"pos");switch(this.buffer=m.data,this.width=m.width,this.height=m.height,this.headerSize=HeaderTypes$1.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=m.bitPP||24,this.offset=54,this.reserved1=m.reserved1||0,this.reserved2=m.reserved2||0,this.planes=1,this.compress=0,this.hr=m.hr||0,this.vr=m.vr||0,this.importantColors=m.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),m.colors||1/0),this.palette=m.palette||[],this.colors&&this.bitPP<16?this.offset+=4*this.colors:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=.5;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}const g=this.width*this.bitPP/32,w=Math.ceil(g);this.extraBytes=4*(w-g),this.rawSize=this.height*w*4+2,this.fileSize=this.rawSize+this.offset,this.data=Buffer.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&this.colors===2?this.initColors(1):(this.writeUInt32LE(16777215),this.writeUInt32LE(0)),this.pos+=1;let m=[];this.writeImage((g,w,D)=>{let j=w;j++;const q=this.buffer[j++],te=this.buffer[j++],re=.2126*this.buffer[j++]+.7152*te+.0722*q;return m.push(re>127?0:1),(D+1)%8==0?(this.data[g-1]=createInteger(m),m=[]):D===this.width-1&&m.length>0&&(this.data[g-1]=createInteger(m)<<4,m=[]),j})}bit4(){const m=this.initColors(4);let g=[];this.writeImage((w,D,j)=>{let q=D;const te=createColor({quad:this.buffer[q++],blue:this.buffer[q++],green:this.buffer[q++],red:this.buffer[q++]}),re=m.findIndex(ne=>ne===te);return re!==-1?g.push(re):g.push(0),(j+1)%2==0&&(this.data[w]=g[0]<<4|g[1],g=[]),q})}bit8(){const m=this.initColors(8);this.writeImage((g,w)=>{let D=w;const j=createColor({quad:this.buffer[D++],blue:this.buffer[D++],green:this.buffer[D++],red:this.buffer[D++]}),q=m.findIndex(te=>te===j);return this.data[g]=q!==-1?q:0,D})}bit16(){this.writeImage((m,g)=>{let w=g+1;const D=this.buffer[w++]/8,j=this.buffer[w++]/8,q=this.buffer[w++]/8<<10|j<<5|D;return this.data[m]=255&q,this.data[m+1]=(65280&q)>>8,w})}bit24(){this.writeImage((m,g)=>{let w=g+1;return this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w})}bit32(){this.writeImage((m,g)=>{let w=g;return this.data[m+3]=this.buffer[w++],this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w})}writeImage(m){const g=this.extraBytes+this.width*this.bytesInColor;let w=0;for(let D=0;D<this.height;D++)for(let j=0;j<this.width;j++){const q=Math.floor(this.pos+(this.height-1-D)*g+j*this.bytesInColor);w=m.call(this,q,w,j,D)}}initColors(m){const g=[];if(!this.palette.length)throw new Error(`To encode ${m}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);for(let w=0;w<this.colors;w++){const D=createColor(this.palette[w]);this.writeUInt32LE(D),g.push(D)}return g}writeUInt32LE(m){this.data.writeUInt32LE(m,this.pos),this.pos+=4}}function decode$2(d,m){return new BmpDecoder(d,m)}function encode$2(d){return new BmpEncoder(d)}function _typeof(d){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},_typeof(d)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(d,m){if(m=m||{},(d=d||"")instanceof tinycolor)return d;if(!(this instanceof tinycolor))return new tinycolor(d,m);var g=inputToRGB(d);this._originalInput=d,this._r=g.r,this._g=g.g,this._b=g.b,this._a=g.a,this._roundA=Math.round(100*this._a)/100,this._format=m.format||g.format,this._gradientType=m.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=g.ok}function inputToRGB(d){var m={r:0,g:0,b:0},g=1,w=null,D=null,j=null,q=!1,te=!1;return typeof d=="string"&&(d=stringInputToObject(d)),_typeof(d)=="object"&&(isValidCSSUnit(d.r)&&isValidCSSUnit(d.g)&&isValidCSSUnit(d.b)?(m=rgbToRgb(d.r,d.g,d.b),q=!0,te=String(d.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.v)?(w=convertToPercentage(d.s),D=convertToPercentage(d.v),m=hsvToRgb(d.h,w,D),q=!0,te="hsv"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.l)&&(w=convertToPercentage(d.s),j=convertToPercentage(d.l),m=hslToRgb(d.h,w,j),q=!0,te="hsl"),d.hasOwnProperty("a")&&(g=d.a)),g=boundAlpha(g),{ok:q,format:d.format||te,r:Math.min(255,Math.max(m.r,0)),g:Math.min(255,Math.max(m.g,0)),b:Math.min(255,Math.max(m.b,0)),a:g}}function rgbToRgb(d,m,g){return{r:255*bound01(d,255),g:255*bound01(m,255),b:255*bound01(g,255)}}function rgbToHsl(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,D,j=Math.max(d,m,g),q=Math.min(d,m,g),te=(j+q)/2;if(j==q)w=D=0;else{var re=j-q;switch(D=te>.5?re/(2-j-q):re/(j+q),j){case d:w=(m-g)/re+(m<g?6:0);break;case m:w=(g-d)/re+2;break;case g:w=(d-m)/re+4}w/=6}return{h:w,s:D,l:te}}function hslToRgb(d,m,g){var w,D,j;function q(ne,ie,ae){return ae<0&&(ae+=1),ae>1&&(ae-=1),ae<1/6?ne+6*(ie-ne)*ae:ae<.5?ie:ae<2/3?ne+(ie-ne)*(2/3-ae)*6:ne}if(d=bound01(d,360),m=bound01(m,100),g=bound01(g,100),m===0)w=D=j=g;else{var te=g<.5?g*(1+m):g+m-g*m,re=2*g-te;w=q(re,te,d+1/3),D=q(re,te,d),j=q(re,te,d-1/3)}return{r:255*w,g:255*D,b:255*j}}function rgbToHsv(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,D,j=Math.max(d,m,g),q=Math.min(d,m,g),te=j,re=j-q;if(D=j===0?0:re/j,j==q)w=0;else{switch(j){case d:w=(m-g)/re+(m<g?6:0);break;case m:w=(g-d)/re+2;break;case g:w=(d-m)/re+4}w/=6}return{h:w,s:D,v:te}}function hsvToRgb(d,m,g){d=6*bound01(d,360),m=bound01(m,100),g=bound01(g,100);var w=Math.floor(d),D=d-w,j=g*(1-m),q=g*(1-D*m),te=g*(1-(1-D)*m),re=w%6;return{r:255*[g,q,j,j,te,g][re],g:255*[te,g,g,q,j,j][re],b:255*[j,j,te,g,g,q][re]}}function rgbToHex(d,m,g,w){var D=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))];return w&&D[0].charAt(0)==D[0].charAt(1)&&D[1].charAt(0)==D[1].charAt(1)&&D[2].charAt(0)==D[2].charAt(1)?D[0].charAt(0)+D[1].charAt(0)+D[2].charAt(0):D.join("")}function rgbaToHex(d,m,g,w,D){var j=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16)),pad2(convertDecimalToHex(w))];return D&&j[0].charAt(0)==j[0].charAt(1)&&j[1].charAt(0)==j[1].charAt(1)&&j[2].charAt(0)==j[2].charAt(1)&&j[3].charAt(0)==j[3].charAt(1)?j[0].charAt(0)+j[1].charAt(0)+j[2].charAt(0)+j[3].charAt(0):j.join("")}function rgbaToArgbHex(d,m,g,w){return[pad2(convertDecimalToHex(w)),pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))].join("")}function _desaturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s-=m/100,g.s=clamp01(g.s),tinycolor(g)}function _saturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s+=m/100,g.s=clamp01(g.s),tinycolor(g)}function _greyscale(d){return tinycolor(d).desaturate(100)}function _lighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l+=m/100,g.l=clamp01(g.l),tinycolor(g)}function _brighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toRgb();return g.r=Math.max(0,Math.min(255,g.r-Math.round(-m/100*255))),g.g=Math.max(0,Math.min(255,g.g-Math.round(-m/100*255))),g.b=Math.max(0,Math.min(255,g.b-Math.round(-m/100*255))),tinycolor(g)}function _darken(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l-=m/100,g.l=clamp01(g.l),tinycolor(g)}function _spin(d,m){var g=tinycolor(d).toHsl(),w=(g.h+m)%360;return g.h=w<0?360+w:w,tinycolor(g)}function _complement(d){var m=tinycolor(d).toHsl();return m.h=(m.h+180)%360,tinycolor(m)}function polyad(d,m){if(isNaN(m)||m<=0)throw new Error("Argument to polyad must be a positive number");for(var g=tinycolor(d).toHsl(),w=[tinycolor(d)],D=360/m,j=1;j<m;j++)w.push(tinycolor({h:(g.h+j*D)%360,s:g.s,l:g.l}));return w}function _splitcomplement(d){var m=tinycolor(d).toHsl(),g=m.h;return[tinycolor(d),tinycolor({h:(g+72)%360,s:m.s,l:m.l}),tinycolor({h:(g+216)%360,s:m.s,l:m.l})]}function _analogous(d,m,g){m=m||6,g=g||30;var w=tinycolor(d).toHsl(),D=360/g,j=[tinycolor(d)];for(w.h=(w.h-(D*m>>1)+720)%360;--m;)w.h=(w.h+D)%360,j.push(tinycolor(w));return j}function _monochromatic(d,m){m=m||6;for(var g=tinycolor(d).toHsv(),w=g.h,D=g.s,j=g.v,q=[],te=1/m;m--;)q.push(tinycolor({h:w,s:D,v:j})),j=(j+te)%1;return q}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var d=this.toRgb();return(299*d.r+587*d.g+114*d.b)/1e3},getLuminance:function(){var d,m,g,w=this.toRgb();return d=w.r/255,m=w.g/255,g=w.b/255,.2126*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))+.7152*(m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4))+.0722*(g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4))},setAlpha:function(d){return this._a=boundAlpha(d),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var d=rgbToHsv(this._r,this._g,this._b);return{h:360*d.h,s:d.s,v:d.v,a:this._a}},toHsvString:function(){var d=rgbToHsv(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.v);return this._a==1?"hsv("+m+", "+g+"%, "+w+"%)":"hsva("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHsl:function(){var d=rgbToHsl(this._r,this._g,this._b);return{h:360*d.h,s:d.s,l:d.l,a:this._a}},toHslString:function(){var d=rgbToHsl(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.l);return this._a==1?"hsl("+m+", "+g+"%, "+w+"%)":"hsla("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHex:function(d){return rgbToHex(this._r,this._g,this._b,d)},toHexString:function(d){return"#"+this.toHex(d)},toHex8:function(d){return rgbaToHex(this._r,this._g,this._b,this._a,d)},toHex8String:function(d){return"#"+this.toHex8(d)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*bound01(this._r,255))+"%",g:Math.round(100*bound01(this._g,255))+"%",b:Math.round(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%)":"rgba("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(d){var m="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),g=m,w=this._gradientType?"GradientType = 1, ":"";if(d){var D=tinycolor(d);g="#"+rgbaToArgbHex(D._r,D._g,D._b,D._a)}return"progid:DXImageTransform.Microsoft.gradient("+w+"startColorstr="+m+",endColorstr="+g+")"},toString:function(d){var m=!!d;d=d||this._format;var g=!1,w=this._a<1&&this._a>=0;return m||!w||d!=="hex"&&d!=="hex6"&&d!=="hex3"&&d!=="hex4"&&d!=="hex8"&&d!=="name"?(d==="rgb"&&(g=this.toRgbString()),d==="prgb"&&(g=this.toPercentageRgbString()),d!=="hex"&&d!=="hex6"||(g=this.toHexString()),d==="hex3"&&(g=this.toHexString(!0)),d==="hex4"&&(g=this.toHex8String(!0)),d==="hex8"&&(g=this.toHex8String()),d==="name"&&(g=this.toName()),d==="hsl"&&(g=this.toHslString()),d==="hsv"&&(g=this.toHsvString()),g||this.toHexString()):d==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(d,m){var g=d.apply(null,[this].concat([].slice.call(m)));return this._r=g._r,this._g=g._g,this._b=g._b,this.setAlpha(g._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(d,m){return d.apply(null,[this].concat([].slice.call(m)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}},tinycolor.fromRatio=function(d,m){if(_typeof(d)=="object"){var g={};for(var w in d)d.hasOwnProperty(w)&&(g[w]=w==="a"?d[w]:convertToPercentage(d[w]));d=g}return tinycolor(d,m)},tinycolor.equals=function(d,m){return!(!d||!m)&&tinycolor(d).toRgbString()==tinycolor(m).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},tinycolor.mix=function(d,m,g){g=g===0?0:g||50;var w=tinycolor(d).toRgb(),D=tinycolor(m).toRgb(),j=g/100;return tinycolor({r:(D.r-w.r)*j+w.r,g:(D.g-w.g)*j+w.g,b:(D.b-w.b)*j+w.b,a:(D.a-w.a)*j+w.a})},tinycolor.readability=function(d,m){var g=tinycolor(d),w=tinycolor(m);return(Math.max(g.getLuminance(),w.getLuminance())+.05)/(Math.min(g.getLuminance(),w.getLuminance())+.05)},tinycolor.isReadable=function(d,m,g){var w,D,j=tinycolor.readability(d,m);switch(D=!1,(w=validateWCAG2Parms(g)).level+w.size){case"AAsmall":case"AAAlarge":D=j>=4.5;break;case"AAlarge":D=j>=3;break;case"AAAsmall":D=j>=7}return D},tinycolor.mostReadable=function(d,m,g){var w,D,j,q,te=null,re=0;D=(g=g||{}).includeFallbackColors,j=g.level,q=g.size;for(var ne=0;ne<m.length;ne++)(w=tinycolor.readability(d,m[ne]))>re&&(re=w,te=tinycolor(m[ne]));return tinycolor.isReadable(d,te,{level:j,size:q})||!D?te:(g.includeFallbackColors=!1,tinycolor.mostReadable(d,["#fff","#000"],g))};var names$1=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names$1);function flip(d){var m={};for(var g in d)d.hasOwnProperty(g)&&(m[d[g]]=g);return m}function boundAlpha(d){return d=parseFloat(d),(isNaN(d)||d<0||d>1)&&(d=1),d}function bound01(d,m){isOnePointZero(d)&&(d="100%");var g=isPercentage(d);return d=Math.min(m,Math.max(0,parseFloat(d))),g&&(d=parseInt(d*m,10)/100),Math.abs(d-m)<1e-6?1:d%m/parseFloat(m)}function clamp01(d){return Math.min(1,Math.max(0,d))}function parseIntFromHex(d){return parseInt(d,16)}function isOnePointZero(d){return typeof d=="string"&&d.indexOf(".")!=-1&&parseFloat(d)===1}function isPercentage(d){return typeof d=="string"&&d.indexOf("%")!=-1}function pad2(d){return d.length==1?"0"+d:""+d}function convertToPercentage(d){return d<=1&&(d=100*d+"%"),d}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(d){return parseIntFromHex(d)/255}var matchers=(CSS_UNIT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4;function isValidCSSUnit(d){return!!matchers.CSS_UNIT.exec(d)}function stringInputToObject(d){d=d.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var m,g=!1;if(names$1[d])d=names$1[d],g=!0;else if(d=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(m=matchers.rgb.exec(d))?{r:m[1],g:m[2],b:m[3]}:(m=matchers.rgba.exec(d))?{r:m[1],g:m[2],b:m[3],a:m[4]}:(m=matchers.hsl.exec(d))?{h:m[1],s:m[2],l:m[3]}:(m=matchers.hsla.exec(d))?{h:m[1],s:m[2],l:m[3],a:m[4]}:(m=matchers.hsv.exec(d))?{h:m[1],s:m[2],v:m[3]}:(m=matchers.hsva.exec(d))?{h:m[1],s:m[2],v:m[3],a:m[4]}:(m=matchers.hex8.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),a:convertHexToDecimal(m[4]),format:g?"name":"hex8"}:(m=matchers.hex6.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),format:g?"name":"hex"}:(m=matchers.hex4.exec(d))?{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),a:convertHexToDecimal(m[4]+""+m[4]),format:g?"name":"hex8"}:!!(m=matchers.hex3.exec(d))&&{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),format:g?"name":"hex"}}function validateWCAG2Parms(d){var m,g;return(m=((d=d||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&m!=="AAA"&&(m="AA"),(g=(d.size||"small").toLowerCase())!=="small"&&g!=="large"&&(g="small"),{level:m,size:g}}function clone(d){const m={width:d.bitmap.width,height:d.bitmap.height,data:Buffer.from(d.bitmap.data)};return new d.constructor(m)}function scan(d,m,g,w,D,j){let q,te,re,ne,ie;if(typeof m=="function")ie=m,q=0,te=0,re=d.bitmap.width,ne=d.bitmap.height;else{if(q=m,typeof g!="number")throw new Error("y must be a number");if(te=g,typeof w!="number")throw new Error("w must be a number");if(re=w,typeof D!="number")throw new Error("h must be a number");if(ne=D,typeof j!="function")throw new Error("cb must be a function");ie=j}q=Math.round(q),te=Math.round(te),re=Math.round(re),ne=Math.round(ne);const ae=ie.bind(d);for(let se=te;se<te+ne;se++)for(let le=q;le<q+re;le++)ae(le,se,d.bitmap.width*se+le<<2);return d}function*scanIterator(d,m,g,w,D){m=Math.round(m),g=Math.round(g),w=Math.round(w),D=Math.round(D);for(let j=g;j<g+D;j++)for(let q=m;q<m+w;q++){const te=d.bitmap.width*j+q<<2;yield{x:q,y:j,idx:te,image:d}}}function intToRGBA$1(d){if(typeof d!="number")throw new Error("i must be a number");const m={r:0,g:0,b:0,a:0};return m.r=Math.floor(d/Math.pow(256,3)),m.g=Math.floor((d-m.r*Math.pow(256,3))/Math.pow(256,2)),m.b=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2))/Math.pow(256,1)),m.a=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2)-m.b*Math.pow(256,1))/Math.pow(256,0)),m}function colorDiff(d,m){const g=q=>Math.pow(q,2),{max:w}=Math,D="a"in d?d.a:255,j="a"in m?m.a:255;return(w(g(d.r-m.r),g(d.r-m.r-D+j))+w(g(d.g-m.g),g(d.g-m.g-D+j))+w(g(d.b-m.b),g(d.b-m.b-D+j)))/195075}function limit255(d){return d=Math.max(d,0),d=Math.min(d,255)}function cssColorToHex(d){return typeof d=="number"?d:parseInt(tinycolor(d).toHex8(),16)}function encode$1(d,m={}){return scan({bitmap:d},0,0,d.width,d.height,function(g,w,D){const j=d.data[D+0],q=d.data[D+1],te=d.data[D+2],re=d.data[D+3];d.data[D+0]=re,d.data[D+1]=te,d.data[D+2]=q,d.data[D+3]=j}),encode$2({...d,...m}).data}function decode$1(d,m){const g=decode$2(d,m);return scan({bitmap:g},0,0,g.width,g.height,function(w,D,j){const q=g.data[j+1],te=g.data[j+2],re=g.data[j+3];g.data[j+0]=re,g.data[j+1]=te,g.data[j+2]=q,g.data[j+3]=255}),g}function msBmp(){return{mime:"image/x-ms-bmp",encode:encode$1,decode:decode$1}}function bmp(){return{mime:"image/bmp",encode:encode$1,decode:decode$1}}var omggif={},GifReader_1,GifWriter_1;function GifWriter(d,m,g,w){var D=0,j=(w=w===void 0?{}:w).loop===void 0?null:w.loop,q=w.palette===void 0?null:w.palette;if(m<=0||g<=0||m>65535||g>65535)throw new Error("Width/Height invalid.");function te(ce){var de=ce.length;if(de<2||de>256||de&de-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return de}d[D++]=71,d[D++]=73,d[D++]=70,d[D++]=56,d[D++]=57,d[D++]=97;var re=0,ne=0;if(q!==null){for(var ie=te(q);ie>>=1;)++re;if(ie=1<<re,--re,w.background!==void 0){if((ne=w.background)>=ie)throw new Error("Background index out of range.");if(ne===0)throw new Error("Background index explicitly passed as 0.")}}if(d[D++]=255&m,d[D++]=m>>8&255,d[D++]=255&g,d[D++]=g>>8&255,d[D++]=(q!==null?128:0)|re,d[D++]=ne,d[D++]=0,q!==null)for(var ae=0,se=q.length;ae<se;++ae){var le=q[ae];d[D++]=le>>16&255,d[D++]=le>>8&255,d[D++]=255&le}if(j!==null){if(j<0||j>65535)throw new Error("Loop count invalid.");d[D++]=33,d[D++]=255,d[D++]=11,d[D++]=78,d[D++]=69,d[D++]=84,d[D++]=83,d[D++]=67,d[D++]=65,d[D++]=80,d[D++]=69,d[D++]=50,d[D++]=46,d[D++]=48,d[D++]=3,d[D++]=1,d[D++]=255&j,d[D++]=j>>8&255,d[D++]=0}var ue=!1;this.addFrame=function(ce,de,he,pe,me,ge){if(ue===!0&&(--D,ue=!1),ge=ge===void 0?{}:ge,ce<0||de<0||ce>65535||de>65535)throw new Error("x/y invalid.");if(he<=0||pe<=0||he>65535||pe>65535)throw new Error("Width/Height invalid.");if(me.length<he*pe)throw new Error("Not enough pixels for the frame size.");var be=!0,ke=ge.palette;if(ke==null&&(be=!1,ke=q),ke==null)throw new Error("Must supply either a local or global palette.");for(var ye=te(ke),Se=0;ye>>=1;)++Se;ye=1<<Se;var we=ge.delay===void 0?0:ge.delay,Te=ge.disposal===void 0?0:ge.disposal;if(Te<0||Te>3)throw new Error("Disposal out of range.");var _e=!1,Ie=0;if(ge.transparent!==void 0&&ge.transparent!==null&&(_e=!0,(Ie=ge.transparent)<0||Ie>=ye))throw new Error("Transparent color index.");if((Te!==0||_e||we!==0)&&(d[D++]=33,d[D++]=249,d[D++]=4,d[D++]=Te<<2|(_e===!0?1:0),d[D++]=255&we,d[D++]=we>>8&255,d[D++]=Ie,d[D++]=0),d[D++]=44,d[D++]=255&ce,d[D++]=ce>>8&255,d[D++]=255&de,d[D++]=de>>8&255,d[D++]=255&he,d[D++]=he>>8&255,d[D++]=255&pe,d[D++]=pe>>8&255,d[D++]=be===!0?128|Se-1:0,be===!0)for(var Le=0,Be=ke.length;Le<Be;++Le){var Me=ke[Le];d[D++]=Me>>16&255,d[D++]=Me>>8&255,d[D++]=255&Me}return D=GifWriterOutputLZWCodeStream(d,D,Se<2?2:Se,me)},this.end=function(){return ue===!1&&(d[D++]=59,ue=!0),D},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(ce){d=ce},this.getOutputBufferPosition=function(){return D},this.setOutputBufferPosition=function(ce){D=ce}}function GifWriterOutputLZWCodeStream(d,m,g,w){d[m++]=g;var D=m++,j=1<<g,q=j-1,te=j+1,re=te+1,ne=g+1,ie=0,ae=0;function se(be){for(;ie>=be;)d[m++]=255&ae,ae>>=8,ie-=8,m===D+256&&(d[D]=255,D=m++)}function le(be){ae|=be<<ie,ie+=ne,se(8)}var ue=w[0]&q,ce={};le(j);for(var de=1,he=w.length;de<he;++de){var pe=w[de]&q,me=ue<<8|pe,ge=ce[me];if(ge===void 0){for(ae|=ue<<ie,ie+=ne;ie>=8;)d[m++]=255&ae,ae>>=8,ie-=8,m===D+256&&(d[D]=255,D=m++);re===4096?(le(j),re=te+1,ne=g+1,ce={}):(re>=1<<ne&&++ne,ce[me]=re++),ue=pe}else ue=ge}return le(ue),le(te),se(1),D+1===m?d[D]=0:(d[D]=m-D-1,d[m++]=0),m}function GifReader(d){var m=0;if(d[m++]!==71||d[m++]!==73||d[m++]!==70||d[m++]!==56||(d[m++]+1&253)!=56||d[m++]!==97)throw new Error("Invalid GIF 87a/89a header.");var g=d[m++]|d[m++]<<8,w=d[m++]|d[m++]<<8,D=d[m++],j=D>>7,q=1<<(7&D)+1;d[m++],d[m++];var te=null,re=null;j&&(te=m,re=q,m+=3*q);var ne=!0,ie=[],ae=0,se=null,le=0,ue=null;for(this.width=g,this.height=w;ne&&m<d.length;)switch(d[m++]){case 33:switch(d[m++]){case 255:if(d[m]!==11||d[m+1]==78&&d[m+2]==69&&d[m+3]==84&&d[m+4]==83&&d[m+5]==67&&d[m+6]==65&&d[m+7]==80&&d[m+8]==69&&d[m+9]==50&&d[m+10]==46&&d[m+11]==48&&d[m+12]==3&&d[m+13]==1&&d[m+16]==0)m+=14,ue=d[m++]|d[m++]<<8,m++;else for(m+=12;;){if(!((_e=d[m++])>=0))throw Error("Invalid block size");if(_e===0)break;m+=_e}break;case 249:if(d[m++]!==4||d[m+4]!==0)throw new Error("Invalid graphics extension block.");var ce=d[m++];ae=d[m++]|d[m++]<<8,se=d[m++],1&ce||(se=null),le=ce>>2&7,m++;break;case 254:for(;;){if(!((_e=d[m++])>=0))throw Error("Invalid block size");if(_e===0)break;m+=_e}break;default:throw new Error("Unknown graphic control label: 0x"+d[m-1].toString(16))}break;case 44:var de=d[m++]|d[m++]<<8,he=d[m++]|d[m++]<<8,pe=d[m++]|d[m++]<<8,me=d[m++]|d[m++]<<8,ge=d[m++],be=ge>>6&1,ke=1<<(7&ge)+1,ye=te,Se=re,we=!1;ge>>7&&(we=!0,ye=m,Se=ke,m+=3*ke);var Te=m;for(m++;;){var _e;if(!((_e=d[m++])>=0))throw Error("Invalid block size");if(_e===0)break;m+=_e}ie.push({x:de,y:he,width:pe,height:me,has_local_palette:we,palette_offset:ye,palette_size:Se,data_offset:Te,data_length:m-Te,transparent_index:se,interlaced:!!be,delay:ae,disposal:le});break;case 59:ne=!1;break;default:throw new Error("Unknown gif block: 0x"+d[m-1].toString(16))}this.numFrames=function(){return ie.length},this.loopCount=function(){return ue},this.frameInfo=function(Ie){if(Ie<0||Ie>=ie.length)throw new Error("Frame index out of range.");return ie[Ie]},this.decodeAndBlitFrameBGRA=function(Ie,Le){var Be=this.frameInfo(Ie),Me=Be.width*Be.height,Ne=new Uint8Array(Me);GifReaderLZWOutputIndexStream(d,Be.data_offset,Ne,Me);var Ye=Be.palette_offset,Ue=Be.transparent_index;Ue===null&&(Ue=256);var $e=Be.width,Ke=g-$e,Pe=$e,He=4*(Be.y*g+Be.x),it=4*((Be.y+Be.height)*g+Be.x),Je=He,Ge=4*Ke;Be.interlaced===!0&&(Ge+=4*g*7);for(var Qe=8,ut=0,dt=Ne.length;ut<dt;++ut){var kt=Ne[ut];if(Pe===0&&(Pe=$e,(Je+=Ge)>=it&&(Ge=4*Ke+4*g*(Qe-1),Je=He+($e+Ke)*(Qe<<1),Qe>>=1)),kt===Ue)Je+=4;else{var Xe=d[Ye+3*kt],xe=d[Ye+3*kt+1],qe=d[Ye+3*kt+2];Le[Je++]=qe,Le[Je++]=xe,Le[Je++]=Xe,Le[Je++]=255}--Pe}},this.decodeAndBlitFrameRGBA=function(Ie,Le){var Be=this.frameInfo(Ie),Me=Be.width*Be.height,Ne=new Uint8Array(Me);GifReaderLZWOutputIndexStream(d,Be.data_offset,Ne,Me);var Ye=Be.palette_offset,Ue=Be.transparent_index;Ue===null&&(Ue=256);var $e=Be.width,Ke=g-$e,Pe=$e,He=4*(Be.y*g+Be.x),it=4*((Be.y+Be.height)*g+Be.x),Je=He,Ge=4*Ke;Be.interlaced===!0&&(Ge+=4*g*7);for(var Qe=8,ut=0,dt=Ne.length;ut<dt;++ut){var kt=Ne[ut];if(Pe===0&&(Pe=$e,(Je+=Ge)>=it&&(Ge=4*Ke+4*g*(Qe-1),Je=He+($e+Ke)*(Qe<<1),Qe>>=1)),kt===Ue)Je+=4;else{var Xe=d[Ye+3*kt],xe=d[Ye+3*kt+1],qe=d[Ye+3*kt+2];Le[Je++]=Xe,Le[Je++]=xe,Le[Je++]=qe,Le[Je++]=255}--Pe}}}function GifReaderLZWOutputIndexStream(d,m,g,w){for(var D=d[m++],j=1<<D,q=j+1,te=q+1,re=D+1,ne=(1<<re)-1,ie=0,ae=0,se=0,le=d[m++],ue=new Int32Array(4096),ce=null;;){for(;ie<16&&le!==0;)ae|=d[m++]<<ie,ie+=8,le===1?le=d[m++]:--le;if(ie<re)break;var de=ae&ne;if(ae>>=re,ie-=re,de!==j){if(de===q)break;for(var he=de<te?de:ce,pe=0,me=he;me>j;)me=ue[me]>>8,++pe;var ge=me;if(se+pe+(he!==de?1:0)>w)return void console.log("Warning, gif stream longer than expected.");g[se++]=ge;var be=se+=pe;for(he!==de&&(g[se++]=ge),me=he;pe--;)me=ue[me],g[--be]=255&me,me>>=8;ce!==null&&te<4096&&(ue[te++]=ce<<8|ge,te>=ne+1&&re<12&&(++re,ne=ne<<1|1)),ce=de}else te=q+1,ne=(1<<(re=D+1))-1,ce=null}return se!==w&&console.log("Warning, gif stream shorter than expected."),g}try{GifWriter_1=omggif.GifWriter=GifWriter,GifReader_1=omggif.GifReader=GifReader}catch{}let BitmapImage$2=class Ko{constructor(...m){if(m.length===0)throw new Error("constructor requires parameters");const g=m[0];if(g!==null&&typeof g=="object")if(g instanceof Ko){const w=g.bitmap;this.bitmap={width:w.width,height:w.height,data:new Buffer(w.width*w.height*4)},w.data.copy(this.bitmap.data)}else{if(!(g.width&&g.height&&g.data))throw new Error("unrecognized constructor parameters");this.bitmap=g}else{if(typeof g!="number"||typeof m[1]!="number")throw new Error("unrecognized constructor parameters");{const w=g,D=m[1],j=m[2];this.bitmap={width:w,height:D},Buffer.isBuffer(j)?this.bitmap.data=j:(this.bitmap.data=new Buffer(w*D*4),typeof j=="number"&&this.fillRGBA(j))}}}blit(m,g,w,D,j,q,te){if(D+q>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(g+q>m.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(j+te>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(w+te>m.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const re=this.bitmap.data,ne=m.bitmap.data,ie=4*this.bitmap.width,ae=4*m.bitmap.width,se=4*q;let le=j*ie+4*D,ue=w*ae+4*g;for(;--te>=0;)re.copy(ne,ue,le,le+se),le+=ie,ue+=ae;return this}fillRGBA(m){const g=this.bitmap.data,w=4*this.bitmap.height;let D=0;for(;D<w;)g.writeUInt32BE(m,D),D+=4;for(;D<g.length;)g.copy(g,D,0,w),D+=w;return this}getRGBA(m,g){const w=4*(g*this.bitmap.width+m);return this.bitmap.data.readUInt32BE(w)}getRGBASet(){const m=new Set,g=this.bitmap.data;for(let w=0;w<g.length;w+=4)m.add(g.readUInt32BE(w,!0));return m}greyscale(){const m=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(g,w,D)=>{const j=Math.round(.299*m[D]+.587*m[D+1]+.114*m[D+2]);m[D]=j,m[D+1]=j,m[D+2]=j}),this}reframe(m,g,w,D,j){const q=m<0?0:m,te=g<0?0:g,re=w+q>this.bitmap.width?this.bitmap.width-q:w,ne=D+te>this.bitmap.height?this.bitmap.height-te:D,ie=m<0?-m:0,ae=g<0?-g:0;let se;if(j===void 0){if(q!==m||te!=g||re!==w||ne!==D)throw new GifError("fillRGBA required for this reframing");se=new Ko(w,D)}else se=new Ko(w,D,j);return this.blit(se,ie,ae,q,te,re,ne),this.bitmap=se.bitmap,this}scale(m){if(m===1)return;if(!Number.isInteger(m)||m<1)throw new Error("the scale must be an integer >= 1");const g=this.bitmap.width,w=this.bitmap.height,D=g*m*4,j=this.bitmap.data,q=new Buffer(w*D*m);let te,re=0,ne=0;for(let ie=0;ie<w;++ie){te=ne;for(let ae=0;ae<g;++ae){const se=j.readUInt32BE(re,!0);for(let le=0;le<m;++le)q.writeUInt32BE(se,ne),ne+=4;re+=4}for(let ae=1;ae<m;++ae)q.copy(q,ne,te,ne),ne+=D,te+=D}return this.bitmap={width:g*m,height:w*m,data:q},this}scanAllCoords(m){const g=this.bitmap.width,w=this.bitmap.data.length;let D=0,j=0;for(let q=0;q<w;q+=4)m(D,j,q),++D===g&&(D=0,++j)}scanAllIndexes(m){const g=this.bitmap.data.length;for(let w=0;w<g;w+=4)m(w)}};var bitmapimage=BitmapImage$2,gif$1={};let Gif$1=class{constructor(d,m,g){this.width=g.width,this.height=g.height,this.loops=g.loops,this.usesTransparency=g.usesTransparency,this.colorScope=g.colorScope,this.frames=m,this.buffer=d}};Gif$1.GlobalColorsPreferred=0,Gif$1.GlobalColorsOnly=1,Gif$1.LocalColorsOnly=2;let GifError$2=class extends Error{constructor(d){super(d),d instanceof Error&&(this.stack="Gif"+d.stack)}};gif$1.Gif=Gif$1,gif$1.GifError=GifError$2;var gifcodec={},gifutil={},_polyfillNode_fs={},_polyfillNode_fs$1=Object.freeze({__proto__:null,default:_polyfillNode_fs}),require$$0=getAugmentedNamespace(_polyfillNode_fs$1),__defProp$3=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__defNormalProp$3=(d,m,g)=>m in d?__defProp$3(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__markAsModule=d=>__defProp$3(d,"__esModule",{value:!0}),__export$1=(d,m)=>{for(var g in m)__defProp$3(d,g,{get:m[g],enumerable:!0})},__reExport=(d,m,g,w)=>{if(m&&typeof m=="object"||typeof m=="function")for(let D of __getOwnPropNames(m))!__hasOwnProp.call(d,D)&&g&&__defProp$3(d,D,{get:()=>m[D],enumerable:!(w=__getOwnPropDesc(m,D))||w.enumerable});return d},__toCommonJS=(d=>(m,g)=>d&&d.get(m)||(g=__reExport(__markAsModule({}),m,1),d&&d.set(m,g),g))(typeof WeakMap<"u"?new WeakMap:0),__publicField$3=(d,m,g)=>(__defNormalProp$3(d,typeof m!="symbol"?m+"":m,g),g),src_exports={};__export$1(src_exports,{applyPalette:()=>applyPalette,applyPaletteSync:()=>applyPaletteSync$1,buildPalette:()=>buildPalette,buildPaletteSync:()=>buildPaletteSync$1,constants:()=>constants_exports$1,conversion:()=>conversion_exports$1,distance:()=>distance_exports$1,image:()=>image_exports$1,palette:()=>palette_exports$1,quality:()=>quality_exports$1,utils:()=>utils_exports$1});var constants_exports$1={};__export$1(constants_exports$1,{bt709:()=>bt709_exports$1});var bt709_exports$1={};__export$1(bt709_exports$1,{Y:()=>Y$1,x:()=>x$2,y:()=>y$2});var Y$1=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y$1||{}),x$2=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$2||{}),y$2=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$2||{}),conversion_exports$1={};function correctGamma$1(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz$1(d,m,g){return{x:.4124*(d=correctGamma$1(d/255))+.3576*(m=correctGamma$1(m/255))+.1805*(g=correctGamma$1(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export$1(conversion_exports$1,{lab2rgb:()=>lab2rgb$1,lab2xyz:()=>lab2xyz$1,rgb2hsl:()=>rgb2hsl$1,rgb2lab:()=>rgb2lab$1,rgb2xyz:()=>rgb2xyz$1,xyz2lab:()=>xyz2lab$1,xyz2rgb:()=>xyz2rgb$1});var arithmetic_exports$1={};function degrees2radians$1(d){return d*(Math.PI/180)}function max3$1(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3$1(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange$1(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded$1(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255$1(d){return d>255?d=255:d<0&&(d=0),d}function stableSort$1(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const D=Object.create(null);for(let j=0,q=d.length;j<q;j++){const te=d[j];D[te]||D[te]===0||(D[te]=j)}w=d.sort((j,q)=>m(j,q)||D[j]-D[q])}else{const D=d.slice(0);w=d.sort((j,q)=>m(j,q)||D.indexOf(j)-D.indexOf(q))}return w}function rgb2hsl$1(d,m,g){const w=min3$1(d,m,g),D=max3$1(d,m,g),j=D-w,q=(w+D)/510;let te=0;q>0&&q<1&&(te=j/(q<.5?D+w:510-D-w));let re=0;return j>0&&(re=D===d?(m-g)/j:D===m?2+(g-d)/j:4+(d-m)/j,re*=60,re<0&&(re+=360)),{h:re,s:te,l:q}}__export$1(arithmetic_exports$1,{degrees2radians:()=>degrees2radians$1,inRange0to255:()=>inRange0to255$1,inRange0to255Rounded:()=>inRange0to255Rounded$1,intInRange:()=>intInRange$1,max3:()=>max3$1,min3:()=>min3$1,stableSort:()=>stableSort$1});var refX$1=.95047,refY$1=1,refZ$1=1.08883;function pivot$1(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab$1(d,m,g){if(d=pivot$1(d/refX$1),m=pivot$1(m/refY$1),g=pivot$1(g/refZ$1),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab$1(d,m,g){const w=rgb2xyz$1(d,m,g);return xyz2lab$1(w.x,w.y,w.z)}var refX2$1=.95047,refY2$1=1,refZ2$1=1.08883;function pivot2$1(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz$1(d,m,g){const w=(d+16)/116,D=w-g/200;return{x:refX2$1*pivot2$1(m/500+w),y:refY2$1*pivot2$1(w),z:refZ2$1*pivot2$1(D)}}function correctGamma2$1(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb$1(d,m,g){const w=correctGamma2$1(3.2406*d+-1.5372*m+-.4986*g),D=correctGamma2$1(-.9689*d+1.8758*m+.0415*g),j=correctGamma2$1(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded$1(255*w),g:inRange0to255Rounded$1(255*D),b:inRange0to255Rounded$1(255*j)}}function lab2rgb$1(d,m,g){const w=lab2xyz$1(d,m,g);return xyz2rgb$1(w.x,w.y,w.z)}var distance_exports$1={};__export$1(distance_exports$1,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator$1,AbstractEuclidean:()=>AbstractEuclidean$1,AbstractManhattan:()=>AbstractManhattan$1,CIE94GraphicArts:()=>CIE94GraphicArts$1,CIE94Textiles:()=>CIE94Textiles$1,CIEDE2000:()=>CIEDE2000$1,CMetric:()=>CMetric$1,Euclidean:()=>Euclidean$1,EuclideanBT709:()=>EuclideanBT709$1,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha$1,Manhattan:()=>Manhattan$1,ManhattanBT709:()=>ManhattanBT709$1,ManhattanNommyde:()=>ManhattanNommyde$1,PNGQuant:()=>PNGQuant$1});var AbstractDistanceCalculator$1=class{constructor(){__publicField$3(this,"_maxDistance"),__publicField$3(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,j,q,te){const re=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),ne=rgb2lab$1(inRange0to255$1(D*this._whitePoint.r),inRange0to255$1(j*this._whitePoint.g),inRange0to255$1(q*this._whitePoint.b)),ie=re.L-ne.L,ae=re.a-ne.a,se=re.b-ne.b,le=Math.sqrt(re.a*re.a+re.b*re.b),ue=le-Math.sqrt(ne.a*ne.a+ne.b*ne.b);let ce=ae*ae+se*se-ue*ue;ce=ce<0?0:Math.sqrt(ce);const de=(te-w)*this._whitePoint.a*this._kA;return Math.sqrt((ie/this._Kl)**2+(ue/(1+this._K1*le))**2+(ce/(1+this._K2*le))**2+de**2)}},CIE94Textiles$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000$1=class extends AbstractDistanceCalculator$1{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000$1._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000$1._pow25to7)),D=_CIEDE2000$1._deg30InRad*Math.exp(-(((d-_CIEDE2000$1._deg275InRad)/_CIEDE2000$1._deg25InRad)**2));return-Math.sin(2*D)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000$1._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000$1._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000$1._deg63InRad)}static _calculate_ahp(d,m,g,w){const D=g+w;return d===0?D:m<=_CIEDE2000$1._deg180InRad?D/2:D<_CIEDE2000$1._deg360InRad?(D+_CIEDE2000$1._deg360InRad)/2:(D-_CIEDE2000$1._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let D;return D=d===0?0:m<=_CIEDE2000$1._deg180InRad?g-w:g<=w?g-w+_CIEDE2000$1._deg360InRad:g-w-_CIEDE2000$1._deg360InRad,2*Math.sqrt(d)*Math.sin(D/2)}calculateRaw(d,m,g,w,D,j,q,te){const re=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),ne=rgb2lab$1(inRange0to255$1(D*this._whitePoint.r),inRange0to255$1(j*this._whitePoint.g),inRange0to255$1(q*this._whitePoint.b)),ie=(te-w)*this._whitePoint.a*_CIEDE2000$1._kA,ae=this.calculateRawInLab(re,ne);return Math.sqrt(ae+ie*ie)}calculateRawInLab(d,m){const g=d.L,w=d.a,D=d.b,j=m.L,q=m.a,te=m.b,re=((Math.sqrt(w*w+D*D)+Math.sqrt(q*q+te*te))/2)**7,ne=.5*(1-Math.sqrt(re/(re+_CIEDE2000$1._pow25to7))),ie=(1+ne)*w,ae=(1+ne)*q,se=Math.sqrt(ie*ie+D*D),le=Math.sqrt(ae*ae+te*te),ue=se*le,ce=_CIEDE2000$1._calculatehp(D,ie),de=_CIEDE2000$1._calculatehp(te,ae),he=Math.abs(ce-de),pe=j-g,me=le-se,ge=_CIEDE2000$1._calculate_dHp(ue,he,de,ce),be=_CIEDE2000$1._calculate_ahp(ue,he,ce,de),ke=(se+le)/2,ye=((g+j)/2-50)**2,Se=me/(1+.045*ke),we=ge/(1+.015*_CIEDE2000$1._calculateT(be)*ke);return(pe/(1+.015*ye/Math.sqrt(20+ye)))**2+Se**2+we**2+_CIEDE2000$1._calculateRT(be,ke)*Se*we}},CIEDE2000$1=_CIEDE2000$1;__publicField$3(CIEDE2000$1,"_kA",25/255),__publicField$3(CIEDE2000$1,"_pow25to7",25**7),__publicField$3(CIEDE2000$1,"_deg360InRad",degrees2radians$1(360)),__publicField$3(CIEDE2000$1,"_deg180InRad",degrees2radians$1(180)),__publicField$3(CIEDE2000$1,"_deg30InRad",degrees2radians$1(30)),__publicField$3(CIEDE2000$1,"_deg6InRad",degrees2radians$1(6)),__publicField$3(CIEDE2000$1,"_deg63InRad",degrees2radians$1(63)),__publicField$3(CIEDE2000$1,"_deg275InRad",degrees2radians$1(275)),__publicField$3(CIEDE2000$1,"_deg25InRad",degrees2radians$1(25));var CMetric$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,j,q,te){const re=(d+D)/2*this._whitePoint.r,ne=(d-D)*this._whitePoint.r,ie=(m-j)*this._whitePoint.g,ae=(g-q)*this._whitePoint.b,se=((512+re)*ne*ne>>8)+4*ie*ie+((767-re)*ae*ae>>8),le=(te-w)*this._whitePoint.a;return Math.sqrt(se+le*le)}_setDefaults(){}},AbstractEuclidean$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,j,q,te){const re=D-d,ne=j-m,ie=q-g,ae=te-w;return Math.sqrt(this._kR*re*re+this._kG*ne*ne+this._kB*ie*ie+this._kA*ae*ae)}},Euclidean$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,j,q,te){let re=D-d,ne=j-m,ie=q-g,ae=te-w;return re<0&&(re=0-re),ne<0&&(ne=0-ne),ie<0&&(ie=0-ie),ae<0&&(ae=0-ae),this._kR*re+this._kG*ne+this._kB*ie+this._kA*ae}},Manhattan$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,j,q,te){const re=(te-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,D*this._whitePoint.r,re)+this._colordifferenceCh(m*this._whitePoint.g,j*this._whitePoint.g,re)+this._colordifferenceCh(g*this._whitePoint.b,q*this._whitePoint.b,re)}_colordifferenceCh(d,m,g){const w=d-m,D=w+g;return w*w+D*D}_setDefaults(){}},palette_exports$1={};__export$1(palette_exports$1,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer$1,ColorHistogram:()=>ColorHistogram$1,NeuQuant:()=>NeuQuant$1,NeuQuantFloat:()=>NeuQuantFloat$1,RGBQuant:()=>RGBQuant$1,WuColorCube:()=>WuColorCube$1,WuQuant:()=>WuQuant$1});var AbstractPaletteQuantizer$1=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point$1=class{constructor(){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),__publicField$3(this,"uint32"),__publicField$3(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point$1;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const D=new Point$1;return D.r=0|d,D.g=0|m,D.b=0|g,D.a=0|w,D._loadUINT32(),D._loadQuadruplet(),D}static createByUint32(d){const m=new Point$1;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer$1=class{constructor(){__publicField$3(this,"_pointArray"),__publicField$3(this,"_width"),__publicField$3(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer$1;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point$1.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer$1.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer$1.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer$1.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer$1.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer$1;w._width=m,w._height=g;for(let D=0,j=d.length;D<j;D++)w._pointArray[D]=Point$1.createByUint32(0|d[D]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer$1.fromUint32Array(w,m,g)}},hueGroups$1=10;function hueGroup$1(d,m){const g=360/m;for(let w=1,D=g-g/2;w<m;w++,D+=g)if(d>=D&&d<D+g)return w;return 0}var Palette$1=class{constructor(){__publicField$3(this,"_pointContainer"),__publicField$3(this,"_pointArray",[]),__publicField$3(this,"_i32idx",{}),this._pointContainer=new PointContainer$1,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let D=0,j=this._pointArray.length;D<j;D++){const q=this._pointArray[D],te=d.calculateRaw(m.r,m.g,m.b,m.a,q.r,q.g,q.b,q.a);te<w&&(w=te,g=D)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort((d,m)=>{const g=rgb2hsl$1(d.r,d.g,d.b),w=rgb2hsl$1(m.r,m.g,m.b),D=d.r===d.g&&d.g===d.b?0:1+hueGroup$1(g.h,hueGroups$1),j=(m.r===m.g&&m.g===m.b?0:1+hueGroup$1(w.h,hueGroups$1))-D;if(j)return-j;const q=d.getLuminosity(!0),te=m.getLuminosity(!0);if(te-q!=0)return te-q;const re=(100*w.s|0)-(100*g.s|0);return re?-re:0})}},utils_exports$1={};__export$1(utils_exports$1,{HueStatistics:()=>HueStatistics$1,Palette:()=>Palette$1,Point:()=>Point$1,PointContainer:()=>PointContainer$1,ProgressTracker:()=>ProgressTracker$1,arithmetic:()=>arithmetic_exports$1});var HueGroup$1=class{constructor(){__publicField$3(this,"num",0),__publicField$3(this,"cols",[])}},HueStatistics$1=class{constructor(d,m){__publicField$3(this,"_numGroups"),__publicField$3(this,"_minCols"),__publicField$3(this,"_stats"),__publicField$3(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup$1;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,D=m===g&&g===w?0:1+hueGroup$1(rgb2hsl$1(m,g,w).h,this._numGroups),j=this._stats[D],q=this._minCols;j.num++,j.num>q||(j.num===q&&this._groupsFull++,j.num<=q&&this._stats[D].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d[g]?d[g]++:d[g]=1})}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d.indexOf(g)===-1&&d.push(g)})}},_ProgressTracker$1=class{constructor(d,m){__publicField$3(this,"progress"),__publicField$3(this,"_step"),__publicField$3(this,"_range"),__publicField$3(this,"_last"),__publicField$3(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker$1.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker$1=_ProgressTracker$1;__publicField$3(ProgressTracker$1,"steps",100);var networkBiasShift$1=3,Neuron$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift$1,this.g>>networkBiasShift$1,this.b>>networkBiasShift$1,this.a>>networkBiasShift$1)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron$1((d<<networkBiasShift$1+8)/this._networkSize|0),this._freq[d]=_NeuQuant$1._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant$1._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let D,j=w/_NeuQuant$1._nCycles|0,q=_NeuQuant$1._initAlpha,te=(this._networkSize>>3)*_NeuQuant$1._radiusBias,re=te>>_NeuQuant$1._radiusBiasShift;re<=1&&(re=0);for(let ie=0;ie<re;ie++)this._radPower[ie]=q*((re*re-ie*ie)*_NeuQuant$1._radBias/(re*re))>>>0;D=m<_NeuQuant$1._minpicturebytes?1:m%_NeuQuant$1._prime1!=0?_NeuQuant$1._prime1:m%_NeuQuant$1._prime2!=0?_NeuQuant$1._prime2:m%_NeuQuant$1._prime3!=0?_NeuQuant$1._prime3:_NeuQuant$1._prime4;const ne=new ProgressTracker$1(w,99);for(let ie=0,ae=0;ie<w;){ne.shouldNotify(ie)&&(yield{progress:ne.progress});const se=this._pointArray[ae],le=se.b<<networkBiasShift$1,ue=se.g<<networkBiasShift$1,ce=se.r<<networkBiasShift$1,de=se.a<<networkBiasShift$1,he=this._contest(le,ue,ce,de);if(this._alterSingle(q,he,le,ue,ce,de),re!==0&&this._alterNeighbour(re,he,le,ue,ce,de),ae+=D,ae>=m&&(ae-=m),ie++,j===0&&(j=1),ie%j==0){q-=q/g|0,te-=te/_NeuQuant$1._radiusDecrease|0,re=te>>_NeuQuant$1._radiusBiasShift,re<=1&&(re=0);for(let pe=0;pe<re;pe++)this._radPower[pe]=q*((re*re-pe*pe)*_NeuQuant$1._radBias/(re*re))>>>0}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,j){let q=m-d;q<-1&&(q=-1);let te=m+d;te>this._networkSize&&(te=this._networkSize);let re=m+1,ne=m-1,ie=1;for(;re<te||ne>q;){const ae=this._radPower[ie++]/_NeuQuant$1._alphaRadBias;if(re<te){const se=this._network[re++];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-j))}if(ne>q){const se=this._network[ne--];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-j))}}}_alterSingle(d,m,g,w,D,j){d/=_NeuQuant$1._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-j))}_contest(d,m,g,w){const D=1020<<networkBiasShift$1;let j=2147483647,q=j,te=-1,re=te;for(let ne=0;ne<this._networkSize;ne++){const ie=this._network[ne],ae=this._distance.calculateNormalized(ie,{r:g,g:m,b:d,a:w})*D|0;ae<j&&(j=ae,te=ne);const se=ae-(this._bias[ne]>>_NeuQuant$1._initialBiasShift-networkBiasShift$1);se<q&&(q=se,re=ne);const le=this._freq[ne]>>_NeuQuant$1._betaShift;this._freq[ne]-=le,this._bias[ne]+=le<<_NeuQuant$1._gammaShift}return this._freq[te]+=_NeuQuant$1._beta,this._bias[te]-=_NeuQuant$1._betaGamma,re}},NeuQuant$1=_NeuQuant$1;__publicField$3(NeuQuant$1,"_prime1",499),__publicField$3(NeuQuant$1,"_prime2",491),__publicField$3(NeuQuant$1,"_prime3",487),__publicField$3(NeuQuant$1,"_prime4",503),__publicField$3(NeuQuant$1,"_minpicturebytes",_NeuQuant$1._prime4),__publicField$3(NeuQuant$1,"_nCycles",100),__publicField$3(NeuQuant$1,"_initialBiasShift",16),__publicField$3(NeuQuant$1,"_initialBias",1<<_NeuQuant$1._initialBiasShift),__publicField$3(NeuQuant$1,"_gammaShift",10),__publicField$3(NeuQuant$1,"_betaShift",10),__publicField$3(NeuQuant$1,"_beta",_NeuQuant$1._initialBias>>_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_betaGamma",_NeuQuant$1._initialBias<<_NeuQuant$1._gammaShift-_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_radiusBiasShift",6),__publicField$3(NeuQuant$1,"_radiusBias",1<<_NeuQuant$1._radiusBiasShift),__publicField$3(NeuQuant$1,"_radiusDecrease",30),__publicField$3(NeuQuant$1,"_alphaBiasShift",10),__publicField$3(NeuQuant$1,"_initAlpha",1<<_NeuQuant$1._alphaBiasShift),__publicField$3(NeuQuant$1,"_radBiasShift",8),__publicField$3(NeuQuant$1,"_radBias",1<<_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBiasShift",_NeuQuant$1._alphaBiasShift+_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBias",1<<_NeuQuant$1._alphaRadBiasShift);var networkBiasShift2$1=3,NeuronFloat$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift2$1,this.g>>networkBiasShift2$1,this.b>>networkBiasShift2$1,this.a>>networkBiasShift2$1)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat$1((d<<networkBiasShift2$1+8)/this._networkSize),this._freq[d]=_NeuQuantFloat$1._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat$1._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let D,j=w/_NeuQuantFloat$1._nCycles|0,q=_NeuQuantFloat$1._initAlpha,te=(this._networkSize>>3)*_NeuQuantFloat$1._radiusBias,re=te>>_NeuQuantFloat$1._radiusBiasShift;re<=1&&(re=0);for(let ie=0;ie<re;ie++)this._radPower[ie]=q*((re*re-ie*ie)*_NeuQuantFloat$1._radBias/(re*re));D=m<_NeuQuantFloat$1._minpicturebytes?1:m%_NeuQuantFloat$1._prime1!=0?_NeuQuantFloat$1._prime1:m%_NeuQuantFloat$1._prime2!=0?_NeuQuantFloat$1._prime2:m%_NeuQuantFloat$1._prime3!=0?_NeuQuantFloat$1._prime3:_NeuQuantFloat$1._prime4;const ne=new ProgressTracker$1(w,99);for(let ie=0,ae=0;ie<w;){ne.shouldNotify(ie)&&(yield{progress:ne.progress});const se=this._pointArray[ae],le=se.b<<networkBiasShift2$1,ue=se.g<<networkBiasShift2$1,ce=se.r<<networkBiasShift2$1,de=se.a<<networkBiasShift2$1,he=this._contest(le,ue,ce,de);if(this._alterSingle(q,he,le,ue,ce,de),re!==0&&this._alterNeighbour(re,he,le,ue,ce,de),ae+=D,ae>=m&&(ae-=m),ie++,j===0&&(j=1),ie%j==0){q-=q/g,te-=te/_NeuQuantFloat$1._radiusDecrease,re=te>>_NeuQuantFloat$1._radiusBiasShift,re<=1&&(re=0);for(let pe=0;pe<re;pe++)this._radPower[pe]=q*((re*re-pe*pe)*_NeuQuantFloat$1._radBias/(re*re))}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,j){let q=m-d;q<-1&&(q=-1);let te=m+d;te>this._networkSize&&(te=this._networkSize);let re=m+1,ne=m-1,ie=1;for(;re<te||ne>q;){const ae=this._radPower[ie++]/_NeuQuantFloat$1._alphaRadBias;if(re<te){const se=this._network[re++];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-j))}if(ne>q){const se=this._network[ne--];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-j))}}}_alterSingle(d,m,g,w,D,j){d/=_NeuQuantFloat$1._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-j))}_contest(d,m,g,w){const D=1020<<networkBiasShift2$1;let j=2147483647,q=j,te=-1,re=te;for(let ne=0;ne<this._networkSize;ne++){const ie=this._network[ne],ae=this._distance.calculateNormalized(ie,{r:g,g:m,b:d,a:w})*D;ae<j&&(j=ae,te=ne);const se=ae-(this._bias[ne]>>_NeuQuantFloat$1._initialBiasShift-networkBiasShift2$1);se<q&&(q=se,re=ne);const le=this._freq[ne]>>_NeuQuantFloat$1._betaShift;this._freq[ne]-=le,this._bias[ne]+=le<<_NeuQuantFloat$1._gammaShift}return this._freq[te]+=_NeuQuantFloat$1._beta,this._bias[te]-=_NeuQuantFloat$1._betaGamma,re}},NeuQuantFloat$1=_NeuQuantFloat$1;__publicField$3(NeuQuantFloat$1,"_prime1",499),__publicField$3(NeuQuantFloat$1,"_prime2",491),__publicField$3(NeuQuantFloat$1,"_prime3",487),__publicField$3(NeuQuantFloat$1,"_prime4",503),__publicField$3(NeuQuantFloat$1,"_minpicturebytes",_NeuQuantFloat$1._prime4),__publicField$3(NeuQuantFloat$1,"_nCycles",100),__publicField$3(NeuQuantFloat$1,"_initialBiasShift",16),__publicField$3(NeuQuantFloat$1,"_initialBias",1<<_NeuQuantFloat$1._initialBiasShift),__publicField$3(NeuQuantFloat$1,"_gammaShift",10),__publicField$3(NeuQuantFloat$1,"_betaShift",10),__publicField$3(NeuQuantFloat$1,"_beta",_NeuQuantFloat$1._initialBias>>_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_betaGamma",_NeuQuantFloat$1._initialBias<<_NeuQuantFloat$1._gammaShift-_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_radiusBiasShift",6),__publicField$3(NeuQuantFloat$1,"_radiusBias",1<<_NeuQuantFloat$1._radiusBiasShift),__publicField$3(NeuQuantFloat$1,"_radiusDecrease",30),__publicField$3(NeuQuantFloat$1,"_alphaBiasShift",10),__publicField$3(NeuQuantFloat$1,"_initAlpha",1<<_NeuQuantFloat$1._alphaBiasShift),__publicField$3(NeuQuantFloat$1,"_radBiasShift",8),__publicField$3(NeuQuantFloat$1,"_radBias",1<<_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBiasShift",_NeuQuantFloat$1._alphaBiasShift+_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBias",1<<_NeuQuantFloat$1._alphaRadBiasShift);var _ColorHistogram$1=class{constructor(d,m){__publicField$3(this,"_method"),__publicField$3(this,"_hueStats"),__publicField$3(this,"_histogram"),__publicField$3(this,"_initColors"),__publicField$3(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics$1(_ColorHistogram$1._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort$1(Object.keys(this._histogram),(g,w)=>this._histogram[w]-this._histogram[g]);if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],D=this._histogram[w];m=d.slice(0,g);let j=g;const q=d.length;for(;j<q&&this._histogram[d[j]]===D;)m.push(d[j++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map(g=>+g)}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let D=0;D<w;D++){const j=g[D].uint32;this._hueStats.check(j),j in m?m[j]++:m[j]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),D=_ColorHistogram$1._boxSize[0],j=_ColorHistogram$1._boxSize[1],q=D*j,te=this._makeBoxes(m,g,D,j),re=this._histogram;te.forEach(ne=>{let ie=Math.round(ne.w*ne.h/q)*_ColorHistogram$1._boxPixels;ie<2&&(ie=2);const ae={};this._iterateBox(ne,m,se=>{const le=w[se].uint32;this._hueStats.check(le),le in re?re[le]++:le in ae?++ae[le]>=ie&&(re[le]=ae[le]):ae[le]=1})}),this._hueStats.injectIntoDictionary(re)}_iterateBox(d,m,g){const w=d,D=w.y*m+w.x,j=(w.y+w.h-1)*m+(w.x+w.w-1),q=m-w.w+1;let te=0,re=D;do g.call(this,re),re+=++te%w.w==0?q:1;while(re<=j)}_makeBoxes(d,m,g,w){const D=d%g,j=m%w,q=d-D,te=m-j,re=[];for(let ne=0;ne<m;ne+=w)for(let ie=0;ie<d;ie+=g)re.push({x:ie,y:ne,w:ie===q?D:g,h:ne===te?j:w});return re}},ColorHistogram$1=_ColorHistogram$1;__publicField$3(ColorHistogram$1,"_boxSize",[64,64]),__publicField$3(ColorHistogram$1,"_boxPixels",2),__publicField$3(ColorHistogram$1,"_hueGroups",10);var RemovedColor$1=class{constructor(d,m,g){__publicField$3(this,"index"),__publicField$3(this,"color"),__publicField$3(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=2){super(),__publicField$3(this,"_colors"),__publicField$3(this,"_initialDistance"),__publicField$3(this,"_distanceIncrement"),__publicField$3(this,"_histogram"),__publicField$3(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram$1(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette$1,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let ie=0;ie<d.length;ie++)g.push(Point$1.createByUint32(d[ie])),w[ie]=1;const D=g.length,j=[];let q=D,te=this._initialDistance;const re=new ProgressTracker$1(q-this._colors,99);for(;q>this._colors;){j.length=0;for(let ie=0;ie<D;ie++){if(re.shouldNotify(D-q)&&(yield{progress:re.progress}),w[ie]===0)continue;const ae=g[ie];for(let se=ie+1;se<D;se++){if(w[se]===0)continue;const le=g[se],ue=this._distance.calculateNormalized(ae,le);ue<te&&(j.push(new RemovedColor$1(se,le,ue)),w[se]=0,q--)}}te+=q>3*this._colors?this._initialDistance:this._distanceIncrement}if(q<this._colors){stableSort$1(j,(ae,se)=>se.distance-ae.distance);let ie=0;for(;q<this._colors&&ie<j.length;)w[j[ie].index]=1,q++,ie++}let ne=g.length;for(let ie=ne-1;ie>=0;ie--)w[ie]===0&&(ie!==ne-1&&(g[ie]=g[ne-1]),--ne);g.length=ne,m.sort(),yield{palette:m,progress:100}}};function createArray1D$1(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D$1(d,m,g,w){const D=new Array(d);for(let j=0;j<d;j++){D[j]=new Array(m);for(let q=0;q<m;q++){D[j][q]=new Array(g);for(let te=0;te<g;te++){D[j][q][te]=new Array(w);for(let re=0;re<w;re++)D[j][q][te][re]=0}}}return D}function createArray3D$1(d,m,g){const w=new Array(d);for(let D=0;D<d;D++){w[D]=new Array(m);for(let j=0;j<m;j++){w[D][j]=new Array(g);for(let q=0;q<g;q++)w[D][j][q]=0}}return w}function fillArray3D$1(d,m,g,w,D){for(let j=0;j<m;j++){d[j]=[];for(let q=0;q<g;q++){d[j][q]=[];for(let te=0;te<w;te++)d[j][q][te]=D}}}function fillArray1D$1(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube$1=class{constructor(){__publicField$3(this,"redMinimum"),__publicField$3(this,"redMaximum"),__publicField$3(this,"greenMinimum"),__publicField$3(this,"greenMaximum"),__publicField$3(this,"blueMinimum"),__publicField$3(this,"blueMaximum"),__publicField$3(this,"volume"),__publicField$3(this,"alphaMinimum"),__publicField$3(this,"alphaMaximum")}},_WuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=5){super(),__publicField$3(this,"_reds"),__publicField$3(this,"_greens"),__publicField$3(this,"_blues"),__publicField$3(this,"_alphas"),__publicField$3(this,"_sums"),__publicField$3(this,"_weights"),__publicField$3(this,"_momentsRed"),__publicField$3(this,"_momentsGreen"),__publicField$3(this,"_momentsBlue"),__publicField$3(this,"_momentsAlpha"),__publicField$3(this,"_moments"),__publicField$3(this,"_table"),__publicField$3(this,"_pixels"),__publicField$3(this,"_cubes"),__publicField$3(this,"_colors"),__publicField$3(this,"_significantBitsPerChannel"),__publicField$3(this,"_maxSideIndex"),__publicField$3(this,"_alphaMaxSideIndex"),__publicField$3(this,"_sideSize"),__publicField$3(this,"_alphaSideSize"),__publicField$3(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette$1;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,D=this._greens[m]/g,j=this._blues[m]/g,q=this._alphas[m]/g,te=Point$1.createByRGBA(0|w,0|D,0|j,0|q);d.add(te)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D$1(this._colors);for(let q=1;q<this._colors;++q){this._cut(this._cubes[d],this._cubes[q])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[q]=this._cubes[q].volume>1?this._calculateVariance(this._cubes[q]):0):(m[d]=0,q--),d=0;let te=m[0];for(let re=1;re<=q;++re)m[re]>te&&(te=m[re],d=re);if(te<=0){this._colors=q+1;break}}const g=[],w=[],D=[],j=[];for(let q=0;q<this._colors;++q){const te=_WuQuant$1._volume(this._cubes[q],this._weights);te>0?(g[q]=_WuQuant$1._volume(this._cubes[q],this._momentsRed)/te|0,w[q]=_WuQuant$1._volume(this._cubes[q],this._momentsGreen)/te|0,D[q]=_WuQuant$1._volume(this._cubes[q],this._momentsBlue)/te|0,j[q]=_WuQuant$1._volume(this._cubes[q],this._momentsAlpha)/te|0):(g[q]=0,w[q]=0,D[q]=0,j[q]=0)}this._reds=createArray1D$1(this._colors+1),this._greens=createArray1D$1(this._colors+1),this._blues=createArray1D$1(this._colors+1),this._alphas=createArray1D$1(this._colors+1),this._sums=createArray1D$1(this._colors+1);for(let q=0,te=this._pixels.length;q<te;q++){const re=this._pixels[q];let ne=-1,ie=Number.MAX_VALUE;for(let ae=0;ae<this._colors;ae++){const se=g[ae],le=w[ae],ue=D[ae],ce=j[ae],de=this._distance.calculateRaw(se,le,ue,ce,re.r,re.g,re.b,re.a);de<ie&&(ie=de,ne=ae)}this._reds[ne]+=re.r,this._greens[ne]+=re.g,this._blues[ne]+=re.b,this._alphas[ne]+=re.a,this._sums[ne]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),D=1+(d.b>>m),j=1+(d.a>>m);this._weights[j][g][w][D]++,this._momentsRed[j][g][w][D]+=d.r,this._momentsGreen[j][g][w][D]+=d.g,this._momentsBlue[j][g][w][D]+=d.b,this._momentsAlpha[j][g][w][D]+=d.a,this._moments[j][g][w][D]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],D=[],j=[],q=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),te=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),re=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ne=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ie=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ae=createArray3D$1(this._sideSize,this._sideSize,this._sideSize);let se=0;const le=new ProgressTracker$1(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let ue=1;ue<=this._alphaMaxSideIndex;++ue){fillArray3D$1(q,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(te,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(re,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ne,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ie,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ae,this._sideSize,this._sideSize,this._sideSize,0);for(let ce=1;ce<=this._maxSideIndex;++ce,++se){le.shouldNotify(se)&&(yield{progress:le.progress}),fillArray1D$1(d,this._sideSize,0),fillArray1D$1(m,this._sideSize,0),fillArray1D$1(g,this._sideSize,0),fillArray1D$1(w,this._sideSize,0),fillArray1D$1(D,this._sideSize,0),fillArray1D$1(j,this._sideSize,0);for(let de=1;de<=this._maxSideIndex;++de){let he=0,pe=0,me=0,ge=0,be=0,ke=0;for(let ye=1;ye<=this._maxSideIndex;++ye)he+=this._weights[ue][ce][de][ye],pe+=this._momentsRed[ue][ce][de][ye],me+=this._momentsGreen[ue][ce][de][ye],ge+=this._momentsBlue[ue][ce][de][ye],be+=this._momentsAlpha[ue][ce][de][ye],ke+=this._moments[ue][ce][de][ye],d[ye]+=he,m[ye]+=pe,g[ye]+=me,w[ye]+=ge,D[ye]+=be,j[ye]+=ke,q[ce][de][ye]=q[ce-1][de][ye]+d[ye],te[ce][de][ye]=te[ce-1][de][ye]+m[ye],re[ce][de][ye]=re[ce-1][de][ye]+g[ye],ne[ce][de][ye]=ne[ce-1][de][ye]+w[ye],ie[ce][de][ye]=ie[ce-1][de][ye]+D[ye],ae[ce][de][ye]=ae[ce-1][de][ye]+j[ye],this._weights[ue][ce][de][ye]=this._weights[ue-1][ce][de][ye]+q[ce][de][ye],this._momentsRed[ue][ce][de][ye]=this._momentsRed[ue-1][ce][de][ye]+te[ce][de][ye],this._momentsGreen[ue][ce][de][ye]=this._momentsGreen[ue-1][ce][de][ye]+re[ce][de][ye],this._momentsBlue[ue][ce][de][ye]=this._momentsBlue[ue-1][ce][de][ye]+ne[ce][de][ye],this._momentsAlpha[ue][ce][de][ye]=this._momentsAlpha[ue-1][ce][de][ye]+ie[ce][de][ye],this._moments[ue][ce][de][ye]=this._moments[ue-1][ce][de][ye]+ae[ce][de][ye]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant$1._volumeFloat(d,m)}static _top(d,m,g,w){let D;switch(m){case _WuQuant$1._alpha:D=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._red:D=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._green:D=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant$1._blue:D=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|D}static _bottom(d,m,g){switch(m){case _WuQuant$1._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant$1._volume(d,this._momentsRed),g=_WuQuant$1._volume(d,this._momentsGreen),w=_WuQuant$1._volume(d,this._momentsBlue),D=_WuQuant$1._volume(d,this._momentsAlpha);return _WuQuant$1._volumeFloat(d,this._moments)-(m*m+g*g+w*w+D*D)/_WuQuant$1._volume(d,this._weights)}_maximize(d,m,g,w,D,j,q,te,re){const ne=0|_WuQuant$1._bottom(d,m,this._momentsRed),ie=0|_WuQuant$1._bottom(d,m,this._momentsGreen),ae=0|_WuQuant$1._bottom(d,m,this._momentsBlue),se=0|_WuQuant$1._bottom(d,m,this._momentsAlpha),le=0|_WuQuant$1._bottom(d,m,this._weights);let ue=0,ce=-1;for(let de=g;de<w;++de){let he=ne+_WuQuant$1._top(d,m,de,this._momentsRed),pe=ie+_WuQuant$1._top(d,m,de,this._momentsGreen),me=ae+_WuQuant$1._top(d,m,de,this._momentsBlue),ge=se+_WuQuant$1._top(d,m,de,this._momentsAlpha),be=le+_WuQuant$1._top(d,m,de,this._weights);if(be!==0){let ke=he*he+pe*pe+me*me+ge*ge,ye=ke/be;he=D-he,pe=j-pe,me=q-me,ge=te-ge,be=re-be,be!==0&&(ke=he*he+pe*pe+me*me+ge*ge,ye+=ke/be,ye>ue&&(ue=ye,ce=de))}}return{max:ue,position:ce}}_cut(d,m){let g;const w=_WuQuant$1._volume(d,this._momentsRed),D=_WuQuant$1._volume(d,this._momentsGreen),j=_WuQuant$1._volume(d,this._momentsBlue),q=_WuQuant$1._volume(d,this._momentsAlpha),te=_WuQuant$1._volume(d,this._weights),re=this._maximize(d,_WuQuant$1._red,d.redMinimum+1,d.redMaximum,w,D,j,q,te),ne=this._maximize(d,_WuQuant$1._green,d.greenMinimum+1,d.greenMaximum,w,D,j,q,te),ie=this._maximize(d,_WuQuant$1._blue,d.blueMinimum+1,d.blueMaximum,w,D,j,q,te),ae=this._maximize(d,_WuQuant$1._alpha,d.alphaMinimum+1,d.alphaMaximum,w,D,j,q,te);if(ae.max>=re.max&&ae.max>=ne.max&&ae.max>=ie.max){if(g=_WuQuant$1._alpha,ae.position<0)return!1}else g=re.max>=ae.max&&re.max>=ne.max&&re.max>=ie.max?_WuQuant$1._red:ne.max>=ae.max&&ne.max>=re.max&&ne.max>=ie.max?_WuQuant$1._green:_WuQuant$1._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant$1._red:m.redMinimum=d.redMaximum=re.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._green:m.greenMinimum=d.greenMaximum=ne.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._blue:m.blueMinimum=d.blueMaximum=ie.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._alpha:m.alphaMinimum=d.alphaMaximum=ae.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube$1;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant$1=_WuQuant$1;__publicField$3(WuQuant$1,"_alpha",3),__publicField$3(WuQuant$1,"_red",2),__publicField$3(WuQuant$1,"_green",1),__publicField$3(WuQuant$1,"_blue",0);var image_exports$1={};__export$1(image_exports$1,{AbstractImageQuantizer:()=>AbstractImageQuantizer$1,ErrorDiffusionArray:()=>ErrorDiffusionArray$1,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel$1,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma$1,NearestColor:()=>NearestColor$1});var AbstractImageQuantizer$1=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor$1=class extends AbstractImageQuantizer$1{constructor(d){super(),__publicField$3(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),j=new ProgressTracker$1(D,99);for(let q=0;q<D;q++){j.shouldNotify(q)&&(yield{progress:j.progress});for(let te=0,re=q*w;te<w;te++,re++){const ne=g[re];ne.from(m.getNearestColor(this._distance,ne))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel$1=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel$1||{}),ErrorDiffusionArray$1=class extends AbstractImageQuantizer$1{constructor(d,m,g=!0,w=0,D=!1){super(),__publicField$3(this,"_minColorDistance"),__publicField$3(this,"_serpentine"),__publicField$3(this,"_kernel"),__publicField$3(this,"_calculateErrorLikeGIMP"),__publicField$3(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=D}*quantize(d,m){const g=d.getPointArray(),w=new Point$1,D=d.getWidth(),j=d.getHeight(),q=[];let te=1,re=1;for(const ie of this._kernel){const ae=ie[2]+1;re<ae&&(re=ae)}for(let ie=0;ie<re;ie++)this._fillErrorLine(q[ie]=[],D);const ne=new ProgressTracker$1(j,99);for(let ie=0;ie<j;ie++){ne.shouldNotify(ie)&&(yield{progress:ne.progress}),this._serpentine&&(te*=-1);const ae=ie*D,se=te===1?0:D-1,le=te===1?D:-1;this._fillErrorLine(q[0],D),q.push(q.shift());const ue=q[0];for(let ce=se,de=ae+se;ce!==le;ce+=te,de+=te){const he=g[de],pe=ue[ce];w.from(he);const me=Point$1.createByRGBA(inRange0to255Rounded$1(he.r+pe[0]),inRange0to255Rounded$1(he.g+pe[1]),inRange0to255Rounded$1(he.b+pe[2]),inRange0to255Rounded$1(he.a+pe[3])),ge=m.getNearestColor(this._distance,me);if(he.from(ge),this._minColorDistance&&this._distance.calculateNormalized(w,ge)<this._minColorDistance)continue;let be,ke,ye,Se;this._calculateErrorLikeGIMP?(be=me.r-ge.r,ke=me.g-ge.g,ye=me.b-ge.b,Se=me.a-ge.a):(be=w.r-ge.r,ke=w.g-ge.g,ye=w.b-ge.b,Se=w.a-ge.a);const we=te===1?0:this._kernel.length-1,Te=te===1?this._kernel.length:-1;for(let _e=we;_e!==Te;_e+=te){const Ie=this._kernel[_e][1]*te,Le=this._kernel[_e][2];if(Ie+ce>=0&&Ie+ce<D&&Le+ie>=0&&Le+ie<j){const Be=this._kernel[_e][0],Me=q[Le][Ie+ce];Me[0]+=be*Be,Me[1]+=ke*Be,Me[2]+=ye*Be,Me[3]+=Se*Be}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const D=d[w];D[0]=D[1]=D[2]=D[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve$1(d,m,g){const w=Math.max(d,m),D={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker$1(d*m,99),index:0,x:0,y:0};yield*walkHilbert$1(D,1),visit$1(D,0)}function*walkHilbert$1(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,2),visit$1(d,2),yield*walkHilbert$1(d,4);break;case 3:yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,3),visit$1(d,3),yield*walkHilbert$1(d,1);break;case 1:yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,1),visit$1(d,1),yield*walkHilbert$1(d,3);break;case 4:yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,4),visit$1(d,4),yield*walkHilbert$1(d,2)}d.level++}}function visit$1(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma$1=class extends AbstractImageQuantizer$1{constructor(d,m=16,g=1){super(),__publicField$3(this,"_distance"),__publicField$3(this,"_weights"),__publicField$3(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma$1._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),j=[];let q=0;for(let te=0;te<this._errorQueueSize;te++)j[te]={r:0,g:0,b:0,a:0};yield*hilbertCurve$1(w,D,(te,re)=>{const ne=g[te+re*w];let{r:ie,g:ae,b:se,a:le}=ne;for(let he=0;he<this._errorQueueSize;he++){const pe=this._weights[he],me=j[(he+q)%this._errorQueueSize];ie+=me.r*pe,ae+=me.g*pe,se+=me.b*pe,le+=me.a*pe}const ue=Point$1.createByRGBA(inRange0to255Rounded$1(ie),inRange0to255Rounded$1(ae),inRange0to255Rounded$1(se),inRange0to255Rounded$1(le)),ce=m.getNearestColor(this._distance,ue);q=(q+1)%this._errorQueueSize;const de=(q+this._errorQueueSize-1)%this._errorQueueSize;j[de].r=ne.r-ce.r,j[de].g=ne.g-ce.g,j[de].b=ne.b-ce.b,j[de].a=ne.a-ce.a,ne.from(ce)}),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let D=0,j=1;D<m;D++)g[D]=(j+.5|0)/m*d,j*=w;return g}},quality_exports$1={};__export$1(quality_exports$1,{ssim:()=>ssim$1});var K1$1=.01,K2$1=.03;function ssim$1(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1$1)**2,w=(255*K2$1)**2;let D=0,j=0;return iterate$1(d,m,(q,te,re,ne)=>{let ie=0,ae=0,se=0;for(let ue=0;ue<q.length;ue++)ae+=(q[ue]-re)**2,se+=(te[ue]-ne)**2,ie+=(q[ue]-re)*(te[ue]-ne);const le=q.length-1;ae/=le,se/=le,ie/=le,j+=(2*re*ne+g)*(2*ie+w)/((re**2+ne**2+g)*(ae+se+w)),D++}),j/D}function iterate$1(d,m,g){const w=d.getWidth(),D=d.getHeight();for(let j=0;j<D;j+=8)for(let q=0;q<w;q+=8){const te=Math.min(8,w-q),re=Math.min(8,D-j),ne=calculateLumaValuesForWindow$1(d,q,j,te,re),ie=calculateLumaValuesForWindow$1(m,q,j,te,re);g(ne,ie,calculateAverageLuma$1(ne),calculateAverageLuma$1(ie))}}function calculateLumaValuesForWindow$1(d,m,g,w,D){const j=d.getPointArray(),q=[];let te=0;for(let re=g;re<g+D;re++){const ne=re*d.getWidth();for(let ie=m;ie<m+w;ie++){const ae=j[ne+ie];q[te]=.2126*ae.r+.7152*ae.g+.0722*ae.b,te++}}return q}function calculateAverageLuma$1(d){let m=0;for(const g of d)m+=g;return m/d.length}var setImmediateImpl=typeof setImmediate=="function"?setImmediate:typeof process<"u"&&typeof(process==null?void 0:process.nextTick)=="function"?d=>process.nextTick(d):d=>setTimeout(d,0);function buildPaletteSync$1(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const D=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);return d.forEach(j=>D.sample(j)),D.quantizeSync()}async function buildPalette(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w,onProgress:D}={}){return new Promise((j,q)=>{const te=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);let re;d.forEach(ae=>te.sample(ae));const ne=te.quantize(),ie=()=>{try{const ae=ne.next();ae.done?j(re):(ae.value.palette&&(re=ae.value.palette),D&&D(ae.value.progress),setImmediateImpl(ie))}catch(ae){q(ae)}};setImmediateImpl(ie)})}function applyPaletteSync$1(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantizeSync(d,m)}async function applyPalette(d,m,{colorDistanceFormula:g,imageQuantization:w,onProgress:D}={}){return new Promise((j,q)=>{let te;const re=imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantize(d,m),ne=()=>{try{const ie=re.next();ie.done?j(te):(ie.value.pointContainer&&(te=ie.value.pointContainer),D&&D(ie.value.progress),setImmediateImpl(ne))}catch(ie){q(ie)}};setImmediateImpl(ne)})}function colorDistanceFormulaToColorDistance$1(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts$1;case"cie94-textiles":return new CIE94Textiles$1;case"ciede2000":return new CIEDE2000$1;case"color-metric":return new CMetric$1;case"euclidean":return new Euclidean$1;case"euclidean-bt709":return new EuclideanBT709$1;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha$1;case"manhattan":return new Manhattan$1;case"manhattan-bt709":return new ManhattanBT709$1;case"manhattan-nommyde":return new ManhattanNommyde$1;case"pngquant":return new PNGQuant$1;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer$1(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor$1(d);case"riemersma":return new ErrorDiffusionRiemersma$1(d);case"floyd-steinberg":return new ErrorDiffusionArray$1(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray$1(d,1);case"stucki":return new ErrorDiffusionArray$1(d,2);case"atkinson":return new ErrorDiffusionArray$1(d,3);case"jarvis":return new ErrorDiffusionArray$1(d,4);case"burkes":return new ErrorDiffusionArray$1(d,5);case"sierra":return new ErrorDiffusionArray$1(d,6);case"two-sierra":return new ErrorDiffusionArray$1(d,7);case"sierra-lite":return new ErrorDiffusionArray$1(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer$1(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant$1(d,g);case"rgbquant":return new RGBQuant$1(d,g);case"wuquant":return new WuQuant$1(d,g);case"neuquant-float":return new NeuQuantFloat$1(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}var imageQ=__toCommonJS(src_exports),gifframe={};const BitmapImage$1=bitmapimage;let GifFrame$1=class Rl extends BitmapImage$1{constructor(...m){if(super(...m),m[0]instanceof Rl){const g=m[0];this.xOffset=g.xOffset,this.yOffset=g.yOffset,this.disposalMethod=g.disposalMethod,this.delayCentisecs=g.delayCentisecs,this.interlaced=g.interlaced}else{const g=m[m.length-1];let w={};typeof g!="object"||g instanceof BitmapImage$1||(w=g),this.xOffset=w.xOffset||0,this.yOffset=w.yOffset||0,this.disposalMethod=w.disposalMethod!==void 0?w.disposalMethod:Rl.DisposeToBackgroundColor,this.delayCentisecs=w.delayCentisecs||8,this.interlaced=w.interlaced||!1}}getPalette(){const m=new Set,g=this.bitmap.data;let w=0,D=!1;for(;w<g.length;){if(g[w+3]===0)D=!0;else{const re=g.readUInt32BE(w,!0)>>8&16777215;m.add(re)}w+=4}const j=new Array(m.size),q=m.values();for(w=0;w<j.length;++w)j[w]=q.next().value;j.sort((re,ne)=>re-ne);let te=j.length;return D&&++te,{colors:j,usesTransparency:D,indexCount:te}}};var hasRequiredGifutil,hasRequiredGifcodec;function requireGifutil(){return hasRequiredGifutil||(hasRequiredGifutil=1,function(d){const m=require$$0,g=imageQ,w=bitmapimage,{GifFrame:D}=gifframe,{GifError:j}=gif$1,{GifCodec:q}=requireGifcodec(),te=[".jpg",".jpeg",".png",".bmp"],re=new q;function ne(ie,ae,se,le,ue){const ce=Array.isArray(ie)?ie:[ie];if(ue){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(ue.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${ue.ditherAlgorithm}'`);ue.serpentine===void 0&&(ue.serpentine=!0),ue.minimumColorDistanceToDither===void 0&&(ue.minimumColorDistanceToDither=0),ue.calculateErrorLikeGIMP===void 0&&(ue.calculateErrorLikeGIMP=!1)}const de=new g.distance.Euclidean,he=new g.palette[ae](de,se,le);let pe;pe=ue?new g.image.ErrorDiffusionArray(de,g.image.ErrorDiffusionArrayKernel[ue.ditherAlgorithm],ue.serpentine,ue.minimumColorDistanceToDither,ue.calculateErrorLikeGIMP):new g.image.NearestColor(de);const me=[];ce.forEach(be=>{const ke=be.bitmap.data,ye=new ArrayBuffer(ke.length),Se=new Uint32Array(ye);for(let Te=0,_e=0;Te<ke.length;Te+=4,++_e)Se[_e]=ke.readUInt32LE(Te,!0);const we=g.utils.PointContainer.fromUint32Array(Se,be.bitmap.width,be.bitmap.height);he.sample(we),me.push(we)});const ge=he.quantizeSync();for(let be=0;be<ce.length;++be){const ke=ce[be].bitmap.data,ye=pe.quantizeSync(me[be],ge).toUint32Array();for(let Se=0,we=0;Se<ke.length;Se+=4,++we)ke.writeUInt32LE(ye[we],Se)}}d.cloneFrames=function(ie){let ae=[];return ie.forEach(se=>{ae.push(new D(se))}),ae},d.getColorInfo=function(ie,ae){let se=!1;const le=[];for(let pe=0;pe<ie.length;++pe){let me=ie[pe].getPalette();if(me.usesTransparency&&(se=!0),me.indexCount>256)throw new j(`Frame ${pe} uses more than 256 color indexes`);le.push(me)}if(ae===0)return{usesTransparency:se,palettes:le};const ue=new Set;le.forEach(pe=>{pe.colors.forEach(me=>{ue.add(me)})});let ce=ue.size;if(se&&++ce,ae&&ce>ae)return{usesTransparency:se,palettes:le};const de=new Array(ue.size),he=ue.values();for(let pe=0;pe<de.length;++pe)de[pe]=he.next().value;return de.sort((pe,me)=>pe-me),{colors:de,indexCount:ce,usesTransparency:se,palettes:le}},d.copyAsJimp=function(ie,ae){return d.shareAsJimp(ie,new w(ae))},d.getMaxDimensions=function(ie){let ae=0,se=0;return ie.forEach(le=>{const ue=le.xOffset+le.bitmap.width;ue>ae&&(ae=ue);const ce=le.yOffset+le.bitmap.height;ce>se&&(se=ce)}),{maxWidth:ae,maxHeight:se}},d.quantizeDekker=function(ie,ae,se){ne(ie,"NeuQuantFloat",ae=ae||256,0,se)},d.quantizeSorokin=function(ie,ae,se,le){let ue;switch(ae=ae||256,se=se||"min-pop"){case"min-pop":ue=2;break;case"top-pop":ue=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${se}'`)}ne(ie,"RGBQuant",ae,ue,le)},d.quantizeWu=function(ie,ae,se,le){if(ae=ae||256,(se=se||5)<1||se>8)throw new Error("Invalid quantization quality");ne(ie,"WuQuant",ae,se,le)},d.read=function(ie,ae){return ae=ae||re,Buffer.isBuffer(ie)?ae.decodeGif(ie):function(se){return new Promise((le,ue)=>{m.readFile(se,(ce,de)=>ce?ue(ce):le(de))})}(ie).then(se=>ae.decodeGif(se))},d.shareAsJimp=function(ie,ae){const se=new ie(ae.bitmap.width,ae.bitmap.height,0);return se.bitmap.data=ae.bitmap.data,se},d.write=function(ie,ae,se,le){le=le||re;const ue=ie.match(/\.[a-zA-Z]+$/);if(ue!==null&&te.includes(ue[0].toLowerCase()))throw new Error(`GIF '${ie}' has an unexpected suffix`);return le.encodeGif(ae,se).then(ce=>function(de,he){return new Promise((pe,me)=>{m.writeFile(de,he,ge=>ge?me(ge):pe())})}(ie,ce.buffer).then(()=>ce))}}(gifutil)),gifutil}function requireGifcodec(){if(hasRequiredGifcodec)return gifcodec;hasRequiredGifcodec=1;const d=omggif,{Gif:m,GifError:g}=gif$1;function w(){const ae=requireGifutil();return w=function(){return ae},ae}const{GifFrame:D}=gifframe;function j(ae,se){const le=ae.indexOf(se);return le===-1?null:le}function q(ae,se){for(var le,ue=0,ce=ae.length-1;ue<=ce;)if(ae[le=Math.floor((ue+ce)/2)]>se)ce=le-1;else{if(!(ae[le]<se))return le;ue=le+1}return null}function te(ae){const se=ae.colors;ae.usesTransparency&&se.push(0);const le=se.length;let ue=2;for(;le>ue;)ue<<=1;se.length=ue,se.fill(0,le)}function re(ae,se){let le=ae.bitmap.width*ae.bitmap.height;return le=Math.ceil(le*se/8),le+=Math.ceil(le/255),100+le+768}function ne(ae){let se=ae.indexCount,le=0;for(--se;se;)++le,se>>=1;return le>0?le:1}function ie(ae,se,le,ue,ce){if(le.interlaced)throw new g("writing interlaced GIFs is not supported");const de=function(pe,me,ge){const be=ge.colors,ke=be.length<=8?j:q,ye=me.bitmap.data,Se=new Buffer(ye.length/4);let we=be.length,Te=0,_e=0;for(;Te<ye.length;){if(ye[Te+3]!==0){const Ie=ye.readUInt32BE(Te,!0)>>8&16777215;Se[_e]=ke(be,Ie)}else Se[_e]=we;Te+=4,++_e}if(ge.usesTransparency){if(we===256)throw new g(`Frame ${pe} already has 256 colorsand so can't use transparency`)}else we=null;return{buffer:Se,transparentIndex:we}}(se,le,ue),he={delay:le.delayCentisecs,disposal:le.disposalMethod,transparent:de.transparentIndex};ce&&(te(ue),he.palette=ue.colors);try{let pe,me=ae.getOutputBuffer(),ge=ae.getOutputBufferPosition(),be=!0;for(;be;)if(pe=ae.addFrame(le.xOffset,le.yOffset,le.bitmap.width,le.bitmap.height,de.buffer,he),be=!1,pe>=me.length-1){const ke=new Buffer(1.5*me.length);me.copy(ke),ae.setOutputBuffer(ke),ae.setOutputBufferPosition(ge),me=ke,be=!0}return me}catch(pe){throw new g(pe)}}return gifcodec.GifCodec=class{constructor(ae={}){this._transparentRGB=null,typeof ae.transparentRGB=="number"&&ae.transparentRGB!==0&&(this._transparentRGBA=256*ae.transparentRGB),this._testInitialBufferSize=0}decodeGif(ae){try{let se;try{se=new d.GifReader(ae)}catch(de){throw new g(de)}const le=se.numFrames(),ue=[],ce={width:se.width,height:se.height,loops:se.loopCount(),usesTransparency:!1};for(let de=0;de<le;++de){const he=this._decodeFrame(se,de,ce.usesTransparency);ue.push(he.frame),he.usesTransparency&&(ce.usesTransparency=!0)}return Promise.resolve(new m(ae,ue,ce))}catch(se){return Promise.reject(se)}}encodeGif(ae,se={}){try{if(ae===null||ae.length===0)throw new g("there are no frames");const le=w().getMaxDimensions(ae);return(se=Object.assign({},se)).width=le.maxWidth,se.height=le.maxHeight,se.loops===void 0&&(se.loops=0),se.colorScope=se.colorScope||m.GlobalColorsPreferred,Promise.resolve(this._encodeGif(ae,se))}catch(le){return Promise.reject(le)}}_decodeFrame(ae,se,le){let ue,ce;try{if(ue=ae.frameInfo(se),ce=new Buffer(ae.width*ae.height*4),ae.decodeAndBlitFrameRGBA(se,ce),ue.width!==ae.width||ue.height!==ae.height){if(ue.y&&(ce=ce.slice(ue.y*ae.width*4)),ae.width>ue.width)for(let he=0;he<ue.height;++he)ce.copy(ce,he*ue.width*4,4*(ue.x+he*ae.width),4*(ue.x+he*ae.width)+4*ue.width);ce=ce.slice(0,ue.width*ue.height*4)}}catch(he){throw new g(he)}let de=!1;if(this._transparentRGBA===null){if(!le)for(let he=3;he<ce.length;he+=4)ce[he]===0&&(de=!0,he=ce.length)}else for(let he=3;he<ce.length;he+=4)ce[he]===0&&(ce.writeUInt32BE(this._transparentRGBA,he-3),de=!0);return{frame:new D(ue.width,ue.height,ce,{xOffset:ue.x,yOffset:ue.y,disposalMethod:ue.disposal,interlaced:ue.interlaced,delayCentisecs:ue.delay}),usesTransparency:de}}_encodeGif(ae,se){let le;if(se.colorScope===m.LocalColorsOnly)le=w().getColorInfo(ae,0);else if(le=w().getColorInfo(ae,256),!le.colors){if(se.colorScope===m.GlobalColorsOnly)throw new g("Too many color indexes for global color table");se.colorScope=m.LocalColorsOnly}se.usesTransparency=le.usesTransparency;const ue=le.palettes;return se.colorScope===m.LocalColorsOnly?function(ce,de,he,pe){const me={loop:de.loops};let ge,be=new Buffer(he);try{ge=new d.GifWriter(be,de.width,de.height,me)}catch(ke){throw new g(ke)}for(let ke=0;ke<ce.length;++ke)be=ie(ge,ke,ce[ke],pe[ke],!0);return new m(be.slice(0,ge.end()),ce,de)}(ae,se,2e3,ue):function(ce,de,he,pe){const me={colors:pe.colors.slice(),usesTransparency:pe.usesTransparency};te(me);const ge={palette:me.colors,loop:de.loops};let be,ke=new Buffer(he);try{be=new d.GifWriter(ke,de.width,de.height,ge)}catch(ye){throw new g(ye)}for(let ye=0;ye<ce.length;++ye)ke=ie(be,ye,ce[ye],pe,!1);return new m(ke.slice(0,be.end()),ce,de)}(ae,se,2e3,le)}_getSizeEstimateGlobal(ae,se){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let le=968;const ue=ne(ae);return se.forEach(ce=>{le+=re(ce,ue)}),le}_getSizeEstimateLocal(ae,se){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let le=200;for(let ue=0;ue<se.length;++ue){const ce=ne(ae[ue]);le+=re(se[ue],ce)}return le}},gifcodec}GifFrame$1.DisposeToAnything=0,GifFrame$1.DisposeNothing=1,GifFrame$1.DisposeToBackgroundColor=2,GifFrame$1.DisposeToPrevious=3,gifframe.GifFrame=GifFrame$1;const BitmapImage=bitmapimage,{Gif,GifError:GifError$1}=gif$1,{GifCodec}=requireGifcodec(),{GifFrame}=gifframe,GifUtil=requireGifutil();var src={BitmapImage,Gif,GifCodec,GifFrame,GifUtil,GifError:GifError$1};function gif(){return{mime:"image/gif",encode:async d=>{const m=new src.BitmapImage(d);src.GifUtil.quantizeDekker(m,256);const g=new src.GifFrame(d);return(await new src.GifCodec().encodeGif([g],{})).buffer},decode:d=>{const m=new omggif.GifReader(d),g=Buffer.alloc(m.width*m.height*4);return m.decodeAndBlitFrameRGBA(0,g),{data:g,width:m.width,height:m.height}}}}var encoder={exports:{}};(function(d){function m(g){var w,D,j,q,te,re=Math.floor,ne=new Array(64),ie=new Array(64),ae=new Array(64),se=new Array(64),le=new Array(65535),ue=new Array(65535),ce=new Array(64),de=new Array(64),he=[],pe=0,me=7,ge=new Array(64),be=new Array(64),ke=new Array(64),ye=new Array(256),Se=new Array(2048),we=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Te=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_e=[0,1,2,3,4,5,6,7,8,9,10,11],Ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Le=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Be=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Me=[0,1,2,3,4,5,6,7,8,9,10,11],Ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ye=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ue(Je,Ge){for(var Qe=0,ut=0,dt=new Array,kt=1;kt<=16;kt++){for(var Xe=1;Xe<=Je[kt];Xe++)dt[Ge[ut]]=[],dt[Ge[ut]][0]=Qe,dt[Ge[ut]][1]=kt,ut++,Qe++;Qe*=2}return dt}function $e(Je){for(var Ge=Je[0],Qe=Je[1]-1;Qe>=0;)Ge&1<<Qe&&(pe|=1<<me),Qe--,--me<0&&(pe==255?(Ke(255),Ke(0)):Ke(pe),me=7,pe=0)}function Ke(Je){he.push(Je)}function Pe(Je){Ke(Je>>8&255),Ke(255&Je)}function He(Je,Ge,Qe,ut,dt){for(var kt,Xe=dt[0],xe=dt[240],qe=function(je,St){var Bt,tr,ir,Yt,ar,rr,gr,dr,hr,kr,fr=0;for(hr=0;hr<8;++hr){Bt=je[fr],tr=je[fr+1],ir=je[fr+2],Yt=je[fr+3],ar=je[fr+4],rr=je[fr+5],gr=je[fr+6];var ot=Bt+(dr=je[fr+7]),nr=Bt-dr,Tt=tr+gr,jt=tr-gr,We=ir+rr,er=ir-rr,br=Yt+ar,Ce=Yt-ar,Zt=ot+br,zt=ot-br,ft=Tt+We,$t=Tt-We;je[fr]=Zt+ft,je[fr+4]=Zt-ft;var Ut=.707106781*($t+zt);je[fr+2]=zt+Ut,je[fr+6]=zt-Ut;var _r=.382683433*((Zt=Ce+er)-($t=jt+nr)),cr=.5411961*Zt+_r,pr=1.306562965*$t+_r,Ir=.707106781*(ft=er+jt),Xr=nr+Ir,Cr=nr-Ir;je[fr+5]=Cr+cr,je[fr+3]=Cr-cr,je[fr+1]=Xr+pr,je[fr+7]=Xr-pr,fr+=8}for(fr=0,hr=0;hr<8;++hr){Bt=je[fr],tr=je[fr+8],ir=je[fr+16],Yt=je[fr+24],ar=je[fr+32],rr=je[fr+40],gr=je[fr+48];var zr=Bt+(dr=je[fr+56]),Br=Bt-dr,Fr=tr+gr,xn=tr-gr,Cn=ir+rr,Or=ir-rr,rn=Yt+ar,_n=Yt-ar,Zr=zr+rn,Wr=zr-rn,$r=Fr+Cn,Kn=Fr-Cn;je[fr]=Zr+$r,je[fr+32]=Zr-$r;var Yi=.707106781*(Kn+Wr);je[fr+16]=Wr+Yi,je[fr+48]=Wr-Yi;var Xi=.382683433*((Zr=_n+Or)-(Kn=xn+Br)),Ji=.5411961*Zr+Xi,ea=1.306562965*Kn+Xi,Na=.707106781*($r=Or+xn),za=Br+Na,jr=Br-Na;je[fr+40]=jr+Ji,je[fr+24]=jr-Ji,je[fr+8]=za+ea,je[fr+56]=za-ea,fr++}for(hr=0;hr<64;++hr)kr=je[hr]*St[hr],ce[hr]=kr>0?kr+.5|0:kr-.5|0;return ce}(Je,Ge),ze=0;ze<64;++ze)de[we[ze]]=qe[ze];var Oe=de[0]-Qe;Qe=de[0],Oe==0?$e(ut[0]):($e(ut[ue[kt=32767+Oe]]),$e(le[kt]));for(var Fe=63;Fe>0&&de[Fe]==0;Fe--);if(Fe==0)return $e(Xe),Qe;for(var Ze,et=1;et<=Fe;){for(var ve=et;de[et]==0&&et<=Fe;++et);var Ae=et-ve;if(Ae>=16){Ze=Ae>>4;for(var De=1;De<=Ze;++De)$e(xe);Ae&=15}kt=32767+de[et],$e(dt[(Ae<<4)+ue[kt]]),$e(le[kt]),et++}return Fe!=63&&$e(Xe),Qe}function it(Je){Je<=0&&(Je=1),Je>100&&(Je=100),te!=Je&&(function(Ge){for(var Qe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ut=0;ut<64;ut++){var dt=re((Qe[ut]*Ge+50)/100);dt<1?dt=1:dt>255&&(dt=255),ne[we[ut]]=dt}for(var kt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Xe=0;Xe<64;Xe++){var xe=re((kt[Xe]*Ge+50)/100);xe<1?xe=1:xe>255&&(xe=255),ie[we[Xe]]=xe}for(var qe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,Oe=0;Oe<8;Oe++)for(var Fe=0;Fe<8;Fe++)ae[ze]=1/(ne[we[ze]]*qe[Oe]*qe[Fe]*8),se[ze]=1/(ie[we[ze]]*qe[Oe]*qe[Fe]*8),ze++}(Je<50?Math.floor(5e3/Je):Math.floor(200-2*Je)),te=Je)}this.encode=function(Je,Ge){var Qe;new Date().getTime(),Ge&&it(Ge),he=new Array,pe=0,me=7,Pe(65496),Pe(65504),Pe(16),Ke(74),Ke(70),Ke(73),Ke(70),Ke(0),Ke(1),Ke(1),Ke(0),Pe(1),Pe(1),Ke(0),Ke(0),(Qe=Je.comments)!==void 0&&Qe.constructor===Array&&Qe.forEach(ir=>{if(typeof ir=="string"){Pe(65534);var Yt,ar=ir.length;for(Pe(ar+2),Yt=0;Yt<ar;Yt++)Ke(ir.charCodeAt(Yt))}}),function(ir){if(ir){Pe(65505),ir[0]===69&&ir[1]===120&&ir[2]===105&&ir[3]===102?Pe(ir.length+2):(Pe(ir.length+5+2),Ke(69),Ke(120),Ke(105),Ke(102),Ke(0));for(var Yt=0;Yt<ir.length;Yt++)Ke(ir[Yt])}}(Je.exifBuffer),function(){Pe(65499),Pe(132),Ke(0);for(var ir=0;ir<64;ir++)Ke(ne[ir]);Ke(1);for(var Yt=0;Yt<64;Yt++)Ke(ie[Yt])}(),function(ir,Yt){Pe(65472),Pe(17),Ke(8),Pe(Yt),Pe(ir),Ke(3),Ke(1),Ke(17),Ke(0),Ke(2),Ke(17),Ke(1),Ke(3),Ke(17),Ke(1)}(Je.width,Je.height),function(){Pe(65476),Pe(418),Ke(0);for(var ir=0;ir<16;ir++)Ke(Te[ir+1]);for(var Yt=0;Yt<=11;Yt++)Ke(_e[Yt]);Ke(16);for(var ar=0;ar<16;ar++)Ke(Ie[ar+1]);for(var rr=0;rr<=161;rr++)Ke(Le[rr]);Ke(1);for(var gr=0;gr<16;gr++)Ke(Be[gr+1]);for(var dr=0;dr<=11;dr++)Ke(Me[dr]);Ke(17);for(var hr=0;hr<16;hr++)Ke(Ne[hr+1]);for(var kr=0;kr<=161;kr++)Ke(Ye[kr])}(),Pe(65498),Pe(12),Ke(3),Ke(1),Ke(0),Ke(2),Ke(17),Ke(3),Ke(17),Ke(0),Ke(63),Ke(0);var ut=0,dt=0,kt=0;pe=0,me=7,this.encode.displayName="_encode_";for(var Xe,xe,qe,ze,Oe,Fe,Ze,et,ve,Ae=Je.data,De=Je.width,je=Je.height,St=4*De,Bt=0;Bt<je;){for(Xe=0;Xe<St;){for(Fe=Oe=St*Bt+Xe,Ze=-1,et=0,ve=0;ve<64;ve++)Fe=Oe+(et=ve>>3)*St+(Ze=4*(7&ve)),Bt+et>=je&&(Fe-=St*(Bt+1+et-je)),Xe+Ze>=St&&(Fe-=Xe+Ze-St+4),xe=Ae[Fe++],qe=Ae[Fe++],ze=Ae[Fe++],ge[ve]=(Se[xe]+Se[qe+256|0]+Se[ze+512|0]>>16)-128,be[ve]=(Se[xe+768|0]+Se[qe+1024|0]+Se[ze+1280|0]>>16)-128,ke[ve]=(Se[xe+1280|0]+Se[qe+1536|0]+Se[ze+1792|0]>>16)-128;ut=He(ge,ae,ut,w,j),dt=He(be,se,dt,D,q),kt=He(ke,se,kt,D,q),Xe+=32}Bt+=8}if(me>=0){var tr=[];tr[1]=me+1,tr[0]=(1<<me+1)-1,$e(tr)}return Pe(65497),Buffer.from(he)},new Date().getTime(),g||(g=50),function(){for(var Je=String.fromCharCode,Ge=0;Ge<256;Ge++)ye[Ge]=Je(Ge)}(),w=Ue(Te,_e),D=Ue(Be,Me),j=Ue(Ie,Le),q=Ue(Ne,Ye),function(){for(var Je=1,Ge=2,Qe=1;Qe<=15;Qe++){for(var ut=Je;ut<Ge;ut++)ue[32767+ut]=Qe,le[32767+ut]=[],le[32767+ut][1]=Qe,le[32767+ut][0]=ut;for(var dt=-(Ge-1);dt<=-Je;dt++)ue[32767+dt]=Qe,le[32767+dt]=[],le[32767+dt][1]=Qe,le[32767+dt][0]=Ge-1+dt;Je<<=1,Ge<<=1}}(),function(){for(var Je=0;Je<256;Je++)Se[Je]=19595*Je,Se[Je+256|0]=38470*Je,Se[Je+512|0]=7471*Je+32768,Se[Je+768|0]=-11059*Je,Se[Je+1024|0]=-21709*Je,Se[Je+1280|0]=32768*Je+8421375,Se[Je+1536|0]=-27439*Je,Se[Je+1792|0]=-5329*Je}(),it(g),new Date().getTime()}encoder.exports=function(g,w){w===void 0&&(w=50);var D=new m(w),j=D.encode(g,w);return{data:j,width:g.width,height:g.height}}})();var encoderExports=encoder.exports,decoder={exports:{}},module,JpegImage;module=decoder,JpegImage=function(){var d=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),m=4017,g=799,w=3406,D=2276,j=1567,q=3784,te=5793,re=2896;function ne(){}function ie(he,pe){for(var me,ge,be=0,ke=[],ye=16;ye>0&&!he[ye-1];)ye--;ke.push({children:[],index:0});var Se,we=ke[0];for(me=0;me<ye;me++){for(ge=0;ge<he[me];ge++){for((we=ke.pop()).children[we.index]=pe[be];we.index>0;){if(ke.length===0)throw new Error("Could not recreate Huffman Table");we=ke.pop()}for(we.index++,ke.push(we);ke.length<=me;)ke.push(Se={children:[],index:0}),we.children[we.index]=Se.children,we=Se;be++}me+1<ye&&(ke.push(Se={children:[],index:0}),we.children[we.index]=Se.children,we=Se)}return ke[0].children}function ae(he,pe,me,ge,be,ke,ye,Se,we,Te){me.precision,me.samplesPerLine,me.scanLines;var _e=me.mcusPerLine,Ie=me.progressive;me.maxH,me.maxV;var Le=pe,Be=0,Me=0;function Ne(){if(Me>0)return Me--,Be>>Me&1;if((Be=he[pe++])==255){var et=he[pe++];if(et)throw new Error("unexpected marker: "+(Be<<8|et).toString(16))}return Me=7,Be>>>7}function Ye(et){for(var ve,Ae=et;(ve=Ne())!==null;){if(typeof(Ae=Ae[ve])=="number")return Ae;if(typeof Ae!="object")throw new Error("invalid huffman sequence")}return null}function Ue(et){for(var ve=0;et>0;){var Ae=Ne();if(Ae===null)return;ve=ve<<1|Ae,et--}return ve}function $e(et){var ve=Ue(et);return ve>=1<<et-1?ve:ve+(-1<<et)+1}var Ke,Pe=0,He=0;function it(et,ve,Ae,De,je){var St=Ae%_e,Bt=(Ae/_e|0)*et.v+De,tr=St*et.h+je;et.blocks[Bt]===void 0&&Te.tolerantDecoding||ve(et,et.blocks[Bt][tr])}function Je(et,ve,Ae){var De=Ae/et.blocksPerLine|0,je=Ae%et.blocksPerLine;et.blocks[De]===void 0&&Te.tolerantDecoding||ve(et,et.blocks[De][je])}var Ge,Qe,ut,dt,kt,Xe,xe=ge.length;Xe=Ie?ke===0?Se===0?function(et,ve){var Ae=Ye(et.huffmanTableDC),De=Ae===0?0:$e(Ae)<<we;ve[0]=et.pred+=De}:function(et,ve){ve[0]|=Ne()<<we}:Se===0?function(et,ve){if(Pe>0)Pe--;else for(var Ae=ke,De=ye;Ae<=De;){var je=Ye(et.huffmanTableAC),St=15&je,Bt=je>>4;if(St!==0)ve[d[Ae+=Bt]]=$e(St)*(1<<we),Ae++;else{if(Bt<15){Pe=Ue(Bt)+(1<<Bt)-1;break}Ae+=16}}}:function(et,ve){for(var Ae=ke,De=ye,je=0;Ae<=De;){var St=d[Ae],Bt=ve[St]<0?-1:1;switch(He){case 0:var tr=Ye(et.huffmanTableAC),ir=15&tr;if(je=tr>>4,ir===0)je<15?(Pe=Ue(je)+(1<<je),He=4):(je=16,He=1);else{if(ir!==1)throw new Error("invalid ACn encoding");Ke=$e(ir),He=je?2:3}continue;case 1:case 2:ve[St]?ve[St]+=(Ne()<<we)*Bt:--je==0&&(He=He==2?3:0);break;case 3:ve[St]?ve[St]+=(Ne()<<we)*Bt:(ve[St]=Ke<<we,He=0);break;case 4:ve[St]&&(ve[St]+=(Ne()<<we)*Bt)}Ae++}He===4&&--Pe==0&&(He=0)}:function(et,ve){var Ae=Ye(et.huffmanTableDC),De=Ae===0?0:$e(Ae);ve[0]=et.pred+=De;for(var je=1;je<64;){var St=Ye(et.huffmanTableAC),Bt=15&St,tr=St>>4;if(Bt!==0)ve[d[je+=tr]]=$e(Bt),je++;else{if(tr<15)break;je+=16}}};var qe,ze,Oe,Fe,Ze=0;for(ze=xe==1?ge[0].blocksPerLine*ge[0].blocksPerColumn:_e*me.mcusPerColumn,be||(be=ze);Ze<ze;){for(Qe=0;Qe<xe;Qe++)ge[Qe].pred=0;if(Pe=0,xe==1)for(Ge=ge[0],kt=0;kt<be;kt++)Je(Ge,Xe,Ze),Ze++;else for(kt=0;kt<be;kt++){for(Qe=0;Qe<xe;Qe++)for(Oe=(Ge=ge[Qe]).h,Fe=Ge.v,ut=0;ut<Fe;ut++)for(dt=0;dt<Oe;dt++)it(Ge,Xe,Ze,ut,dt);if(++Ze===ze)break}if(Ze===ze)do{if(he[pe]===255&&he[pe+1]!==0)break;pe+=1}while(pe<he.length-2);if(Me=0,(qe=he[pe]<<8|he[pe+1])<65280)throw new Error("marker was not found");if(!(qe>=65488&&qe<=65495))break;pe+=2}return pe-Le}function se(he,pe){var me,ge,be=[],ke=pe.blocksPerLine,ye=pe.blocksPerColumn,Se=ke<<3,we=new Int32Array(64),Te=new Uint8Array(64);function _e(Ue,$e,Ke){var Pe,He,it,Je,Ge,Qe,ut,dt,kt,Xe,xe=pe.quantizationTable,qe=Ke;for(Xe=0;Xe<64;Xe++)qe[Xe]=Ue[Xe]*xe[Xe];for(Xe=0;Xe<8;++Xe){var ze=8*Xe;qe[1+ze]!=0||qe[2+ze]!=0||qe[3+ze]!=0||qe[4+ze]!=0||qe[5+ze]!=0||qe[6+ze]!=0||qe[7+ze]!=0?(Pe=te*qe[0+ze]+128>>8,He=te*qe[4+ze]+128>>8,it=qe[2+ze],Je=qe[6+ze],Ge=re*(qe[1+ze]-qe[7+ze])+128>>8,dt=re*(qe[1+ze]+qe[7+ze])+128>>8,Qe=qe[3+ze]<<4,ut=qe[5+ze]<<4,kt=Pe-He+1>>1,Pe=Pe+He+1>>1,He=kt,kt=it*q+Je*j+128>>8,it=it*j-Je*q+128>>8,Je=kt,kt=Ge-ut+1>>1,Ge=Ge+ut+1>>1,ut=kt,kt=dt+Qe+1>>1,Qe=dt-Qe+1>>1,dt=kt,kt=Pe-Je+1>>1,Pe=Pe+Je+1>>1,Je=kt,kt=He-it+1>>1,He=He+it+1>>1,it=kt,kt=Ge*D+dt*w+2048>>12,Ge=Ge*w-dt*D+2048>>12,dt=kt,kt=Qe*g+ut*m+2048>>12,Qe=Qe*m-ut*g+2048>>12,ut=kt,qe[0+ze]=Pe+dt,qe[7+ze]=Pe-dt,qe[1+ze]=He+ut,qe[6+ze]=He-ut,qe[2+ze]=it+Qe,qe[5+ze]=it-Qe,qe[3+ze]=Je+Ge,qe[4+ze]=Je-Ge):(kt=te*qe[0+ze]+512>>10,qe[0+ze]=kt,qe[1+ze]=kt,qe[2+ze]=kt,qe[3+ze]=kt,qe[4+ze]=kt,qe[5+ze]=kt,qe[6+ze]=kt,qe[7+ze]=kt)}for(Xe=0;Xe<8;++Xe){var Oe=Xe;qe[8+Oe]!=0||qe[16+Oe]!=0||qe[24+Oe]!=0||qe[32+Oe]!=0||qe[40+Oe]!=0||qe[48+Oe]!=0||qe[56+Oe]!=0?(Pe=te*qe[0+Oe]+2048>>12,He=te*qe[32+Oe]+2048>>12,it=qe[16+Oe],Je=qe[48+Oe],Ge=re*(qe[8+Oe]-qe[56+Oe])+2048>>12,dt=re*(qe[8+Oe]+qe[56+Oe])+2048>>12,Qe=qe[24+Oe],ut=qe[40+Oe],kt=Pe-He+1>>1,Pe=Pe+He+1>>1,He=kt,kt=it*q+Je*j+2048>>12,it=it*j-Je*q+2048>>12,Je=kt,kt=Ge-ut+1>>1,Ge=Ge+ut+1>>1,ut=kt,kt=dt+Qe+1>>1,Qe=dt-Qe+1>>1,dt=kt,kt=Pe-Je+1>>1,Pe=Pe+Je+1>>1,Je=kt,kt=He-it+1>>1,He=He+it+1>>1,it=kt,kt=Ge*D+dt*w+2048>>12,Ge=Ge*w-dt*D+2048>>12,dt=kt,kt=Qe*g+ut*m+2048>>12,Qe=Qe*m-ut*g+2048>>12,ut=kt,qe[0+Oe]=Pe+dt,qe[56+Oe]=Pe-dt,qe[8+Oe]=He+ut,qe[48+Oe]=He-ut,qe[16+Oe]=it+Qe,qe[40+Oe]=it-Qe,qe[24+Oe]=Je+Ge,qe[32+Oe]=Je-Ge):(kt=te*Ke[Xe+0]+8192>>14,qe[0+Oe]=kt,qe[8+Oe]=kt,qe[16+Oe]=kt,qe[24+Oe]=kt,qe[32+Oe]=kt,qe[40+Oe]=kt,qe[48+Oe]=kt,qe[56+Oe]=kt)}for(Xe=0;Xe<64;++Xe){var Fe=128+(qe[Xe]+8>>4);$e[Xe]=Fe<0?0:Fe>255?255:Fe}}de(Se*ye*8);for(var Ie=0;Ie<ye;Ie++){var Le=Ie<<3;for(me=0;me<8;me++)be.push(new Uint8Array(Se));for(var Be=0;Be<ke;Be++){_e(pe.blocks[Ie][Be],Te,we);var Me=0,Ne=Be<<3;for(ge=0;ge<8;ge++){var Ye=be[Le+ge];for(me=0;me<8;me++)Ye[Ne+me]=Te[Me++]}}}return be}function le(he){return he<0?0:he>255?255:he}ne.prototype={load:function(he){var pe=new XMLHttpRequest;pe.open("GET",he,!0),pe.responseType="arraybuffer",pe.onload=(function(){var me=new Uint8Array(pe.response||pe.mozResponseArrayBuffer);this.parse(me),this.onload&&this.onload()}).bind(this),pe.send(null)},parse:function(he){var pe=1e3*this.opts.maxResolutionInMP*1e3,me=0;function ge(){var Yt=he[me]<<8|he[me+1];return me+=2,Yt}function be(Yt){var ar,rr,gr=1,dr=1;for(rr in Yt.components)Yt.components.hasOwnProperty(rr)&&(gr<(ar=Yt.components[rr]).h&&(gr=ar.h),dr<ar.v&&(dr=ar.v));var hr=Math.ceil(Yt.samplesPerLine/8/gr),kr=Math.ceil(Yt.scanLines/8/dr);for(rr in Yt.components)if(Yt.components.hasOwnProperty(rr)){ar=Yt.components[rr];var fr=Math.ceil(Math.ceil(Yt.samplesPerLine/8)*ar.h/gr),ot=Math.ceil(Math.ceil(Yt.scanLines/8)*ar.v/dr),nr=hr*ar.h,Tt=kr*ar.v,jt=[];de(Tt*nr*256);for(var We=0;We<Tt;We++){for(var er=[],br=0;br<nr;br++)er.push(new Int32Array(64));jt.push(er)}ar.blocksPerLine=fr,ar.blocksPerColumn=ot,ar.blocks=jt}Yt.maxH=gr,Yt.maxV=dr,Yt.mcusPerLine=hr,Yt.mcusPerColumn=kr}he.length;var ke,ye,Se,we,Te=null,_e=null,Ie=[],Le=[],Be=[],Me=[],Ne=ge(),Ye=-1;if(this.comments=[],Ne!=65496)throw new Error("SOI not found");for(Ne=ge();Ne!=65497;){switch(Ne){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Ue=(Se=void 0,we=void 0,Se=ge(),we=he.subarray(me,me+Se-2),me+=we.length,we);if(Ne===65534){var $e=String.fromCharCode.apply(null,Ue);this.comments.push($e)}Ne===65504&&Ue[0]===74&&Ue[1]===70&&Ue[2]===73&&Ue[3]===70&&Ue[4]===0&&(Te={version:{major:Ue[5],minor:Ue[6]},densityUnits:Ue[7],xDensity:Ue[8]<<8|Ue[9],yDensity:Ue[10]<<8|Ue[11],thumbWidth:Ue[12],thumbHeight:Ue[13],thumbData:Ue.subarray(14,14+3*Ue[12]*Ue[13])}),Ne===65505&&Ue[0]===69&&Ue[1]===120&&Ue[2]===105&&Ue[3]===102&&Ue[4]===0&&(this.exifBuffer=Ue.subarray(5,Ue.length)),Ne===65518&&Ue[0]===65&&Ue[1]===100&&Ue[2]===111&&Ue[3]===98&&Ue[4]===101&&Ue[5]===0&&(_e={version:Ue[6],flags0:Ue[7]<<8|Ue[8],flags1:Ue[9]<<8|Ue[10],transformCode:Ue[11]});break;case 65499:for(var Ke=ge()+me-2;me<Ke;){var Pe=he[me++];de(256);var He=new Int32Array(64);if(Pe>>4){if(Pe>>4!=1)throw new Error("DQT: invalid table spec");for(tr=0;tr<64;tr++)He[d[tr]]=ge()}else for(tr=0;tr<64;tr++)He[d[tr]]=he[me++];Ie[15&Pe]=He}break;case 65472:case 65473:case 65474:ge(),(ke={}).extended=Ne===65473,ke.progressive=Ne===65474,ke.precision=he[me++],ke.scanLines=ge(),ke.samplesPerLine=ge(),ke.components={},ke.componentsOrder=[];var it=ke.scanLines*ke.samplesPerLine;if(it>pe){var Je=Math.ceil((it-pe)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${Je}MP`)}var Ge,Qe=he[me++];for(St=0;St<Qe;St++){Ge=he[me];var ut=he[me+1]>>4,dt=15&he[me+1],kt=he[me+2];if(ut<=0||dt<=0)throw new Error("Invalid sampling factor, expected values above 0");ke.componentsOrder.push(Ge),ke.components[Ge]={h:ut,v:dt,quantizationIdx:kt},me+=3}be(ke),Le.push(ke);break;case 65476:var Xe=ge();for(St=2;St<Xe;){var xe=he[me++],qe=new Uint8Array(16),ze=0;for(tr=0;tr<16;tr++,me++)ze+=qe[tr]=he[me];de(16+ze);var Oe=new Uint8Array(ze);for(tr=0;tr<ze;tr++,me++)Oe[tr]=he[me];St+=17+ze,(xe>>4?Be:Me)[15&xe]=ie(qe,Oe)}break;case 65501:ge(),ye=ge();break;case 65500:ge(),ge();break;case 65498:ge();var Fe=he[me++],Ze=[];for(St=0;St<Fe;St++){ir=ke.components[he[me++]];var et=he[me++];ir.huffmanTableDC=Me[et>>4],ir.huffmanTableAC=Be[15&et],Ze.push(ir)}var ve=he[me++],Ae=he[me++],De=he[me++],je=ae(he,me,ke,Ze,ye,ve,Ae,De>>4,15&De,this.opts);me+=je;break;case 65535:he[me]!==255&&me--;break;default:if(he[me-3]==255&&he[me-2]>=192&&he[me-2]<=254){me-=3;break}if(Ne===224||Ne==225){if(Ye!==-1)throw new Error(`first unknown JPEG marker at offset ${Ye.toString(16)}, second unknown JPEG marker ${Ne.toString(16)} at offset ${(me-1).toString(16)}`);Ye=me-1;const Yt=ge();if(he[me+Yt-2]===255){me+=Yt-2;break}}throw new Error("unknown JPEG marker "+Ne.toString(16))}Ne=ge()}if(Le.length!=1)throw new Error("only single frame JPEGs supported");for(var St=0;St<Le.length;St++){var Bt=Le[St].components;for(var tr in Bt)Bt[tr].quantizationTable=Ie[Bt[tr].quantizationIdx],delete Bt[tr].quantizationIdx}for(this.width=ke.samplesPerLine,this.height=ke.scanLines,this.jfif=Te,this.adobe=_e,this.components=[],St=0;St<ke.componentsOrder.length;St++){var ir=ke.components[ke.componentsOrder[St]];this.components.push({lines:se(0,ir),scaleX:ir.h/ke.maxH,scaleY:ir.v/ke.maxV})}},getData:function(he,pe){var me,ge,be,ke,ye,Se,we,Te,_e,Ie,Le,Be,Me,Ne,Ye,Ue,$e,Ke,Pe,He,it,Je=this.width/he,Ge=this.height/pe,Qe=0,ut=he*pe*this.components.length;de(ut);var dt=new Uint8Array(ut);switch(this.components.length){case 1:for(me=this.components[0],Ie=0;Ie<pe;Ie++)for(ye=me.lines[0|Ie*me.scaleY*Ge],_e=0;_e<he;_e++)Le=ye[0|_e*me.scaleX*Je],dt[Qe++]=Le;break;case 2:for(me=this.components[0],ge=this.components[1],Ie=0;Ie<pe;Ie++)for(ye=me.lines[0|Ie*me.scaleY*Ge],Se=ge.lines[0|Ie*ge.scaleY*Ge],_e=0;_e<he;_e++)Le=ye[0|_e*me.scaleX*Je],dt[Qe++]=Le,Le=Se[0|_e*ge.scaleX*Je],dt[Qe++]=Le;break;case 3:for(it=!0,this.adobe&&this.adobe.transformCode?it=!0:this.opts.colorTransform!==void 0&&(it=!!this.opts.colorTransform),me=this.components[0],ge=this.components[1],be=this.components[2],Ie=0;Ie<pe;Ie++)for(ye=me.lines[0|Ie*me.scaleY*Ge],Se=ge.lines[0|Ie*ge.scaleY*Ge],we=be.lines[0|Ie*be.scaleY*Ge],_e=0;_e<he;_e++)it?(Le=ye[0|_e*me.scaleX*Je],Be=Se[0|_e*ge.scaleX*Je],Ke=le(Le+1.402*((Me=we[0|_e*be.scaleX*Je])-128)),Pe=le(Le-.3441363*(Be-128)-.71413636*(Me-128)),He=le(Le+1.772*(Be-128))):(Ke=ye[0|_e*me.scaleX*Je],Pe=Se[0|_e*ge.scaleX*Je],He=we[0|_e*be.scaleX*Je]),dt[Qe++]=Ke,dt[Qe++]=Pe,dt[Qe++]=He;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(it=!1,this.adobe&&this.adobe.transformCode?it=!0:this.opts.colorTransform!==void 0&&(it=!!this.opts.colorTransform),me=this.components[0],ge=this.components[1],be=this.components[2],ke=this.components[3],Ie=0;Ie<pe;Ie++)for(ye=me.lines[0|Ie*me.scaleY*Ge],Se=ge.lines[0|Ie*ge.scaleY*Ge],we=be.lines[0|Ie*be.scaleY*Ge],Te=ke.lines[0|Ie*ke.scaleY*Ge],_e=0;_e<he;_e++)it?(Le=ye[0|_e*me.scaleX*Je],Be=Se[0|_e*ge.scaleX*Je],Me=we[0|_e*be.scaleX*Je],Ne=Te[0|_e*ke.scaleX*Je],Ye=255-le(Le+1.402*(Me-128)),Ue=255-le(Le-.3441363*(Be-128)-.71413636*(Me-128)),$e=255-le(Le+1.772*(Be-128))):(Ye=ye[0|_e*me.scaleX*Je],Ue=Se[0|_e*ge.scaleX*Je],$e=we[0|_e*be.scaleX*Je],Ne=Te[0|_e*ke.scaleX*Je]),dt[Qe++]=255-Ye,dt[Qe++]=255-Ue,dt[Qe++]=255-$e,dt[Qe++]=255-Ne;break;default:throw new Error("Unsupported color mode")}return dt},copyToImageData:function(he,pe){var me,ge,be,ke,ye,Se,we,Te,_e,Ie=he.width,Le=he.height,Be=he.data,Me=this.getData(Ie,Le),Ne=0,Ye=0;switch(this.components.length){case 1:for(ge=0;ge<Le;ge++)for(me=0;me<Ie;me++)be=Me[Ne++],Be[Ye++]=be,Be[Ye++]=be,Be[Ye++]=be,pe&&(Be[Ye++]=255);break;case 3:for(ge=0;ge<Le;ge++)for(me=0;me<Ie;me++)we=Me[Ne++],Te=Me[Ne++],_e=Me[Ne++],Be[Ye++]=we,Be[Ye++]=Te,Be[Ye++]=_e,pe&&(Be[Ye++]=255);break;case 4:for(ge=0;ge<Le;ge++)for(me=0;me<Ie;me++)ye=Me[Ne++],Se=Me[Ne++],be=Me[Ne++],we=255-le(ye*(1-(ke=Me[Ne++])/255)+ke),Te=255-le(Se*(1-ke/255)+ke),_e=255-le(be*(1-ke/255)+ke),Be[Ye++]=we,Be[Ye++]=Te,Be[Ye++]=_e,pe&&(Be[Ye++]=255);break;default:throw new Error("Unsupported color mode")}}};var ue=0,ce=0;function de(he=0){var pe=ue+he;if(pe>ce){var me=Math.ceil((pe-ce)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${me}MB`)}ue=pe}return ne.resetMaxMemoryUsage=function(he){ue=0,ce=he},ne.getBytesAllocated=function(){return ue},ne.requestMemoryAllocation=de,ne}(),module.exports=function(d,m={}){var g={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...m},w=new Uint8Array(d),D=new JpegImage;D.opts=g,JpegImage.resetMaxMemoryUsage(1024*g.maxMemoryUsageInMB*1024),D.parse(w);var j=g.formatAsRGBA?4:3,q=D.width*D.height*j;try{JpegImage.requestMemoryAllocation(q);var te={width:D.width,height:D.height,exifBuffer:D.exifBuffer,data:g.useTArray?new Uint8Array(q):Buffer.alloc(q)};D.comments.length>0&&(te.comments=D.comments)}catch(re){throw re instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+q):re instanceof ReferenceError&&re.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):re}return D.copyToImageData(te,g.formatAsRGBA),te};var decoderExports=decoder.exports,encode=encoderExports,decode=decoderExports,jpegJs={encode,decode},JPEG=getDefaultExportFromCjs(jpegJs);function jpeg$2(){return{mime:"image/jpeg",encode:(d,{quality:m=100}={})=>JPEG.encode(d,m).data,decode:(d,m)=>JPEG.decode(d,m)}}function commonjsRequire(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var browser$1={exports:{}};browser$1.exports=function(){function d(m,g,w){function D(te,re){if(!g[te]){if(!m[te]){var ne=typeof commonjsRequire=="function"&&commonjsRequire;if(!re&&ne)return ne(te,!0);if(j)return j(te,!0);var ie=new Error("Cannot find module '"+te+"'");throw ie.code="MODULE_NOT_FOUND",ie}var ae=g[te]={exports:{}};m[te][0].call(ae.exports,function(se){return D(m[te][1][se]||se)},ae,ae.exports,d,m,g,w)}return g[te].exports}for(var j=typeof commonjsRequire=="function"&&commonjsRequire,q=0;q<w.length;q++)D(w[q]);return D}return d}()({1:[function(d,m,g){(function(w){(function(){let D=d("./interlace"),j=[function(){},function(ie,ae,se,le){if(le===ae.length)throw new Error("Ran out of data");let ue=ae[le];ie[se]=ue,ie[se+1]=ue,ie[se+2]=ue,ie[se+3]=255},function(ie,ae,se,le){if(le+1>=ae.length)throw new Error("Ran out of data");let ue=ae[le];ie[se]=ue,ie[se+1]=ue,ie[se+2]=ue,ie[se+3]=ae[le+1]},function(ie,ae,se,le){if(le+2>=ae.length)throw new Error("Ran out of data");ie[se]=ae[le],ie[se+1]=ae[le+1],ie[se+2]=ae[le+2],ie[se+3]=255},function(ie,ae,se,le){if(le+3>=ae.length)throw new Error("Ran out of data");ie[se]=ae[le],ie[se+1]=ae[le+1],ie[se+2]=ae[le+2],ie[se+3]=ae[le+3]}],q=[function(){},function(ie,ae,se,le){let ue=ae[0];ie[se]=ue,ie[se+1]=ue,ie[se+2]=ue,ie[se+3]=le},function(ie,ae,se){let le=ae[0];ie[se]=le,ie[se+1]=le,ie[se+2]=le,ie[se+3]=ae[1]},function(ie,ae,se,le){ie[se]=ae[0],ie[se+1]=ae[1],ie[se+2]=ae[2],ie[se+3]=le},function(ie,ae,se){ie[se]=ae[0],ie[se+1]=ae[1],ie[se+2]=ae[2],ie[se+3]=ae[3]}];function te(ie,ae){let se=[],le=0;function ue(){if(le===ie.length)throw new Error("Ran out of data");let ce,de,he,pe,me,ge,be,ke,ye=ie[le];switch(le++,ae){default:throw new Error("unrecognised depth");case 16:be=ie[le],le++,se.push((ye<<8)+be);break;case 4:be=15&ye,ke=ye>>4,se.push(ke,be);break;case 2:me=3&ye,ge=ye>>2&3,be=ye>>4&3,ke=ye>>6&3,se.push(ke,be,ge,me);break;case 1:ce=1&ye,de=ye>>1&1,he=ye>>2&1,pe=ye>>3&1,me=ye>>4&1,ge=ye>>5&1,be=ye>>6&1,ke=ye>>7&1,se.push(ke,be,ge,me,pe,he,de,ce)}}return{get:function(ce){for(;se.length<ce;)ue();let de=se.slice(0,ce);return se=se.slice(ce),de},resetAfterLine:function(){se.length=0},end:function(){if(le!==ie.length)throw new Error("extra data found")}}}function re(ie,ae,se,le,ue,ce){let de=ie.width,he=ie.height,pe=ie.index;for(let me=0;me<he;me++)for(let ge=0;ge<de;ge++){let be=se(ge,me,pe);j[le](ae,ue,be,ce),ce+=le}return ce}function ne(ie,ae,se,le,ue,ce){let de=ie.width,he=ie.height,pe=ie.index;for(let me=0;me<he;me++){for(let ge=0;ge<de;ge++){let be=ue.get(le),ke=se(ge,me,pe);q[le](ae,be,ke,ce)}ue.resetAfterLine()}}g.dataToBitMap=function(ie,ae){let se,le,ue=ae.width,ce=ae.height,de=ae.depth,he=ae.bpp,pe=ae.interlace;de!==8&&(se=te(ie,de)),le=de<=8?w.alloc(ue*ce*4):new Uint16Array(ue*ce*4);let me,ge,be=Math.pow(2,de)-1,ke=0;if(pe)me=D.getImagePasses(ue,ce),ge=D.getInterlaceIterator(ue,ce);else{let ye=0;ge=function(){let Se=ye;return ye+=4,Se},me=[{width:ue,height:ce}]}for(let ye=0;ye<me.length;ye++)de===8?ke=re(me[ye],le,ge,he,ie,ke):ne(me[ye],le,ge,he,se,be);if(de===8){if(ke!==ie.length)throw new Error("extra data found")}else se.end();return le}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(d,m,g){(function(w){(function(){let D=d("./constants");m.exports=function(j,q,te,re){let ne=[D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(re.colorType)!==-1;if(re.colorType===re.inputColorType){let me=function(){let ge=new ArrayBuffer(2);return new DataView(ge).setInt16(0,256,!0),new Int16Array(ge)[0]!==256}();if(re.bitDepth===8||re.bitDepth===16&&me)return j}let ie=re.bitDepth!==16?j:new Uint16Array(j.buffer),ae=255,se=D.COLORTYPE_TO_BPP_MAP[re.inputColorType];se!==4||re.inputHasAlpha||(se=3);let le=D.COLORTYPE_TO_BPP_MAP[re.colorType];re.bitDepth===16&&(ae=65535,le*=2);let ue=w.alloc(q*te*le),ce=0,de=0,he=re.bgColor||{};function pe(){let me,ge,be,ke=ae;switch(re.inputColorType){case D.COLORTYPE_COLOR_ALPHA:ke=ie[ce+3],me=ie[ce],ge=ie[ce+1],be=ie[ce+2];break;case D.COLORTYPE_COLOR:me=ie[ce],ge=ie[ce+1],be=ie[ce+2];break;case D.COLORTYPE_ALPHA:ke=ie[ce+1],me=ie[ce],ge=me,be=me;break;case D.COLORTYPE_GRAYSCALE:me=ie[ce],ge=me,be=me;break;default:throw new Error("input color type:"+re.inputColorType+" is not supported at present")}return re.inputHasAlpha&&(ne||(ke/=ae,me=Math.min(Math.max(Math.round((1-ke)*he.red+ke*me),0),ae),ge=Math.min(Math.max(Math.round((1-ke)*he.green+ke*ge),0),ae),be=Math.min(Math.max(Math.round((1-ke)*he.blue+ke*be),0),ae))),{red:me,green:ge,blue:be,alpha:ke}}he.red===void 0&&(he.red=ae),he.green===void 0&&(he.green=ae),he.blue===void 0&&(he.blue=ae);for(let me=0;me<te;me++)for(let ge=0;ge<q;ge++){let be=pe();switch(re.colorType){case D.COLORTYPE_COLOR_ALPHA:case D.COLORTYPE_COLOR:re.bitDepth===8?(ue[de]=be.red,ue[de+1]=be.green,ue[de+2]=be.blue,ne&&(ue[de+3]=be.alpha)):(ue.writeUInt16BE(be.red,de),ue.writeUInt16BE(be.green,de+2),ue.writeUInt16BE(be.blue,de+4),ne&&ue.writeUInt16BE(be.alpha,de+6));break;case D.COLORTYPE_ALPHA:case D.COLORTYPE_GRAYSCALE:{let ke=(be.red+be.green+be.blue)/3;re.bitDepth===8?(ue[de]=ke,ne&&(ue[de+1]=be.alpha)):(ue.writeUInt16BE(ke,de),ne&&ue.writeUInt16BE(be.alpha,de+2));break}default:throw new Error("unrecognised color Type "+re.colorType)}ce+=se,de+=le}return ue}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(d,m,g){(function(w,D){(function(){let j=d("util"),q=d("stream"),te=m.exports=function(){q.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};j.inherits(te,q),te.prototype.read=function(re,ne){this._reads.push({length:Math.abs(re),allowLess:re<0,func:ne}),w.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},te.prototype.write=function(re,ne){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let ie;return ie=D.isBuffer(re)?re:D.from(re,ne||this._encoding),this._buffers.push(ie),this._buffered+=ie.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},te.prototype.end=function(re,ne){re&&this.write(re,ne),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},te.prototype.destroySoon=te.prototype.end,te.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},te.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},te.prototype._processReadAllowingLess=function(re){this._reads.shift();let ne=this._buffers[0];ne.length>re.length?(this._buffered-=re.length,this._buffers[0]=ne.slice(re.length),re.func.call(this,ne.slice(0,re.length))):(this._buffered-=ne.length,this._buffers.shift(),re.func.call(this,ne))},te.prototype._processRead=function(re){this._reads.shift();let ne=0,ie=0,ae=D.alloc(re.length);for(;ne<re.length;){let se=this._buffers[ie++],le=Math.min(se.length,re.length-ne);se.copy(ae,ne,0,le),ne+=le,le!==se.length&&(this._buffers[--ie]=se.slice(le))}ie>0&&this._buffers.splice(0,ie),this._buffered-=re.length,re.func.call(this,ae)},te.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let re=this._reads[0];if(re.allowLess)this._processReadAllowingLess(re);else{if(!(this._buffered>=re.length))break;this._processRead(re)}}this._buffers&&!this.writable&&this._end()}catch(re){this.emit("error",re)}}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(d,m,g){m.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(d,m,g){let w=[];(function(){for(let j=0;j<256;j++){let q=j;for(let te=0;te<8;te++)1&q?q=3988292384^q>>>1:q>>>=1;w[j]=q}})();let D=m.exports=function(){this._crc=-1};D.prototype.write=function(j){for(let q=0;q<j.length;q++)this._crc=w[255&(this._crc^j[q])]^this._crc>>>8;return!0},D.prototype.crc32=function(){return~this._crc},D.crc32=function(j){let q=-1;for(let te=0;te<j.length;te++)q=w[255&(q^j[te])]^q>>>8;return~q}},{}],6:[function(d,m,g){(function(w){(function(){let D=d("./paeth-predictor");function j(he,pe,me,ge,be){for(let ke=0;ke<me;ke++)ge[be+ke]=he[pe+ke]}function q(he,pe,me){let ge=0,be=pe+me;for(let ke=pe;ke<be;ke++)ge+=Math.abs(he[ke]);return ge}function te(he,pe,me,ge,be,ke){for(let ye=0;ye<me;ye++){let Se=ye>=ke?he[pe+ye-ke]:0,we=he[pe+ye]-Se;ge[be+ye]=we}}function re(he,pe,me,ge){let be=0;for(let ke=0;ke<me;ke++){let ye=ke>=ge?he[pe+ke-ge]:0,Se=he[pe+ke]-ye;be+=Math.abs(Se)}return be}function ne(he,pe,me,ge,be){for(let ke=0;ke<me;ke++){let ye=pe>0?he[pe+ke-me]:0,Se=he[pe+ke]-ye;ge[be+ke]=Se}}function ie(he,pe,me){let ge=0,be=pe+me;for(let ke=pe;ke<be;ke++){let ye=pe>0?he[ke-me]:0,Se=he[ke]-ye;ge+=Math.abs(Se)}return ge}function ae(he,pe,me,ge,be,ke){for(let ye=0;ye<me;ye++){let Se=ye>=ke?he[pe+ye-ke]:0,we=pe>0?he[pe+ye-me]:0,Te=he[pe+ye]-(Se+we>>1);ge[be+ye]=Te}}function se(he,pe,me,ge){let be=0;for(let ke=0;ke<me;ke++){let ye=ke>=ge?he[pe+ke-ge]:0,Se=pe>0?he[pe+ke-me]:0,we=he[pe+ke]-(ye+Se>>1);be+=Math.abs(we)}return be}function le(he,pe,me,ge,be,ke){for(let ye=0;ye<me;ye++){let Se=ye>=ke?he[pe+ye-ke]:0,we=pe>0?he[pe+ye-me]:0,Te=pe>0&&ye>=ke?he[pe+ye-(me+ke)]:0,_e=he[pe+ye]-D(Se,we,Te);ge[be+ye]=_e}}function ue(he,pe,me,ge){let be=0;for(let ke=0;ke<me;ke++){let ye=ke>=ge?he[pe+ke-ge]:0,Se=pe>0?he[pe+ke-me]:0,we=pe>0&&ke>=ge?he[pe+ke-(me+ge)]:0,Te=he[pe+ke]-D(ye,Se,we);be+=Math.abs(Te)}return be}let ce={0:j,1:te,2:ne,3:ae,4:le},de={0:q,1:re,2:ie,3:se,4:ue};m.exports=function(he,pe,me,ge,be){let ke;if("filterType"in ge&&ge.filterType!==-1){if(typeof ge.filterType!="number")throw new Error("unrecognised filter types");ke=[ge.filterType]}else ke=[0,1,2,3,4];ge.bitDepth===16&&(be*=2);let ye=pe*be,Se=0,we=0,Te=w.alloc((ye+1)*me),_e=ke[0];for(let Ie=0;Ie<me;Ie++){if(ke.length>1){let Le=1/0;for(let Be=0;Be<ke.length;Be++){let Me=de[ke[Be]](he,we,ye,be);Me<Le&&(_e=ke[Be],Le=Me)}}Te[Se]=_e,Se++,ce[_e](he,we,ye,Te,Se,be),Se+=ye,we+=ye}return Te}}).call(this)}).call(this,d("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(d,m,g){(function(w){(function(){let D=d("util"),j=d("./chunkstream"),q=d("./filter-parse"),te=m.exports=function(re){j.call(this);let ne=[],ie=this;this._filter=new q(re,{read:this.read.bind(this),write:function(ae){ne.push(ae)},complete:function(){ie.emit("complete",w.concat(ne))}}),this._filter.start()};D.inherits(te,j)}).call(this)}).call(this,d("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(d,m,g){(function(w){(function(){let D=d("./sync-reader"),j=d("./filter-parse");g.process=function(q,te){let re=[],ne=new D(q);return new j(te,{read:ne.read.bind(ne),write:function(ie){re.push(ie)},complete:function(){}}).start(),ne.process(),w.concat(re)}}).call(this)}).call(this,d("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(d,m,g){(function(w){(function(){let D=d("./interlace"),j=d("./paeth-predictor");function q(re,ne,ie){let ae=re*ne;return ie!==8&&(ae=Math.ceil(ae/(8/ie))),ae}let te=m.exports=function(re,ne){let ie=re.width,ae=re.height,se=re.interlace,le=re.bpp,ue=re.depth;if(this.read=ne.read,this.write=ne.write,this.complete=ne.complete,this._imageIndex=0,this._images=[],se){let ce=D.getImagePasses(ie,ae);for(let de=0;de<ce.length;de++)this._images.push({byteWidth:q(ce[de].width,le,ue),height:ce[de].height,lineIndex:0})}else this._images.push({byteWidth:q(ie,le,ue),height:ae,lineIndex:0});this._xComparison=ue===8?le:ue===16?2*le:1};te.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},te.prototype._unFilterType1=function(re,ne,ie){let ae=this._xComparison,se=ae-1;for(let le=0;le<ie;le++){let ue=re[1+le],ce=le>se?ne[le-ae]:0;ne[le]=ue+ce}},te.prototype._unFilterType2=function(re,ne,ie){let ae=this._lastLine;for(let se=0;se<ie;se++){let le=re[1+se],ue=ae?ae[se]:0;ne[se]=le+ue}},te.prototype._unFilterType3=function(re,ne,ie){let ae=this._xComparison,se=ae-1,le=this._lastLine;for(let ue=0;ue<ie;ue++){let ce=re[1+ue],de=le?le[ue]:0,he=ue>se?ne[ue-ae]:0,pe=Math.floor((he+de)/2);ne[ue]=ce+pe}},te.prototype._unFilterType4=function(re,ne,ie){let ae=this._xComparison,se=ae-1,le=this._lastLine;for(let ue=0;ue<ie;ue++){let ce=re[1+ue],de=le?le[ue]:0,he=ue>se?ne[ue-ae]:0,pe=ue>se&&le?le[ue-ae]:0,me=j(he,de,pe);ne[ue]=ce+me}},te.prototype._reverseFilterLine=function(re){let ne,ie=re[0],ae=this._images[this._imageIndex],se=ae.byteWidth;if(ie===0)ne=re.slice(1,se+1);else switch(ne=w.alloc(se),ie){case 1:this._unFilterType1(re,ne,se);break;case 2:this._unFilterType2(re,ne,se);break;case 3:this._unFilterType3(re,ne,se);break;case 4:this._unFilterType4(re,ne,se);break;default:throw new Error("Unrecognised filter type - "+ie)}this.write(ne),ae.lineIndex++,ae.lineIndex>=ae.height?(this._lastLine=null,this._imageIndex++,ae=this._images[this._imageIndex]):this._lastLine=ne,ae?this.read(ae.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(d,m,g){(function(w){(function(){function D(te,re,ne,ie,ae){let se=0;for(let le=0;le<ie;le++)for(let ue=0;ue<ne;ue++){let ce=ae[te[se]];if(!ce)throw new Error("index "+te[se]+" not in palette");for(let de=0;de<4;de++)re[se+de]=ce[de];se+=4}}function j(te,re,ne,ie,ae){let se=0;for(let le=0;le<ie;le++)for(let ue=0;ue<ne;ue++){let ce=!1;if(ae.length===1?ae[0]===te[se]&&(ce=!0):ae[0]===te[se]&&ae[1]===te[se+1]&&ae[2]===te[se+2]&&(ce=!0),ce)for(let de=0;de<4;de++)re[se+de]=0;se+=4}}function q(te,re,ne,ie,ae){let se=255,le=Math.pow(2,ae)-1,ue=0;for(let ce=0;ce<ie;ce++)for(let de=0;de<ne;de++){for(let he=0;he<4;he++)re[ue+he]=Math.floor(te[ue+he]*se/le+.5);ue+=4}}m.exports=function(te,re,ne=!1){let ie=re.depth,ae=re.width,se=re.height,le=re.colorType,ue=re.transColor,ce=re.palette,de=te;return le===3?D(te,de,ae,se,ce):(ue&&j(te,de,ae,se,ue),ie===8||ne||(ie===16&&(de=w.alloc(ae*se*4)),q(te,de,ae,se,ie))),de}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:32}],11:[function(d,m,g){let w=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];g.getImagePasses=function(D,j){let q=[],te=D%8,re=j%8,ne=(D-te)/8,ie=(j-re)/8;for(let ae=0;ae<w.length;ae++){let se=w[ae],le=ne*se.x.length,ue=ie*se.y.length;for(let ce=0;ce<se.x.length&&se.x[ce]<te;ce++)le++;for(let ce=0;ce<se.y.length&&se.y[ce]<re;ce++)ue++;le>0&&ue>0&&q.push({width:le,height:ue,index:ae})}return q},g.getInterlaceIterator=function(D){return function(j,q,te){let re=j%w[te].x.length,ne=(j-re)/w[te].x.length*8+w[te].x[re],ie=q%w[te].y.length;return 4*ne+((q-ie)/w[te].y.length*8+w[te].y[ie])*D*4}}},{}],12:[function(d,m,g){(function(w){(function(){let D=d("util"),j=d("stream"),q=d("./constants"),te=d("./packer"),re=m.exports=function(ne){j.call(this);let ie=ne||{};this._packer=new te(ie),this._deflate=this._packer.createDeflate(),this.readable=!0};D.inherits(re,j),re.prototype.pack=function(ne,ie,ae,se){this.emit("data",w.from(q.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(ie,ae)),se&&this.emit("data",this._packer.packGAMA(se));let le=this._packer.filterData(ne,ie,ae);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(ue){this.emit("data",this._packer.packIDAT(ue))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(le)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(d,m,g){(function(w){(function(){let D=!0,j=d("zlib");j.deflateSync||(D=!1);let q=d("./constants"),te=d("./packer");m.exports=function(re,ne){if(!D)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let ie=new te(ne||{}),ae=[];ae.push(w.from(q.PNG_SIGNATURE)),ae.push(ie.packIHDR(re.width,re.height)),re.gamma&&ae.push(ie.packGAMA(re.gamma));let se=ie.filterData(re.data,re.width,re.height),le=j.deflateSync(se,ie.getDeflateOptions());if(se=null,!le||!le.length)throw new Error("bad png - invalid compressed data response");return ae.push(ie.packIDAT(le)),ae.push(ie.packIEND()),w.concat(ae)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(d,m,g){(function(w){(function(){let D=d("./constants"),j=d("./crc"),q=d("./bitpacker"),te=d("./filter-pack"),re=d("zlib"),ne=m.exports=function(ie){if(this._options=ie,ie.deflateChunkSize=ie.deflateChunkSize||32768,ie.deflateLevel=ie.deflateLevel!=null?ie.deflateLevel:9,ie.deflateStrategy=ie.deflateStrategy!=null?ie.deflateStrategy:3,ie.inputHasAlpha=ie.inputHasAlpha==null||ie.inputHasAlpha,ie.deflateFactory=ie.deflateFactory||re.createDeflate,ie.bitDepth=ie.bitDepth||8,ie.colorType=typeof ie.colorType=="number"?ie.colorType:D.COLORTYPE_COLOR_ALPHA,ie.inputColorType=typeof ie.inputColorType=="number"?ie.inputColorType:D.COLORTYPE_COLOR_ALPHA,[D.COLORTYPE_GRAYSCALE,D.COLORTYPE_COLOR,D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(ie.colorType)===-1)throw new Error("option color type:"+ie.colorType+" is not supported at present");if([D.COLORTYPE_GRAYSCALE,D.COLORTYPE_COLOR,D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(ie.inputColorType)===-1)throw new Error("option input color type:"+ie.inputColorType+" is not supported at present");if(ie.bitDepth!==8&&ie.bitDepth!==16)throw new Error("option bit depth:"+ie.bitDepth+" is not supported at present")};ne.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},ne.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},ne.prototype.filterData=function(ie,ae,se){let le=q(ie,ae,se,this._options),ue=D.COLORTYPE_TO_BPP_MAP[this._options.colorType];return te(le,ae,se,this._options,ue)},ne.prototype._packChunk=function(ie,ae){let se=ae?ae.length:0,le=w.alloc(se+12);return le.writeUInt32BE(se,0),le.writeUInt32BE(ie,4),ae&&ae.copy(le,8),le.writeInt32BE(j.crc32(le.slice(4,le.length-4)),le.length-4),le},ne.prototype.packGAMA=function(ie){let ae=w.alloc(4);return ae.writeUInt32BE(Math.floor(ie*D.GAMMA_DIVISION),0),this._packChunk(D.TYPE_gAMA,ae)},ne.prototype.packIHDR=function(ie,ae){let se=w.alloc(13);return se.writeUInt32BE(ie,0),se.writeUInt32BE(ae,4),se[8]=this._options.bitDepth,se[9]=this._options.colorType,se[10]=0,se[11]=0,se[12]=0,this._packChunk(D.TYPE_IHDR,se)},ne.prototype.packIDAT=function(ie){return this._packChunk(D.TYPE_IDAT,ie)},ne.prototype.packIEND=function(){return this._packChunk(D.TYPE_IEND,null)}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(d,m,g){m.exports=function(w,D,j){let q=w+D-j,te=Math.abs(q-w),re=Math.abs(q-D),ne=Math.abs(q-j);return te<=re&&te<=ne?w:re<=ne?D:j}},{}],16:[function(d,m,g){let w=d("util"),D=d("zlib"),j=d("./chunkstream"),q=d("./filter-parse-async"),te=d("./parser"),re=d("./bitmapper"),ne=d("./format-normaliser"),ie=m.exports=function(ae){j.call(this),this._parser=new te(ae,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=ae,this.writable=!0,this._parser.start()};w.inherits(ie,j),ie.prototype._handleError=function(ae){this.emit("error",ae),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},ie.prototype._inflateData=function(ae){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=D.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let se=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,le=Math.max(se,D.Z_MIN_CHUNK);this._inflate=D.createInflate({chunkSize:le});let ue=se,ce=this.emit.bind(this,"error");this._inflate.on("error",function(he){ue&&ce(he)}),this._filter.on("complete",this._complete.bind(this));let de=this._filter.write.bind(this._filter);this._inflate.on("data",function(he){ue&&(he.length>ue&&(he=he.slice(0,ue)),ue-=he.length,de(he))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(ae)},ie.prototype._handleMetaData=function(ae){this._metaData=ae,this._bitmapInfo=Object.create(ae),this._filter=new q(this._bitmapInfo)},ie.prototype._handleTransColor=function(ae){this._bitmapInfo.transColor=ae},ie.prototype._handlePalette=function(ae){this._bitmapInfo.palette=ae},ie.prototype._simpleTransparency=function(){this._metaData.alpha=!0},ie.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},ie.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},ie.prototype._complete=function(ae){if(this.errord)return;let se;try{let le=re.dataToBitMap(ae,this._bitmapInfo);se=ne(le,this._bitmapInfo,this._options.skipRescale),le=null}catch(le){return void this._handleError(le)}this.emit("parsed",se)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(d,m,g){(function(w){(function(){let D=!0,j=d("zlib"),q=d("./sync-inflate");j.deflateSync||(D=!1);let te=d("./sync-reader"),re=d("./filter-parse-sync"),ne=d("./parser"),ie=d("./bitmapper"),ae=d("./format-normaliser");m.exports=function(se,le){if(!D)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let ue,ce,de;function he(Me){ue=Me}function pe(Me){ce=Me}function me(Me){ce.transColor=Me}function ge(Me){ce.palette=Me}function be(){ce.alpha=!0}function ke(Me){de=Me}let ye=[];function Se(Me){ye.push(Me)}let we=new te(se);if(new ne(le,{read:we.read.bind(we),error:he,metadata:pe,gamma:ke,palette:ge,transColor:me,inflateData:Se,simpleTransparency:be}).start(),we.process(),ue)throw ue;let Te,_e=w.concat(ye);if(ye.length=0,ce.interlace)Te=j.inflateSync(_e);else{let Me=(1+(ce.width*ce.bpp*ce.depth+7>>3))*ce.height;Te=q(_e,{chunkSize:Me,maxLength:Me})}if(_e=null,!Te||!Te.length)throw new Error("bad png - invalid inflate data response");let Ie=re.process(Te,ce);_e=null;let Le=ie.dataToBitMap(Ie,ce);Ie=null;let Be=ae(Le,ce,le.skipRescale);return ce.data=Be,ce.gamma=de||0,ce}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(d,m,g){(function(w){(function(){let D=d("./constants"),j=d("./crc"),q=m.exports=function(te,re){this._options=te,te.checkCRC=te.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[D.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[D.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[D.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[D.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[D.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[D.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=re.read,this.error=re.error,this.metadata=re.metadata,this.gamma=re.gamma,this.transColor=re.transColor,this.palette=re.palette,this.parsed=re.parsed,this.inflateData=re.inflateData,this.finished=re.finished,this.simpleTransparency=re.simpleTransparency,this.headersFinished=re.headersFinished||function(){}};q.prototype.start=function(){this.read(D.PNG_SIGNATURE.length,this._parseSignature.bind(this))},q.prototype._parseSignature=function(te){let re=D.PNG_SIGNATURE;for(let ne=0;ne<re.length;ne++)if(te[ne]!==re[ne])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},q.prototype._parseChunkBegin=function(te){let re=te.readUInt32BE(0),ne=te.readUInt32BE(4),ie="";for(let se=4;se<8;se++)ie+=String.fromCharCode(te[se]);let ae=!!(32&te[4]);if(this._hasIHDR||ne===D.TYPE_IHDR){if(this._crc=new j,this._crc.write(w.from(ie)),this._chunks[ne])return this._chunks[ne](re);ae?this.read(re+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+ie))}else this.error(new Error("Expected IHDR on beggining"))},q.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},q.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},q.prototype._parseChunkEnd=function(te){let re=te.readInt32BE(0),ne=this._crc.crc32();this._options.checkCRC&&ne!==re?this.error(new Error("Crc error - "+re+" - "+ne)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},q.prototype._handleIHDR=function(te){this.read(te,this._parseIHDR.bind(this))},q.prototype._parseIHDR=function(te){this._crc.write(te);let re=te.readUInt32BE(0),ne=te.readUInt32BE(4),ie=te[8],ae=te[9],se=te[10],le=te[11],ue=te[12];if(ie!==8&&ie!==4&&ie!==2&&ie!==1&&ie!==16)return void this.error(new Error("Unsupported bit depth "+ie));if(!(ae in D.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(se!==0)return void this.error(new Error("Unsupported compression method"));if(le!==0)return void this.error(new Error("Unsupported filter method"));if(ue!==0&&ue!==1)return void this.error(new Error("Unsupported interlace method"));this._colorType=ae;let ce=D.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:re,height:ne,depth:ie,interlace:!!ue,palette:!!(ae&D.COLORTYPE_PALETTE),color:!!(ae&D.COLORTYPE_COLOR),alpha:!!(ae&D.COLORTYPE_ALPHA),bpp:ce,colorType:ae}),this._handleChunkEnd()},q.prototype._handlePLTE=function(te){this.read(te,this._parsePLTE.bind(this))},q.prototype._parsePLTE=function(te){this._crc.write(te);let re=Math.floor(te.length/3);for(let ne=0;ne<re;ne++)this._palette.push([te[3*ne],te[3*ne+1],te[3*ne+2],255]);this.palette(this._palette),this._handleChunkEnd()},q.prototype._handleTRNS=function(te){this.simpleTransparency(),this.read(te,this._parseTRNS.bind(this))},q.prototype._parseTRNS=function(te){if(this._crc.write(te),this._colorType===D.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0)return void this.error(new Error("Transparency chunk must be after palette"));if(te.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let re=0;re<te.length;re++)this._palette[re][3]=te[re];this.palette(this._palette)}this._colorType===D.COLORTYPE_GRAYSCALE&&this.transColor([te.readUInt16BE(0)]),this._colorType===D.COLORTYPE_COLOR&&this.transColor([te.readUInt16BE(0),te.readUInt16BE(2),te.readUInt16BE(4)]),this._handleChunkEnd()},q.prototype._handleGAMA=function(te){this.read(te,this._parseGAMA.bind(this))},q.prototype._parseGAMA=function(te){this._crc.write(te),this.gamma(te.readUInt32BE(0)/D.GAMMA_DIVISION),this._handleChunkEnd()},q.prototype._handleIDAT=function(te){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-te,this._parseIDAT.bind(this,te))},q.prototype._parseIDAT=function(te,re){if(this._crc.write(re),this._colorType===D.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(re);let ne=te-re.length;ne>0?this._handleIDAT(ne):this._handleChunkEnd()},q.prototype._handleIEND=function(te){this.read(te,this._parseIEND.bind(this))},q.prototype._parseIEND=function(te){this._crc.write(te),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(d,m,g){let w=d("./parser-sync"),D=d("./packer-sync");g.read=function(j,q){return w(j,q||{})},g.write=function(j,q){return D(j,q)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(d,m,g){(function(w,D){(function(){let j=d("util"),q=d("stream"),te=d("./parser-async"),re=d("./packer-async"),ne=d("./png-sync"),ie=g.PNG=function(ae){q.call(this),ae=ae||{},this.width=0|ae.width,this.height=0|ae.height,this.data=this.width>0&&this.height>0?D.alloc(4*this.width*this.height):null,ae.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new te(ae),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(se){this.data=se,this.emit("parsed",se)}).bind(this)),this._packer=new re(ae),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};j.inherits(ie,q),ie.sync=ne,ie.prototype.pack=function(){return this.data&&this.data.length?(w.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this):(this.emit("error","No data provided"),this)},ie.prototype.parse=function(ae,se){if(se){let le,ue;le=(function(ce){this.removeListener("error",ue),this.data=ce,se(null,this)}).bind(this),ue=(function(ce){this.removeListener("parsed",le),se(ce,null)}).bind(this),this.once("parsed",le),this.once("error",ue)}return this.end(ae),this},ie.prototype.write=function(ae){return this._parser.write(ae),!0},ie.prototype.end=function(ae){this._parser.end(ae)},ie.prototype._metadata=function(ae){this.width=ae.width,this.height=ae.height,this.emit("metadata",ae)},ie.prototype._gamma=function(ae){this.gamma=ae},ie.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},ie.bitblt=function(ae,se,le,ue,ce,de,he,pe){if(ue|=0,ce|=0,de|=0,he|=0,pe|=0,(le|=0)>ae.width||ue>ae.height||le+ce>ae.width||ue+de>ae.height)throw new Error("bitblt reading outside image");if(he>se.width||pe>se.height||he+ce>se.width||pe+de>se.height)throw new Error("bitblt writing outside image");for(let me=0;me<de;me++)ae.data.copy(se.data,(pe+me)*se.width+he<<2,(ue+me)*ae.width+le<<2,(ue+me)*ae.width+le+ce<<2)},ie.prototype.bitblt=function(ae,se,le,ue,ce,de,he){return ie.bitblt(this,ae,se,le,ue,ce,de,he),this},ie.adjustGamma=function(ae){if(ae.gamma){for(let se=0;se<ae.height;se++)for(let le=0;le<ae.width;le++){let ue=ae.width*se+le<<2;for(let ce=0;ce<3;ce++){let de=ae.data[ue+ce]/255;de=Math.pow(de,1/2.2/ae.gamma),ae.data[ue+ce]=Math.round(255*de)}}ae.gamma=0}},ie.prototype.adjustGamma=function(){ie.adjustGamma(this)}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(d,m,g){(function(w,D){(function(){let j=d("assert").ok,q=d("zlib"),te=d("util"),re=d("buffer").kMaxLength;function ne(ue){if(!(this instanceof ne))return new ne(ue);ue&&ue.chunkSize<q.Z_MIN_CHUNK&&(ue.chunkSize=q.Z_MIN_CHUNK),q.Inflate.call(this,ue),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,ue&&ue.maxLength!=null&&(this._maxLength=ue.maxLength)}function ie(ue){return new ne(ue)}function ae(ue,ce){ue._handle&&(ue._handle.close(),ue._handle=null)}function se(ue,ce){if(typeof ce=="string"&&(ce=D.from(ce)),!(ce instanceof D))throw new TypeError("Not a string or buffer");let de=ue._finishFlushFlag;return de==null&&(de=q.Z_FINISH),ue._processChunk(ce,de)}function le(ue,ce){return se(new ne(ce),ue)}ne.prototype._processChunk=function(ue,ce,de){if(typeof de=="function")return q.Inflate._processChunk.call(this,ue,ce,de);let he,pe,me=this,ge=ue&&ue.length,be=this._chunkSize-this._offset,ke=this._maxLength,ye=0,Se=[],we=0;function Te(Ie,Le){if(me._hadError)return;let Be=be-Le;if(j(Be>=0,"have should not go down"),Be>0){let Me=me._buffer.slice(me._offset,me._offset+Be);if(me._offset+=Be,Me.length>ke&&(Me=Me.slice(0,ke)),Se.push(Me),we+=Me.length,ke-=Me.length,ke===0)return!1}return(Le===0||me._offset>=me._chunkSize)&&(be=me._chunkSize,me._offset=0,me._buffer=D.allocUnsafe(me._chunkSize)),Le===0&&(ye+=ge-Ie,ge=Ie,!0)}this.on("error",function(Ie){he=Ie}),j(this._handle,"zlib binding closed");do pe=this._handle.writeSync(ce,ue,ye,ge,this._buffer,this._offset,be),pe=pe||this._writeState;while(!this._hadError&&Te(pe[0],pe[1]));if(this._hadError)throw he;if(we>=re)throw ae(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+re.toString(16)+" bytes");let _e=D.concat(Se,we);return ae(this),_e},te.inherits(ne,q.Inflate),m.exports=g=le,g.Inflate=ne,g.createInflate=ie,g.inflateSync=le}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(d,m,g){let w=m.exports=function(D){this._buffer=D,this._reads=[]};w.prototype.read=function(D,j){this._reads.push({length:Math.abs(D),allowLess:D<0,func:j})},w.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let D=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=D.length||D.allowLess))break;{this._reads.shift();let j=this._buffer;this._buffer=j.slice(D.length),D.func.call(this,j.slice(0,D.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(d,m,g){(function(w){(function(){var D=d("object-assign");/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */function j(Be,Me){if(Be===Me)return 0;for(var Ne=Be.length,Ye=Me.length,Ue=0,$e=Math.min(Ne,Ye);Ue<$e;++Ue)if(Be[Ue]!==Me[Ue]){Ne=Be[Ue],Ye=Me[Ue];break}return Ne<Ye?-1:Ye<Ne?1:0}function q(Be){return w.Buffer&&typeof w.Buffer.isBuffer=="function"?w.Buffer.isBuffer(Be):!(Be==null||!Be._isBuffer)}var te=d("util/"),re=Object.prototype.hasOwnProperty,ne=Array.prototype.slice,ie=(function(){}).name==="foo";function ae(Be){return Object.prototype.toString.call(Be)}function se(Be){return!q(Be)&&typeof w.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(Be):!!Be&&(Be instanceof DataView||!!(Be.buffer&&Be.buffer instanceof ArrayBuffer)))}var le=m.exports=ge,ue=/\s*function\s+([^\(\s]*)\s*/;function ce(Be){if(te.isFunction(Be)){if(ie)return Be.name;var Me=Be.toString().match(ue);return Me&&Me[1]}}function de(Be,Me){return typeof Be=="string"?Be.length<Me?Be:Be.slice(0,Me):Be}function he(Be){if(ie||!te.isFunction(Be))return te.inspect(Be);var Me=ce(Be);return"[Function"+(Me?": "+Me:"")+"]"}function pe(Be){return de(he(Be.actual),128)+" "+Be.operator+" "+de(he(Be.expected),128)}function me(Be,Me,Ne,Ye,Ue){throw new le.AssertionError({message:Ne,actual:Be,expected:Me,operator:Ye,stackStartFunction:Ue})}function ge(Be,Me){Be||me(Be,!0,Me,"==",le.ok)}function be(Be,Me,Ne,Ye){if(Be===Me)return!0;if(q(Be)&&q(Me))return j(Be,Me)===0;if(te.isDate(Be)&&te.isDate(Me))return Be.getTime()===Me.getTime();if(te.isRegExp(Be)&&te.isRegExp(Me))return Be.source===Me.source&&Be.global===Me.global&&Be.multiline===Me.multiline&&Be.lastIndex===Me.lastIndex&&Be.ignoreCase===Me.ignoreCase;if(Be!==null&&typeof Be=="object"||Me!==null&&typeof Me=="object"){if(se(Be)&&se(Me)&&ae(Be)===ae(Me)&&!(Be instanceof Float32Array||Be instanceof Float64Array))return j(new Uint8Array(Be.buffer),new Uint8Array(Me.buffer))===0;if(q(Be)!==q(Me))return!1;var Ue=(Ye=Ye||{actual:[],expected:[]}).actual.indexOf(Be);return Ue!==-1&&Ue===Ye.expected.indexOf(Me)||(Ye.actual.push(Be),Ye.expected.push(Me),ye(Be,Me,Ne,Ye))}return Ne?Be===Me:Be==Me}function ke(Be){return Object.prototype.toString.call(Be)=="[object Arguments]"}function ye(Be,Me,Ne,Ye){if(Be==null||Me==null)return!1;if(te.isPrimitive(Be)||te.isPrimitive(Me))return Be===Me;if(Ne&&Object.getPrototypeOf(Be)!==Object.getPrototypeOf(Me))return!1;var Ue=ke(Be),$e=ke(Me);if(Ue&&!$e||!Ue&&$e)return!1;if(Ue)return be(Be=ne.call(Be),Me=ne.call(Me),Ne);var Ke,Pe,He=Le(Be),it=Le(Me);if(He.length!==it.length)return!1;for(He.sort(),it.sort(),Pe=He.length-1;Pe>=0;Pe--)if(He[Pe]!==it[Pe])return!1;for(Pe=He.length-1;Pe>=0;Pe--)if(!be(Be[Ke=He[Pe]],Me[Ke],Ne,Ye))return!1;return!0}function Se(Be,Me,Ne){be(Be,Me,!0)&&me(Be,Me,Ne,"notDeepStrictEqual",Se)}function we(Be,Me){if(!Be||!Me)return!1;if(Object.prototype.toString.call(Me)=="[object RegExp]")return Me.test(Be);try{if(Be instanceof Me)return!0}catch{}return!Error.isPrototypeOf(Me)&&Me.call({},Be)===!0}function Te(Be){var Me;try{Be()}catch(Ne){Me=Ne}return Me}function _e(Be,Me,Ne,Ye){var Ue;if(typeof Me!="function")throw new TypeError('"block" argument must be a function');typeof Ne=="string"&&(Ye=Ne,Ne=null),Ue=Te(Me),Ye=(Ne&&Ne.name?" ("+Ne.name+").":".")+(Ye?" "+Ye:"."),Be&&!Ue&&me(Ue,Ne,"Missing expected exception"+Ye);var $e=typeof Ye=="string",Ke=!Be&&Ue&&!Ne;if((!Be&&te.isError(Ue)&&$e&&we(Ue,Ne)||Ke)&&me(Ue,Ne,"Got unwanted exception"+Ye),Be&&Ue&&Ne&&!we(Ue,Ne)||!Be&&Ue)throw Ue}function Ie(Be,Me){Be||me(Be,!0,Me,"==",Ie)}le.AssertionError=function(Be){this.name="AssertionError",this.actual=Be.actual,this.expected=Be.expected,this.operator=Be.operator,Be.message?(this.message=Be.message,this.generatedMessage=!1):(this.message=pe(this),this.generatedMessage=!0);var Me=Be.stackStartFunction||me;if(Error.captureStackTrace)Error.captureStackTrace(this,Me);else{var Ne=new Error;if(Ne.stack){var Ye=Ne.stack,Ue=ce(Me),$e=Ye.indexOf(`
`+Ue);if($e>=0){var Ke=Ye.indexOf(`
`,$e+1);Ye=Ye.substring(Ke+1)}this.stack=Ye}}},te.inherits(le.AssertionError,Error),le.fail=me,le.ok=ge,le.equal=function(Be,Me,Ne){Be!=Me&&me(Be,Me,Ne,"==",le.equal)},le.notEqual=function(Be,Me,Ne){Be==Me&&me(Be,Me,Ne,"!=",le.notEqual)},le.deepEqual=function(Be,Me,Ne){be(Be,Me,!1)||me(Be,Me,Ne,"deepEqual",le.deepEqual)},le.deepStrictEqual=function(Be,Me,Ne){be(Be,Me,!0)||me(Be,Me,Ne,"deepStrictEqual",le.deepStrictEqual)},le.notDeepEqual=function(Be,Me,Ne){be(Be,Me,!1)&&me(Be,Me,Ne,"notDeepEqual",le.notDeepEqual)},le.notDeepStrictEqual=Se,le.strictEqual=function(Be,Me,Ne){Be!==Me&&me(Be,Me,Ne,"===",le.strictEqual)},le.notStrictEqual=function(Be,Me,Ne){Be===Me&&me(Be,Me,Ne,"!==",le.notStrictEqual)},le.throws=function(Be,Me,Ne){_e(!0,Be,Me,Ne)},le.doesNotThrow=function(Be,Me,Ne){_e(!1,Be,Me,Ne)},le.ifError=function(Be){if(Be)throw Be},le.strict=D(Ie,le,{equal:le.strictEqual,deepEqual:le.deepStrictEqual,notEqual:le.notStrictEqual,notDeepEqual:le.notDeepStrictEqual}),le.strict.strict=le.strict;var Le=Object.keys||function(Be){var Me=[];for(var Ne in Be)re.call(Be,Ne)&&Me.push(Ne);return Me}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"object-assign":51,"util/":26}],24:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,D){w.super_=D,w.prototype=Object.create(D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}})}:m.exports=function(w,D){w.super_=D;var j=function(){};j.prototype=D.prototype,w.prototype=new j,w.prototype.constructor=w}},{}],25:[function(d,m,g){m.exports=function(w){return w&&typeof w=="object"&&typeof w.copy=="function"&&typeof w.fill=="function"&&typeof w.readUInt8=="function"}},{}],26:[function(d,m,g){(function(w,D){(function(){var j=/%[sdj%]/g;g.format=function(Pe){if(!ye(Pe)){for(var He=[],it=0;it<arguments.length;it++)He.push(re(arguments[it]));return He.join(" ")}it=1;for(var Je=arguments,Ge=Je.length,Qe=String(Pe).replace(j,function(dt){if(dt==="%%")return"%";if(it>=Ge)return dt;switch(dt){case"%s":return String(Je[it++]);case"%d":return Number(Je[it++]);case"%j":try{return JSON.stringify(Je[it++])}catch{return"[Circular]"}default:return dt}}),ut=Je[it];it<Ge;ut=Je[++it])ge(ut)||!_e(ut)?Qe+=" "+ut:Qe+=" "+re(ut);return Qe},g.deprecate=function(Pe,He){if(we(D.process))return function(){return g.deprecate(Pe,He).apply(this,arguments)};if(w.noDeprecation===!0)return Pe;var it=!1;function Je(){if(!it){if(w.throwDeprecation)throw new Error(He);w.traceDeprecation?console.trace(He):console.error(He),it=!0}return Pe.apply(this,arguments)}return Je};var q,te={};function re(Pe,He){var it={seen:[],stylize:ie};return arguments.length>=3&&(it.depth=arguments[2]),arguments.length>=4&&(it.colors=arguments[3]),me(He)?it.showHidden=He:He&&g._extend(it,He),we(it.showHidden)&&(it.showHidden=!1),we(it.depth)&&(it.depth=2),we(it.colors)&&(it.colors=!1),we(it.customInspect)&&(it.customInspect=!0),it.colors&&(it.stylize=ne),se(it,Pe,it.depth)}function ne(Pe,He){var it=re.styles[He];return it?"\x1B["+re.colors[it][0]+"m"+Pe+"\x1B["+re.colors[it][1]+"m":Pe}function ie(Pe,He){return Pe}function ae(Pe){var He={};return Pe.forEach(function(it,Je){He[it]=!0}),He}function se(Pe,He,it){if(Pe.customInspect&&He&&Be(He.inspect)&&He.inspect!==g.inspect&&(!He.constructor||He.constructor.prototype!==He)){var Je=He.inspect(it,Pe);return ye(Je)||(Je=se(Pe,Je,it)),Je}var Ge=le(Pe,He);if(Ge)return Ge;var Qe=Object.keys(He),ut=ae(Qe);if(Pe.showHidden&&(Qe=Object.getOwnPropertyNames(He)),Le(He)&&(Qe.indexOf("message")>=0||Qe.indexOf("description")>=0))return ue(He);if(Qe.length===0){if(Be(He)){var dt=He.name?": "+He.name:"";return Pe.stylize("[Function"+dt+"]","special")}if(Te(He))return Pe.stylize(RegExp.prototype.toString.call(He),"regexp");if(Ie(He))return Pe.stylize(Date.prototype.toString.call(He),"date");if(Le(He))return ue(He)}var kt,Xe="",xe=!1,qe=["{","}"];return pe(He)&&(xe=!0,qe=["[","]"]),Be(He)&&(Xe=" [Function"+(He.name?": "+He.name:"")+"]"),Te(He)&&(Xe=" "+RegExp.prototype.toString.call(He)),Ie(He)&&(Xe=" "+Date.prototype.toUTCString.call(He)),Le(He)&&(Xe=" "+ue(He)),Qe.length!==0||xe&&He.length!=0?it<0?Te(He)?Pe.stylize(RegExp.prototype.toString.call(He),"regexp"):Pe.stylize("[Object]","special"):(Pe.seen.push(He),kt=xe?ce(Pe,He,it,ut,Qe):Qe.map(function(ze){return de(Pe,He,it,ut,ze,xe)}),Pe.seen.pop(),he(kt,Xe,qe)):qe[0]+Xe+qe[1]}function le(Pe,He){if(we(He))return Pe.stylize("undefined","undefined");if(ye(He)){var it="'"+JSON.stringify(He).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Pe.stylize(it,"string")}return ke(He)?Pe.stylize(""+He,"number"):me(He)?Pe.stylize(""+He,"boolean"):ge(He)?Pe.stylize("null","null"):void 0}function ue(Pe){return"["+Error.prototype.toString.call(Pe)+"]"}function ce(Pe,He,it,Je,Ge){for(var Qe=[],ut=0,dt=He.length;ut<dt;++ut)Ke(He,String(ut))?Qe.push(de(Pe,He,it,Je,String(ut),!0)):Qe.push("");return Ge.forEach(function(kt){kt.match(/^\d+$/)||Qe.push(de(Pe,He,it,Je,kt,!0))}),Qe}function de(Pe,He,it,Je,Ge,Qe){var ut,dt,kt;if((kt=Object.getOwnPropertyDescriptor(He,Ge)||{value:He[Ge]}).get?dt=kt.set?Pe.stylize("[Getter/Setter]","special"):Pe.stylize("[Getter]","special"):kt.set&&(dt=Pe.stylize("[Setter]","special")),Ke(Je,Ge)||(ut="["+Ge+"]"),dt||(Pe.seen.indexOf(kt.value)<0?(dt=ge(it)?se(Pe,kt.value,null):se(Pe,kt.value,it-1)).indexOf(`
`)>-1&&(dt=Qe?dt.split(`
`).map(function(Xe){return"  "+Xe}).join(`
`).substr(2):`
`+dt.split(`
`).map(function(Xe){return"   "+Xe}).join(`
`)):dt=Pe.stylize("[Circular]","special")),we(ut)){if(Qe&&Ge.match(/^\d+$/))return dt;(ut=JSON.stringify(""+Ge)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ut=ut.substr(1,ut.length-2),ut=Pe.stylize(ut,"name")):(ut=ut.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ut=Pe.stylize(ut,"string"))}return ut+": "+dt}function he(Pe,He,it){return Pe.reduce(function(Je,Ge){return Ge.indexOf(`
`),Je+Ge.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?it[0]+(He===""?"":He+`
 `)+" "+Pe.join(`,
  `)+" "+it[1]:it[0]+He+" "+Pe.join(", ")+" "+it[1]}function pe(Pe){return Array.isArray(Pe)}function me(Pe){return typeof Pe=="boolean"}function ge(Pe){return Pe===null}function be(Pe){return Pe==null}function ke(Pe){return typeof Pe=="number"}function ye(Pe){return typeof Pe=="string"}function Se(Pe){return typeof Pe=="symbol"}function we(Pe){return Pe===void 0}function Te(Pe){return _e(Pe)&&Ne(Pe)==="[object RegExp]"}function _e(Pe){return typeof Pe=="object"&&Pe!==null}function Ie(Pe){return _e(Pe)&&Ne(Pe)==="[object Date]"}function Le(Pe){return _e(Pe)&&(Ne(Pe)==="[object Error]"||Pe instanceof Error)}function Be(Pe){return typeof Pe=="function"}function Me(Pe){return Pe===null||typeof Pe=="boolean"||typeof Pe=="number"||typeof Pe=="string"||typeof Pe=="symbol"||Pe===void 0}function Ne(Pe){return Object.prototype.toString.call(Pe)}function Ye(Pe){return Pe<10?"0"+Pe.toString(10):Pe.toString(10)}g.debuglog=function(Pe){if(we(q)&&(q=w.env.NODE_DEBUG||""),Pe=Pe.toUpperCase(),!te[Pe])if(new RegExp("\\b"+Pe+"\\b","i").test(q)){var He=w.pid;te[Pe]=function(){var it=g.format.apply(g,arguments);console.error("%s %d: %s",Pe,He,it)}}else te[Pe]=function(){};return te[Pe]},g.inspect=re,re.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},re.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.isArray=pe,g.isBoolean=me,g.isNull=ge,g.isNullOrUndefined=be,g.isNumber=ke,g.isString=ye,g.isSymbol=Se,g.isUndefined=we,g.isRegExp=Te,g.isObject=_e,g.isDate=Ie,g.isError=Le,g.isFunction=Be,g.isPrimitive=Me,g.isBuffer=d("./support/isBuffer");var Ue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function $e(){var Pe=new Date,He=[Ye(Pe.getHours()),Ye(Pe.getMinutes()),Ye(Pe.getSeconds())].join(":");return[Pe.getDate(),Ue[Pe.getMonth()],He].join(" ")}function Ke(Pe,He){return Object.prototype.hasOwnProperty.call(Pe,He)}g.log=function(){console.log("%s - %s",$e(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function(Pe,He){if(!He||!_e(He))return Pe;for(var it=Object.keys(He),Je=it.length;Je--;)Pe[it[Je]]=He[it[Je]];return Pe}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(d,m,g){(function(w){(function(){var D=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],j=typeof globalThis>"u"?w:globalThis;m.exports=function(){for(var q=[],te=0;te<D.length;te++)typeof j[D[te]]=="function"&&(q[q.length]=D[te]);return q}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],28:[function(d,m,g){g.byteLength=ie,g.toByteArray=se,g.fromByteArray=ce;for(var w=[],D=[],j=typeof Uint8Array<"u"?Uint8Array:Array,q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te=0,re=q.length;te<re;++te)w[te]=q[te],D[q.charCodeAt(te)]=te;function ne(de){var he=de.length;if(he%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var pe=de.indexOf("=");return pe===-1&&(pe=he),[pe,pe===he?0:4-pe%4]}function ie(de){var he=ne(de),pe=he[0],me=he[1];return 3*(pe+me)/4-me}function ae(de,he,pe){return 3*(he+pe)/4-pe}function se(de){var he,pe,me=ne(de),ge=me[0],be=me[1],ke=new j(ae(de,ge,be)),ye=0,Se=be>0?ge-4:ge;for(pe=0;pe<Se;pe+=4)he=D[de.charCodeAt(pe)]<<18|D[de.charCodeAt(pe+1)]<<12|D[de.charCodeAt(pe+2)]<<6|D[de.charCodeAt(pe+3)],ke[ye++]=he>>16&255,ke[ye++]=he>>8&255,ke[ye++]=255&he;return be===2&&(he=D[de.charCodeAt(pe)]<<2|D[de.charCodeAt(pe+1)]>>4,ke[ye++]=255&he),be===1&&(he=D[de.charCodeAt(pe)]<<10|D[de.charCodeAt(pe+1)]<<4|D[de.charCodeAt(pe+2)]>>2,ke[ye++]=he>>8&255,ke[ye++]=255&he),ke}function le(de){return w[de>>18&63]+w[de>>12&63]+w[de>>6&63]+w[63&de]}function ue(de,he,pe){for(var me,ge=[],be=he;be<pe;be+=3)me=(de[be]<<16&16711680)+(de[be+1]<<8&65280)+(255&de[be+2]),ge.push(le(me));return ge.join("")}function ce(de){for(var he,pe=de.length,me=pe%3,ge=[],be=16383,ke=0,ye=pe-me;ke<ye;ke+=be)ge.push(ue(de,ke,ke+be>ye?ye:ke+be));return me===1?(he=de[pe-1],ge.push(w[he>>2]+w[he<<4&63]+"==")):me===2&&(he=(de[pe-2]<<8)+de[pe-1],ge.push(w[he>>10]+w[he>>4&63]+w[he<<2&63]+"=")),ge.join("")}D[45]=62,D[95]=63},{}],29:[function(d,m,g){},{}],30:[function(d,m,g){(function(w,D){(function(){var j=d("assert"),q=d("pako/lib/zlib/zstream"),te=d("pako/lib/zlib/deflate.js"),re=d("pako/lib/zlib/inflate.js"),ne=d("pako/lib/zlib/constants");for(var ie in ne)g[ie]=ne[ie];g.NONE=0,g.DEFLATE=1,g.INFLATE=2,g.GZIP=3,g.GUNZIP=4,g.DEFLATERAW=5,g.INFLATERAW=6,g.UNZIP=7;var ae=31,se=139;function le(ue){if(typeof ue!="number"||ue<g.DEFLATE||ue>g.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=ue,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}le.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,j(this.init_done,"close before init"),j(this.mode<=g.UNZIP),this.mode===g.DEFLATE||this.mode===g.GZIP||this.mode===g.DEFLATERAW?te.deflateEnd(this.strm):this.mode!==g.INFLATE&&this.mode!==g.GUNZIP&&this.mode!==g.INFLATERAW&&this.mode!==g.UNZIP||re.inflateEnd(this.strm),this.mode=g.NONE,this.dictionary=null)},le.prototype.write=function(ue,ce,de,he,pe,me,ge){return this._write(!0,ue,ce,de,he,pe,me,ge)},le.prototype.writeSync=function(ue,ce,de,he,pe,me,ge){return this._write(!1,ue,ce,de,he,pe,me,ge)},le.prototype._write=function(ue,ce,de,he,pe,me,ge,be){if(j.equal(arguments.length,8),j(this.init_done,"write before init"),j(this.mode!==g.NONE,"already finalized"),j.equal(!1,this.write_in_progress,"write already in progress"),j.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,j.equal(!1,ce===void 0,"must provide flush value"),this.write_in_progress=!0,ce!==g.Z_NO_FLUSH&&ce!==g.Z_PARTIAL_FLUSH&&ce!==g.Z_SYNC_FLUSH&&ce!==g.Z_FULL_FLUSH&&ce!==g.Z_FINISH&&ce!==g.Z_BLOCK)throw new Error("Invalid flush value");if(de==null&&(de=D.alloc(0),pe=0,he=0),this.strm.avail_in=pe,this.strm.input=de,this.strm.next_in=he,this.strm.avail_out=be,this.strm.output=me,this.strm.next_out=ge,this.flush=ce,!ue)return this._process(),this._checkError()?this._afterSync():void 0;var ke=this;return w.nextTick(function(){ke._process(),ke._after()}),this},le.prototype._afterSync=function(){var ue=this.strm.avail_out,ce=this.strm.avail_in;return this.write_in_progress=!1,[ce,ue]},le.prototype._process=function(){var ue=null;switch(this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=te.deflate(this.strm,this.flush);break;case g.UNZIP:switch(this.strm.avail_in>0&&(ue=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(ue===null)break;if(this.strm.input[ue]!==ae){this.mode=g.INFLATE;break}if(this.gzip_id_bytes_read=1,ue++,this.strm.avail_in===1)break;case 1:if(ue===null)break;this.strm.input[ue]===se?(this.gzip_id_bytes_read=2,this.mode=g.GUNZIP):this.mode=g.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:for(this.err=re.inflate(this.strm,this.flush),this.err===g.Z_NEED_DICT&&this.dictionary&&(this.err=re.inflateSetDictionary(this.strm,this.dictionary),this.err===g.Z_OK?this.err=re.inflate(this.strm,this.flush):this.err===g.Z_DATA_ERROR&&(this.err=g.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===g.GUNZIP&&this.err===g.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=re.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},le.prototype._checkError=function(){switch(this.err){case g.Z_OK:case g.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===g.Z_FINISH)return this._error("unexpected end of file"),!1;break;case g.Z_STREAM_END:break;case g.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},le.prototype._after=function(){if(this._checkError()){var ue=this.strm.avail_out,ce=this.strm.avail_in;this.write_in_progress=!1,this.callback(ce,ue),this.pending_close&&this.close()}},le.prototype._error=function(ue){this.strm.msg&&(ue=this.strm.msg),this.onerror(ue,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},le.prototype.init=function(ue,ce,de,he,pe){j(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),j(ue>=8&&ue<=15,"invalid windowBits"),j(ce>=-1&&ce<=9,"invalid compression level"),j(de>=1&&de<=9,"invalid memlevel"),j(he===g.Z_FILTERED||he===g.Z_HUFFMAN_ONLY||he===g.Z_RLE||he===g.Z_FIXED||he===g.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(ce,ue,de,he,pe),this._setDictionary()},le.prototype.params=function(){throw new Error("deflateParams Not supported")},le.prototype.reset=function(){this._reset(),this._setDictionary()},le.prototype._init=function(ue,ce,de,he,pe){switch(this.level=ue,this.windowBits=ce,this.memLevel=de,this.strategy=he,this.flush=g.Z_NO_FLUSH,this.err=g.Z_OK,this.mode!==g.GZIP&&this.mode!==g.GUNZIP||(this.windowBits+=16),this.mode===g.UNZIP&&(this.windowBits+=32),this.mode!==g.DEFLATERAW&&this.mode!==g.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new q,this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=te.deflateInit2(this.strm,this.level,g.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:case g.UNZIP:this.err=re.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==g.Z_OK&&this._error("Init error"),this.dictionary=pe,this.write_in_progress=!1,this.init_done=!0},le.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:this.err=te.deflateSetDictionary(this.strm,this.dictionary)}this.err!==g.Z_OK&&this._error("Failed to set dictionary")}},le.prototype._reset=function(){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:case g.GZIP:this.err=te.deflateReset(this.strm);break;case g.INFLATE:case g.INFLATERAW:case g.GUNZIP:this.err=re.inflateReset(this.strm)}this.err!==g.Z_OK&&this._error("Failed to reset stream")},g.Zlib=le}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(d,m,g){(function(w){(function(){var D=d("buffer").Buffer,j=d("stream").Transform,q=d("./binding"),te=d("util"),re=d("assert").ok,ne=d("buffer").kMaxLength,ie="Cannot create final Buffer. It would be larger than 0x"+ne.toString(16)+" bytes";q.Z_MIN_WINDOWBITS=8,q.Z_MAX_WINDOWBITS=15,q.Z_DEFAULT_WINDOWBITS=15,q.Z_MIN_CHUNK=64,q.Z_MAX_CHUNK=1/0,q.Z_DEFAULT_CHUNK=16384,q.Z_MIN_MEMLEVEL=1,q.Z_MAX_MEMLEVEL=9,q.Z_DEFAULT_MEMLEVEL=8,q.Z_MIN_LEVEL=-1,q.Z_MAX_LEVEL=9,q.Z_DEFAULT_LEVEL=q.Z_DEFAULT_COMPRESSION;for(var ae=Object.keys(q),se=0;se<ae.length;se++){var le=ae[se];le.match(/^Z/)&&Object.defineProperty(g,le,{enumerable:!0,value:q[le],writable:!1})}for(var ue={Z_OK:q.Z_OK,Z_STREAM_END:q.Z_STREAM_END,Z_NEED_DICT:q.Z_NEED_DICT,Z_ERRNO:q.Z_ERRNO,Z_STREAM_ERROR:q.Z_STREAM_ERROR,Z_DATA_ERROR:q.Z_DATA_ERROR,Z_MEM_ERROR:q.Z_MEM_ERROR,Z_BUF_ERROR:q.Z_BUF_ERROR,Z_VERSION_ERROR:q.Z_VERSION_ERROR},ce=Object.keys(ue),de=0;de<ce.length;de++){var he=ce[de];ue[ue[he]]=he}function pe(Me,Ne,Ye){var Ue=[],$e=0;function Ke(){for(var it;(it=Me.read())!==null;)Ue.push(it),$e+=it.length;Me.once("readable",Ke)}function Pe(it){Me.removeListener("end",He),Me.removeListener("readable",Ke),Ye(it)}function He(){var it,Je=null;$e>=ne?Je=new RangeError(ie):it=D.concat(Ue,$e),Ue=[],Me.close(),Ye(Je,it)}Me.on("error",Pe),Me.on("end",He),Me.end(Ne),Ke()}function me(Me,Ne){if(typeof Ne=="string"&&(Ne=D.from(Ne)),!D.isBuffer(Ne))throw new TypeError("Not a string or buffer");var Ye=Me._finishFlushFlag;return Me._processChunk(Ne,Ye)}function ge(Me){if(!(this instanceof ge))return new ge(Me);Ie.call(this,Me,q.DEFLATE)}function be(Me){if(!(this instanceof be))return new be(Me);Ie.call(this,Me,q.INFLATE)}function ke(Me){if(!(this instanceof ke))return new ke(Me);Ie.call(this,Me,q.GZIP)}function ye(Me){if(!(this instanceof ye))return new ye(Me);Ie.call(this,Me,q.GUNZIP)}function Se(Me){if(!(this instanceof Se))return new Se(Me);Ie.call(this,Me,q.DEFLATERAW)}function we(Me){if(!(this instanceof we))return new we(Me);Ie.call(this,Me,q.INFLATERAW)}function Te(Me){if(!(this instanceof Te))return new Te(Me);Ie.call(this,Me,q.UNZIP)}function _e(Me){return Me===q.Z_NO_FLUSH||Me===q.Z_PARTIAL_FLUSH||Me===q.Z_SYNC_FLUSH||Me===q.Z_FULL_FLUSH||Me===q.Z_FINISH||Me===q.Z_BLOCK}function Ie(Me,Ne){var Ye=this;if(this._opts=Me=Me||{},this._chunkSize=Me.chunkSize||g.Z_DEFAULT_CHUNK,j.call(this,Me),Me.flush&&!_e(Me.flush))throw new Error("Invalid flush flag: "+Me.flush);if(Me.finishFlush&&!_e(Me.finishFlush))throw new Error("Invalid flush flag: "+Me.finishFlush);if(this._flushFlag=Me.flush||q.Z_NO_FLUSH,this._finishFlushFlag=Me.finishFlush!==void 0?Me.finishFlush:q.Z_FINISH,Me.chunkSize&&(Me.chunkSize<g.Z_MIN_CHUNK||Me.chunkSize>g.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+Me.chunkSize);if(Me.windowBits&&(Me.windowBits<g.Z_MIN_WINDOWBITS||Me.windowBits>g.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+Me.windowBits);if(Me.level&&(Me.level<g.Z_MIN_LEVEL||Me.level>g.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+Me.level);if(Me.memLevel&&(Me.memLevel<g.Z_MIN_MEMLEVEL||Me.memLevel>g.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+Me.memLevel);if(Me.strategy&&Me.strategy!=g.Z_FILTERED&&Me.strategy!=g.Z_HUFFMAN_ONLY&&Me.strategy!=g.Z_RLE&&Me.strategy!=g.Z_FIXED&&Me.strategy!=g.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+Me.strategy);if(Me.dictionary&&!D.isBuffer(Me.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new q.Zlib(Ne);var Ue=this;this._hadError=!1,this._handle.onerror=function(Pe,He){Le(Ue),Ue._hadError=!0;var it=new Error(Pe);it.errno=He,it.code=g.codes[He],Ue.emit("error",it)};var $e=g.Z_DEFAULT_COMPRESSION;typeof Me.level=="number"&&($e=Me.level);var Ke=g.Z_DEFAULT_STRATEGY;typeof Me.strategy=="number"&&(Ke=Me.strategy),this._handle.init(Me.windowBits||g.Z_DEFAULT_WINDOWBITS,$e,Me.memLevel||g.Z_DEFAULT_MEMLEVEL,Ke,Me.dictionary),this._buffer=D.allocUnsafe(this._chunkSize),this._offset=0,this._level=$e,this._strategy=Ke,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Ye._handle},configurable:!0,enumerable:!0})}function Le(Me,Ne){Ne&&w.nextTick(Ne),Me._handle&&(Me._handle.close(),Me._handle=null)}function Be(Me){Me.emit("close")}Object.defineProperty(g,"codes",{enumerable:!0,value:Object.freeze(ue),writable:!1}),g.Deflate=ge,g.Inflate=be,g.Gzip=ke,g.Gunzip=ye,g.DeflateRaw=Se,g.InflateRaw=we,g.Unzip=Te,g.createDeflate=function(Me){return new ge(Me)},g.createInflate=function(Me){return new be(Me)},g.createDeflateRaw=function(Me){return new Se(Me)},g.createInflateRaw=function(Me){return new we(Me)},g.createGzip=function(Me){return new ke(Me)},g.createGunzip=function(Me){return new ye(Me)},g.createUnzip=function(Me){return new Te(Me)},g.deflate=function(Me,Ne,Ye){return typeof Ne=="function"&&(Ye=Ne,Ne={}),pe(new ge(Ne),Me,Ye)},g.deflateSync=function(Me,Ne){return me(new ge(Ne),Me)},g.gzip=function(Me,Ne,Ye){return typeof Ne=="function"&&(Ye=Ne,Ne={}),pe(new ke(Ne),Me,Ye)},g.gzipSync=function(Me,Ne){return me(new ke(Ne),Me)},g.deflateRaw=function(Me,Ne,Ye){return typeof Ne=="function"&&(Ye=Ne,Ne={}),pe(new Se(Ne),Me,Ye)},g.deflateRawSync=function(Me,Ne){return me(new Se(Ne),Me)},g.unzip=function(Me,Ne,Ye){return typeof Ne=="function"&&(Ye=Ne,Ne={}),pe(new Te(Ne),Me,Ye)},g.unzipSync=function(Me,Ne){return me(new Te(Ne),Me)},g.inflate=function(Me,Ne,Ye){return typeof Ne=="function"&&(Ye=Ne,Ne={}),pe(new be(Ne),Me,Ye)},g.inflateSync=function(Me,Ne){return me(new be(Ne),Me)},g.gunzip=function(Me,Ne,Ye){return typeof Ne=="function"&&(Ye=Ne,Ne={}),pe(new ye(Ne),Me,Ye)},g.gunzipSync=function(Me,Ne){return me(new ye(Ne),Me)},g.inflateRaw=function(Me,Ne,Ye){return typeof Ne=="function"&&(Ye=Ne,Ne={}),pe(new we(Ne),Me,Ye)},g.inflateRawSync=function(Me,Ne){return me(new we(Ne),Me)},te.inherits(Ie,j),Ie.prototype.params=function(Me,Ne,Ye){if(Me<g.Z_MIN_LEVEL||Me>g.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+Me);if(Ne!=g.Z_FILTERED&&Ne!=g.Z_HUFFMAN_ONLY&&Ne!=g.Z_RLE&&Ne!=g.Z_FIXED&&Ne!=g.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+Ne);if(this._level!==Me||this._strategy!==Ne){var Ue=this;this.flush(q.Z_SYNC_FLUSH,function(){re(Ue._handle,"zlib binding closed"),Ue._handle.params(Me,Ne),Ue._hadError||(Ue._level=Me,Ue._strategy=Ne,Ye&&Ye())})}else w.nextTick(Ye)},Ie.prototype.reset=function(){return re(this._handle,"zlib binding closed"),this._handle.reset()},Ie.prototype._flush=function(Me){this._transform(D.alloc(0),"",Me)},Ie.prototype.flush=function(Me,Ne){var Ye=this,Ue=this._writableState;(typeof Me=="function"||Me===void 0&&!Ne)&&(Ne=Me,Me=q.Z_FULL_FLUSH),Ue.ended?Ne&&w.nextTick(Ne):Ue.ending?Ne&&this.once("end",Ne):Ue.needDrain?Ne&&this.once("drain",function(){return Ye.flush(Me,Ne)}):(this._flushFlag=Me,this.write(D.alloc(0),"",Ne))},Ie.prototype.close=function(Me){Le(this,Me),w.nextTick(Be,this)},Ie.prototype._transform=function(Me,Ne,Ye){var Ue,$e=this._writableState,Ke=($e.ending||$e.ended)&&(!Me||$e.length===Me.length);return Me===null||D.isBuffer(Me)?this._handle?(Ke?Ue=this._finishFlushFlag:(Ue=this._flushFlag,Me.length>=$e.length&&(this._flushFlag=this._opts.flush||q.Z_NO_FLUSH)),void this._processChunk(Me,Ue,Ye)):Ye(new Error("zlib binding closed")):Ye(new Error("invalid input"))},Ie.prototype._processChunk=function(Me,Ne,Ye){var Ue=Me&&Me.length,$e=this._chunkSize-this._offset,Ke=0,Pe=this,He=typeof Ye=="function";if(!He){var it,Je=[],Ge=0;this.on("error",function(Xe){it=Xe}),re(this._handle,"zlib binding closed");do var Qe=this._handle.writeSync(Ne,Me,Ke,Ue,this._buffer,this._offset,$e);while(!this._hadError&&kt(Qe[0],Qe[1]));if(this._hadError)throw it;if(Ge>=ne)throw Le(this),new RangeError(ie);var ut=D.concat(Je,Ge);return Le(this),ut}re(this._handle,"zlib binding closed");var dt=this._handle.write(Ne,Me,Ke,Ue,this._buffer,this._offset,$e);function kt(Xe,xe){if(this&&(this.buffer=null,this.callback=null),!Pe._hadError){var qe=$e-xe;if(re(qe>=0,"have should not go down"),qe>0){var ze=Pe._buffer.slice(Pe._offset,Pe._offset+qe);Pe._offset+=qe,He?Pe.push(ze):(Je.push(ze),Ge+=ze.length)}if((xe===0||Pe._offset>=Pe._chunkSize)&&($e=Pe._chunkSize,Pe._offset=0,Pe._buffer=D.allocUnsafe(Pe._chunkSize)),xe===0){if(Ke+=Ue-Xe,Ue=Xe,!He)return!0;var Oe=Pe._handle.write(Ne,Me,Ke,Ue,Pe._buffer,Pe._offset,Pe._chunkSize);return Oe.callback=kt,void(Oe.buffer=Me)}if(!He)return!1;Ye()}}dt.buffer=Me,dt.callback=kt},te.inherits(ge,Ie),te.inherits(be,Ie),te.inherits(ke,Ie),te.inherits(ye,Ie),te.inherits(Se,Ie),te.inherits(we,Ie),te.inherits(Te,Ie)}).call(this)}).call(this,d("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(d,m,g){(function(w){(function(){var D=d("base64-js"),j=d("ieee754");g.Buffer=ne,g.SlowBuffer=me,g.INSPECT_MAX_BYTES=50;var q=2147483647;function te(){try{var ve=new Uint8Array(1);return ve.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},ve.foo()===42}catch{return!1}}function re(ve){if(ve>q)throw new RangeError('The value "'+ve+'" is invalid for option "size"');var Ae=new Uint8Array(ve);return Ae.__proto__=ne.prototype,Ae}function ne(ve,Ae,De){if(typeof ve=="number"){if(typeof Ae=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return le(ve)}return ie(ve,Ae,De)}function ie(ve,Ae,De){if(typeof ve=="string")return ue(ve,Ae);if(ArrayBuffer.isView(ve))return ce(ve);if(ve==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ve);if(Ze(ve,ArrayBuffer)||ve&&Ze(ve.buffer,ArrayBuffer))return de(ve,Ae,De);if(typeof ve=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var je=ve.valueOf&&ve.valueOf();if(je!=null&&je!==ve)return ne.from(je,Ae,De);var St=he(ve);if(St)return St;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ve[Symbol.toPrimitive]=="function")return ne.from(ve[Symbol.toPrimitive]("string"),Ae,De);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ve)}function ae(ve){if(typeof ve!="number")throw new TypeError('"size" argument must be of type number');if(ve<0)throw new RangeError('The value "'+ve+'" is invalid for option "size"')}function se(ve,Ae,De){return ae(ve),ve<=0?re(ve):Ae!==void 0?typeof De=="string"?re(ve).fill(Ae,De):re(ve).fill(Ae):re(ve)}function le(ve){return ae(ve),re(ve<0?0:0|pe(ve))}function ue(ve,Ae){if(typeof Ae=="string"&&Ae!==""||(Ae="utf8"),!ne.isEncoding(Ae))throw new TypeError("Unknown encoding: "+Ae);var De=0|ge(ve,Ae),je=re(De),St=je.write(ve,Ae);return St!==De&&(je=je.slice(0,St)),je}function ce(ve){for(var Ae=ve.length<0?0:0|pe(ve.length),De=re(Ae),je=0;je<Ae;je+=1)De[je]=255&ve[je];return De}function de(ve,Ae,De){if(Ae<0||ve.byteLength<Ae)throw new RangeError('"offset" is outside of buffer bounds');if(ve.byteLength<Ae+(De||0))throw new RangeError('"length" is outside of buffer bounds');var je;return(je=Ae===void 0&&De===void 0?new Uint8Array(ve):De===void 0?new Uint8Array(ve,Ae):new Uint8Array(ve,Ae,De)).__proto__=ne.prototype,je}function he(ve){if(ne.isBuffer(ve)){var Ae=0|pe(ve.length),De=re(Ae);return De.length===0||ve.copy(De,0,0,Ae),De}return ve.length!==void 0?typeof ve.length!="number"||et(ve.length)?re(0):ce(ve):ve.type==="Buffer"&&Array.isArray(ve.data)?ce(ve.data):void 0}function pe(ve){if(ve>=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+q.toString(16)+" bytes");return 0|ve}function me(ve){return+ve!=ve&&(ve=0),ne.alloc(+ve)}function ge(ve,Ae){if(ne.isBuffer(ve))return ve.length;if(ArrayBuffer.isView(ve)||Ze(ve,ArrayBuffer))return ve.byteLength;if(typeof ve!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ve);var De=ve.length,je=arguments.length>2&&arguments[2]===!0;if(!je&&De===0)return 0;for(var St=!1;;)switch(Ae){case"ascii":case"latin1":case"binary":return De;case"utf8":case"utf-8":return xe(ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*De;case"hex":return De>>>1;case"base64":return Oe(ve).length;default:if(St)return je?-1:xe(ve).length;Ae=(""+Ae).toLowerCase(),St=!0}}function be(ve,Ae,De){var je=!1;if((Ae===void 0||Ae<0)&&(Ae=0),Ae>this.length||((De===void 0||De>this.length)&&(De=this.length),De<=0)||(De>>>=0)<=(Ae>>>=0))return"";for(ve||(ve="utf8");;)switch(ve){case"hex":return Pe(this,Ae,De);case"utf8":case"utf-8":return Ne(this,Ae,De);case"ascii":return $e(this,Ae,De);case"latin1":case"binary":return Ke(this,Ae,De);case"base64":return Me(this,Ae,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return He(this,Ae,De);default:if(je)throw new TypeError("Unknown encoding: "+ve);ve=(ve+"").toLowerCase(),je=!0}}function ke(ve,Ae,De){var je=ve[Ae];ve[Ae]=ve[De],ve[De]=je}function ye(ve,Ae,De,je,St){if(ve.length===0)return-1;if(typeof De=="string"?(je=De,De=0):De>2147483647?De=2147483647:De<-2147483648&&(De=-2147483648),et(De=+De)&&(De=St?0:ve.length-1),De<0&&(De=ve.length+De),De>=ve.length){if(St)return-1;De=ve.length-1}else if(De<0){if(!St)return-1;De=0}if(typeof Ae=="string"&&(Ae=ne.from(Ae,je)),ne.isBuffer(Ae))return Ae.length===0?-1:Se(ve,Ae,De,je,St);if(typeof Ae=="number")return Ae&=255,typeof Uint8Array.prototype.indexOf=="function"?St?Uint8Array.prototype.indexOf.call(ve,Ae,De):Uint8Array.prototype.lastIndexOf.call(ve,Ae,De):Se(ve,[Ae],De,je,St);throw new TypeError("val must be string, number or Buffer")}function Se(ve,Ae,De,je,St){var Bt,tr=1,ir=ve.length,Yt=Ae.length;if(je!==void 0&&((je=String(je).toLowerCase())==="ucs2"||je==="ucs-2"||je==="utf16le"||je==="utf-16le")){if(ve.length<2||Ae.length<2)return-1;tr=2,ir/=2,Yt/=2,De/=2}function ar(hr,kr){return tr===1?hr[kr]:hr.readUInt16BE(kr*tr)}if(St){var rr=-1;for(Bt=De;Bt<ir;Bt++)if(ar(ve,Bt)===ar(Ae,rr===-1?0:Bt-rr)){if(rr===-1&&(rr=Bt),Bt-rr+1===Yt)return rr*tr}else rr!==-1&&(Bt-=Bt-rr),rr=-1}else for(De+Yt>ir&&(De=ir-Yt),Bt=De;Bt>=0;Bt--){for(var gr=!0,dr=0;dr<Yt;dr++)if(ar(ve,Bt+dr)!==ar(Ae,dr)){gr=!1;break}if(gr)return Bt}return-1}function we(ve,Ae,De,je){De=Number(De)||0;var St=ve.length-De;je?(je=Number(je))>St&&(je=St):je=St;var Bt=Ae.length;je>Bt/2&&(je=Bt/2);for(var tr=0;tr<je;++tr){var ir=parseInt(Ae.substr(2*tr,2),16);if(et(ir))return tr;ve[De+tr]=ir}return tr}function Te(ve,Ae,De,je){return Fe(xe(Ae,ve.length-De),ve,De,je)}function _e(ve,Ae,De,je){return Fe(qe(Ae),ve,De,je)}function Ie(ve,Ae,De,je){return _e(ve,Ae,De,je)}function Le(ve,Ae,De,je){return Fe(Oe(Ae),ve,De,je)}function Be(ve,Ae,De,je){return Fe(ze(Ae,ve.length-De),ve,De,je)}function Me(ve,Ae,De){return Ae===0&&De===ve.length?D.fromByteArray(ve):D.fromByteArray(ve.slice(Ae,De))}function Ne(ve,Ae,De){De=Math.min(ve.length,De);for(var je=[],St=Ae;St<De;){var Bt,tr,ir,Yt,ar=ve[St],rr=null,gr=ar>239?4:ar>223?3:ar>191?2:1;if(St+gr<=De)switch(gr){case 1:ar<128&&(rr=ar);break;case 2:(192&(Bt=ve[St+1]))==128&&(Yt=(31&ar)<<6|63&Bt)>127&&(rr=Yt);break;case 3:Bt=ve[St+1],tr=ve[St+2],(192&Bt)==128&&(192&tr)==128&&(Yt=(15&ar)<<12|(63&Bt)<<6|63&tr)>2047&&(Yt<55296||Yt>57343)&&(rr=Yt);break;case 4:Bt=ve[St+1],tr=ve[St+2],ir=ve[St+3],(192&Bt)==128&&(192&tr)==128&&(192&ir)==128&&(Yt=(15&ar)<<18|(63&Bt)<<12|(63&tr)<<6|63&ir)>65535&&Yt<1114112&&(rr=Yt)}rr===null?(rr=65533,gr=1):rr>65535&&(rr-=65536,je.push(rr>>>10&1023|55296),rr=56320|1023&rr),je.push(rr),St+=gr}return Ue(je)}g.kMaxLength=q,ne.TYPED_ARRAY_SUPPORT=te(),ne.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(ne.prototype,"parent",{enumerable:!0,get:function(){if(ne.isBuffer(this))return this.buffer}}),Object.defineProperty(ne.prototype,"offset",{enumerable:!0,get:function(){if(ne.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&ne[Symbol.species]===ne&&Object.defineProperty(ne,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),ne.poolSize=8192,ne.from=function(ve,Ae,De){return ie(ve,Ae,De)},ne.prototype.__proto__=Uint8Array.prototype,ne.__proto__=Uint8Array,ne.alloc=function(ve,Ae,De){return se(ve,Ae,De)},ne.allocUnsafe=function(ve){return le(ve)},ne.allocUnsafeSlow=function(ve){return le(ve)},ne.isBuffer=function(ve){return ve!=null&&ve._isBuffer===!0&&ve!==ne.prototype},ne.compare=function(ve,Ae){if(Ze(ve,Uint8Array)&&(ve=ne.from(ve,ve.offset,ve.byteLength)),Ze(Ae,Uint8Array)&&(Ae=ne.from(Ae,Ae.offset,Ae.byteLength)),!ne.isBuffer(ve)||!ne.isBuffer(Ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ve===Ae)return 0;for(var De=ve.length,je=Ae.length,St=0,Bt=Math.min(De,je);St<Bt;++St)if(ve[St]!==Ae[St]){De=ve[St],je=Ae[St];break}return De<je?-1:je<De?1:0},ne.isEncoding=function(ve){switch(String(ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ne.concat=function(ve,Ae){if(!Array.isArray(ve))throw new TypeError('"list" argument must be an Array of Buffers');if(ve.length===0)return ne.alloc(0);var De;if(Ae===void 0)for(Ae=0,De=0;De<ve.length;++De)Ae+=ve[De].length;var je=ne.allocUnsafe(Ae),St=0;for(De=0;De<ve.length;++De){var Bt=ve[De];if(Ze(Bt,Uint8Array)&&(Bt=ne.from(Bt)),!ne.isBuffer(Bt))throw new TypeError('"list" argument must be an Array of Buffers');Bt.copy(je,St),St+=Bt.length}return je},ne.byteLength=ge,ne.prototype._isBuffer=!0,ne.prototype.swap16=function(){var ve=this.length;if(ve%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ae=0;Ae<ve;Ae+=2)ke(this,Ae,Ae+1);return this},ne.prototype.swap32=function(){var ve=this.length;if(ve%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ae=0;Ae<ve;Ae+=4)ke(this,Ae,Ae+3),ke(this,Ae+1,Ae+2);return this},ne.prototype.swap64=function(){var ve=this.length;if(ve%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ae=0;Ae<ve;Ae+=8)ke(this,Ae,Ae+7),ke(this,Ae+1,Ae+6),ke(this,Ae+2,Ae+5),ke(this,Ae+3,Ae+4);return this},ne.prototype.toString=function(){var ve=this.length;return ve===0?"":arguments.length===0?Ne(this,0,ve):be.apply(this,arguments)},ne.prototype.toLocaleString=ne.prototype.toString,ne.prototype.equals=function(ve){if(!ne.isBuffer(ve))throw new TypeError("Argument must be a Buffer");return this===ve||ne.compare(this,ve)===0},ne.prototype.inspect=function(){var ve="",Ae=g.INSPECT_MAX_BYTES;return ve=this.toString("hex",0,Ae).replace(/(.{2})/g,"$1 ").trim(),this.length>Ae&&(ve+=" ... "),"<Buffer "+ve+">"},ne.prototype.compare=function(ve,Ae,De,je,St){if(Ze(ve,Uint8Array)&&(ve=ne.from(ve,ve.offset,ve.byteLength)),!ne.isBuffer(ve))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ve);if(Ae===void 0&&(Ae=0),De===void 0&&(De=ve?ve.length:0),je===void 0&&(je=0),St===void 0&&(St=this.length),Ae<0||De>ve.length||je<0||St>this.length)throw new RangeError("out of range index");if(je>=St&&Ae>=De)return 0;if(je>=St)return-1;if(Ae>=De)return 1;if(this===ve)return 0;for(var Bt=(St>>>=0)-(je>>>=0),tr=(De>>>=0)-(Ae>>>=0),ir=Math.min(Bt,tr),Yt=this.slice(je,St),ar=ve.slice(Ae,De),rr=0;rr<ir;++rr)if(Yt[rr]!==ar[rr]){Bt=Yt[rr],tr=ar[rr];break}return Bt<tr?-1:tr<Bt?1:0},ne.prototype.includes=function(ve,Ae,De){return this.indexOf(ve,Ae,De)!==-1},ne.prototype.indexOf=function(ve,Ae,De){return ye(this,ve,Ae,De,!0)},ne.prototype.lastIndexOf=function(ve,Ae,De){return ye(this,ve,Ae,De,!1)},ne.prototype.write=function(ve,Ae,De,je){if(Ae===void 0)je="utf8",De=this.length,Ae=0;else if(De===void 0&&typeof Ae=="string")je=Ae,De=this.length,Ae=0;else{if(!isFinite(Ae))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Ae>>>=0,isFinite(De)?(De>>>=0,je===void 0&&(je="utf8")):(je=De,De=void 0)}var St=this.length-Ae;if((De===void 0||De>St)&&(De=St),ve.length>0&&(De<0||Ae<0)||Ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");for(var Bt=!1;;)switch(je){case"hex":return we(this,ve,Ae,De);case"utf8":case"utf-8":return Te(this,ve,Ae,De);case"ascii":return _e(this,ve,Ae,De);case"latin1":case"binary":return Ie(this,ve,Ae,De);case"base64":return Le(this,ve,Ae,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,ve,Ae,De);default:if(Bt)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),Bt=!0}},ne.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ye=4096;function Ue(ve){var Ae=ve.length;if(Ae<=Ye)return String.fromCharCode.apply(String,ve);for(var De="",je=0;je<Ae;)De+=String.fromCharCode.apply(String,ve.slice(je,je+=Ye));return De}function $e(ve,Ae,De){var je="";De=Math.min(ve.length,De);for(var St=Ae;St<De;++St)je+=String.fromCharCode(127&ve[St]);return je}function Ke(ve,Ae,De){var je="";De=Math.min(ve.length,De);for(var St=Ae;St<De;++St)je+=String.fromCharCode(ve[St]);return je}function Pe(ve,Ae,De){var je=ve.length;(!Ae||Ae<0)&&(Ae=0),(!De||De<0||De>je)&&(De=je);for(var St="",Bt=Ae;Bt<De;++Bt)St+=Xe(ve[Bt]);return St}function He(ve,Ae,De){for(var je=ve.slice(Ae,De),St="",Bt=0;Bt<je.length;Bt+=2)St+=String.fromCharCode(je[Bt]+256*je[Bt+1]);return St}function it(ve,Ae,De){if(ve%1!=0||ve<0)throw new RangeError("offset is not uint");if(ve+Ae>De)throw new RangeError("Trying to access beyond buffer length")}function Je(ve,Ae,De,je,St,Bt){if(!ne.isBuffer(ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ae>St||Ae<Bt)throw new RangeError('"value" argument is out of bounds');if(De+je>ve.length)throw new RangeError("Index out of range")}function Ge(ve,Ae,De,je,St,Bt){if(De+je>ve.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("Index out of range")}function Qe(ve,Ae,De,je,St){return Ae=+Ae,De>>>=0,St||Ge(ve,Ae,De,4),j.write(ve,Ae,De,je,23,4),De+4}function ut(ve,Ae,De,je,St){return Ae=+Ae,De>>>=0,St||Ge(ve,Ae,De,8),j.write(ve,Ae,De,je,52,8),De+8}ne.prototype.slice=function(ve,Ae){var De=this.length;(ve=~~ve)<0?(ve+=De)<0&&(ve=0):ve>De&&(ve=De),(Ae=Ae===void 0?De:~~Ae)<0?(Ae+=De)<0&&(Ae=0):Ae>De&&(Ae=De),Ae<ve&&(Ae=ve);var je=this.subarray(ve,Ae);return je.__proto__=ne.prototype,je},ne.prototype.readUIntLE=function(ve,Ae,De){ve>>>=0,Ae>>>=0,De||it(ve,Ae,this.length);for(var je=this[ve],St=1,Bt=0;++Bt<Ae&&(St*=256);)je+=this[ve+Bt]*St;return je},ne.prototype.readUIntBE=function(ve,Ae,De){ve>>>=0,Ae>>>=0,De||it(ve,Ae,this.length);for(var je=this[ve+--Ae],St=1;Ae>0&&(St*=256);)je+=this[ve+--Ae]*St;return je},ne.prototype.readUInt8=function(ve,Ae){return ve>>>=0,Ae||it(ve,1,this.length),this[ve]},ne.prototype.readUInt16LE=function(ve,Ae){return ve>>>=0,Ae||it(ve,2,this.length),this[ve]|this[ve+1]<<8},ne.prototype.readUInt16BE=function(ve,Ae){return ve>>>=0,Ae||it(ve,2,this.length),this[ve]<<8|this[ve+1]},ne.prototype.readUInt32LE=function(ve,Ae){return ve>>>=0,Ae||it(ve,4,this.length),(this[ve]|this[ve+1]<<8|this[ve+2]<<16)+16777216*this[ve+3]},ne.prototype.readUInt32BE=function(ve,Ae){return ve>>>=0,Ae||it(ve,4,this.length),16777216*this[ve]+(this[ve+1]<<16|this[ve+2]<<8|this[ve+3])},ne.prototype.readIntLE=function(ve,Ae,De){ve>>>=0,Ae>>>=0,De||it(ve,Ae,this.length);for(var je=this[ve],St=1,Bt=0;++Bt<Ae&&(St*=256);)je+=this[ve+Bt]*St;return je>=(St*=128)&&(je-=Math.pow(2,8*Ae)),je},ne.prototype.readIntBE=function(ve,Ae,De){ve>>>=0,Ae>>>=0,De||it(ve,Ae,this.length);for(var je=Ae,St=1,Bt=this[ve+--je];je>0&&(St*=256);)Bt+=this[ve+--je]*St;return Bt>=(St*=128)&&(Bt-=Math.pow(2,8*Ae)),Bt},ne.prototype.readInt8=function(ve,Ae){return ve>>>=0,Ae||it(ve,1,this.length),128&this[ve]?-1*(255-this[ve]+1):this[ve]},ne.prototype.readInt16LE=function(ve,Ae){ve>>>=0,Ae||it(ve,2,this.length);var De=this[ve]|this[ve+1]<<8;return 32768&De?4294901760|De:De},ne.prototype.readInt16BE=function(ve,Ae){ve>>>=0,Ae||it(ve,2,this.length);var De=this[ve+1]|this[ve]<<8;return 32768&De?4294901760|De:De},ne.prototype.readInt32LE=function(ve,Ae){return ve>>>=0,Ae||it(ve,4,this.length),this[ve]|this[ve+1]<<8|this[ve+2]<<16|this[ve+3]<<24},ne.prototype.readInt32BE=function(ve,Ae){return ve>>>=0,Ae||it(ve,4,this.length),this[ve]<<24|this[ve+1]<<16|this[ve+2]<<8|this[ve+3]},ne.prototype.readFloatLE=function(ve,Ae){return ve>>>=0,Ae||it(ve,4,this.length),j.read(this,ve,!0,23,4)},ne.prototype.readFloatBE=function(ve,Ae){return ve>>>=0,Ae||it(ve,4,this.length),j.read(this,ve,!1,23,4)},ne.prototype.readDoubleLE=function(ve,Ae){return ve>>>=0,Ae||it(ve,8,this.length),j.read(this,ve,!0,52,8)},ne.prototype.readDoubleBE=function(ve,Ae){return ve>>>=0,Ae||it(ve,8,this.length),j.read(this,ve,!1,52,8)},ne.prototype.writeUIntLE=function(ve,Ae,De,je){ve=+ve,Ae>>>=0,De>>>=0,je||Je(this,ve,Ae,De,Math.pow(2,8*De)-1,0);var St=1,Bt=0;for(this[Ae]=255&ve;++Bt<De&&(St*=256);)this[Ae+Bt]=ve/St&255;return Ae+De},ne.prototype.writeUIntBE=function(ve,Ae,De,je){ve=+ve,Ae>>>=0,De>>>=0,je||Je(this,ve,Ae,De,Math.pow(2,8*De)-1,0);var St=De-1,Bt=1;for(this[Ae+St]=255&ve;--St>=0&&(Bt*=256);)this[Ae+St]=ve/Bt&255;return Ae+De},ne.prototype.writeUInt8=function(ve,Ae,De){return ve=+ve,Ae>>>=0,De||Je(this,ve,Ae,1,255,0),this[Ae]=255&ve,Ae+1},ne.prototype.writeUInt16LE=function(ve,Ae,De){return ve=+ve,Ae>>>=0,De||Je(this,ve,Ae,2,65535,0),this[Ae]=255&ve,this[Ae+1]=ve>>>8,Ae+2},ne.prototype.writeUInt16BE=function(ve,Ae,De){return ve=+ve,Ae>>>=0,De||Je(this,ve,Ae,2,65535,0),this[Ae]=ve>>>8,this[Ae+1]=255&ve,Ae+2},ne.prototype.writeUInt32LE=function(ve,Ae,De){return ve=+ve,Ae>>>=0,De||Je(this,ve,Ae,4,4294967295,0),this[Ae+3]=ve>>>24,this[Ae+2]=ve>>>16,this[Ae+1]=ve>>>8,this[Ae]=255&ve,Ae+4},ne.prototype.writeUInt32BE=function(ve,Ae,De){return ve=+ve,Ae>>>=0,De||Je(this,ve,Ae,4,4294967295,0),this[Ae]=ve>>>24,this[Ae+1]=ve>>>16,this[Ae+2]=ve>>>8,this[Ae+3]=255&ve,Ae+4},ne.prototype.writeIntLE=function(ve,Ae,De,je){if(ve=+ve,Ae>>>=0,!je){var St=Math.pow(2,8*De-1);Je(this,ve,Ae,De,St-1,-St)}var Bt=0,tr=1,ir=0;for(this[Ae]=255&ve;++Bt<De&&(tr*=256);)ve<0&&ir===0&&this[Ae+Bt-1]!==0&&(ir=1),this[Ae+Bt]=(ve/tr|0)-ir&255;return Ae+De},ne.prototype.writeIntBE=function(ve,Ae,De,je){if(ve=+ve,Ae>>>=0,!je){var St=Math.pow(2,8*De-1);Je(this,ve,Ae,De,St-1,-St)}var Bt=De-1,tr=1,ir=0;for(this[Ae+Bt]=255&ve;--Bt>=0&&(tr*=256);)ve<0&&ir===0&&this[Ae+Bt+1]!==0&&(ir=1),this[Ae+Bt]=(ve/tr|0)-ir&255;return Ae+De},ne.prototype.writeInt8=function(ve,Ae,De){return ve=+ve,Ae>>>=0,De||Je(this,ve,Ae,1,127,-128),ve<0&&(ve=255+ve+1),this[Ae]=255&ve,Ae+1},ne.prototype.writeInt16LE=function(ve,Ae,De){return ve=+ve,Ae>>>=0,De||Je(this,ve,Ae,2,32767,-32768),this[Ae]=255&ve,this[Ae+1]=ve>>>8,Ae+2},ne.prototype.writeInt16BE=function(ve,Ae,De){return ve=+ve,Ae>>>=0,De||Je(this,ve,Ae,2,32767,-32768),this[Ae]=ve>>>8,this[Ae+1]=255&ve,Ae+2},ne.prototype.writeInt32LE=function(ve,Ae,De){return ve=+ve,Ae>>>=0,De||Je(this,ve,Ae,4,2147483647,-2147483648),this[Ae]=255&ve,this[Ae+1]=ve>>>8,this[Ae+2]=ve>>>16,this[Ae+3]=ve>>>24,Ae+4},ne.prototype.writeInt32BE=function(ve,Ae,De){return ve=+ve,Ae>>>=0,De||Je(this,ve,Ae,4,2147483647,-2147483648),ve<0&&(ve=4294967295+ve+1),this[Ae]=ve>>>24,this[Ae+1]=ve>>>16,this[Ae+2]=ve>>>8,this[Ae+3]=255&ve,Ae+4},ne.prototype.writeFloatLE=function(ve,Ae,De){return Qe(this,ve,Ae,!0,De)},ne.prototype.writeFloatBE=function(ve,Ae,De){return Qe(this,ve,Ae,!1,De)},ne.prototype.writeDoubleLE=function(ve,Ae,De){return ut(this,ve,Ae,!0,De)},ne.prototype.writeDoubleBE=function(ve,Ae,De){return ut(this,ve,Ae,!1,De)},ne.prototype.copy=function(ve,Ae,De,je){if(!ne.isBuffer(ve))throw new TypeError("argument should be a Buffer");if(De||(De=0),je||je===0||(je=this.length),Ae>=ve.length&&(Ae=ve.length),Ae||(Ae=0),je>0&&je<De&&(je=De),je===De||ve.length===0||this.length===0)return 0;if(Ae<0)throw new RangeError("targetStart out of bounds");if(De<0||De>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),ve.length-Ae<je-De&&(je=ve.length-Ae+De);var St=je-De;if(this===ve&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(Ae,De,je);else if(this===ve&&De<Ae&&Ae<je)for(var Bt=St-1;Bt>=0;--Bt)ve[Bt+Ae]=this[Bt+De];else Uint8Array.prototype.set.call(ve,this.subarray(De,je),Ae);return St},ne.prototype.fill=function(ve,Ae,De,je){if(typeof ve=="string"){if(typeof Ae=="string"?(je=Ae,Ae=0,De=this.length):typeof De=="string"&&(je=De,De=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!ne.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(ve.length===1){var St=ve.charCodeAt(0);(je==="utf8"&&St<128||je==="latin1")&&(ve=St)}}else typeof ve=="number"&&(ve&=255);if(Ae<0||this.length<Ae||this.length<De)throw new RangeError("Out of range index");if(De<=Ae)return this;var Bt;if(Ae>>>=0,De=De===void 0?this.length:De>>>0,ve||(ve=0),typeof ve=="number")for(Bt=Ae;Bt<De;++Bt)this[Bt]=ve;else{var tr=ne.isBuffer(ve)?ve:ne.from(ve,je),ir=tr.length;if(ir===0)throw new TypeError('The value "'+ve+'" is invalid for argument "value"');for(Bt=0;Bt<De-Ae;++Bt)this[Bt+Ae]=tr[Bt%ir]}return this};var dt=/[^+/0-9A-Za-z-_]/g;function kt(ve){if((ve=(ve=ve.split("=")[0]).trim().replace(dt,"")).length<2)return"";for(;ve.length%4!=0;)ve+="=";return ve}function Xe(ve){return ve<16?"0"+ve.toString(16):ve.toString(16)}function xe(ve,Ae){var De;Ae=Ae||1/0;for(var je=ve.length,St=null,Bt=[],tr=0;tr<je;++tr){if((De=ve.charCodeAt(tr))>55295&&De<57344){if(!St){if(De>56319){(Ae-=3)>-1&&Bt.push(239,191,189);continue}if(tr+1===je){(Ae-=3)>-1&&Bt.push(239,191,189);continue}St=De;continue}if(De<56320){(Ae-=3)>-1&&Bt.push(239,191,189),St=De;continue}De=65536+(St-55296<<10|De-56320)}else St&&(Ae-=3)>-1&&Bt.push(239,191,189);if(St=null,De<128){if((Ae-=1)<0)break;Bt.push(De)}else if(De<2048){if((Ae-=2)<0)break;Bt.push(De>>6|192,63&De|128)}else if(De<65536){if((Ae-=3)<0)break;Bt.push(De>>12|224,De>>6&63|128,63&De|128)}else{if(!(De<1114112))throw new Error("Invalid code point");if((Ae-=4)<0)break;Bt.push(De>>18|240,De>>12&63|128,De>>6&63|128,63&De|128)}}return Bt}function qe(ve){for(var Ae=[],De=0;De<ve.length;++De)Ae.push(255&ve.charCodeAt(De));return Ae}function ze(ve,Ae){for(var De,je,St,Bt=[],tr=0;tr<ve.length&&!((Ae-=2)<0);++tr)je=(De=ve.charCodeAt(tr))>>8,St=De%256,Bt.push(St),Bt.push(je);return Bt}function Oe(ve){return D.toByteArray(kt(ve))}function Fe(ve,Ae,De,je){for(var St=0;St<je&&!(St+De>=Ae.length||St>=ve.length);++St)Ae[St+De]=ve[St];return St}function Ze(ve,Ae){return ve instanceof Ae||ve!=null&&ve.constructor!=null&&ve.constructor.name!=null&&ve.constructor.name===Ae.name}function et(ve){return ve!=ve}}).call(this)}).call(this,d("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(d,m,g){var w=d("get-intrinsic"),D=d("./"),j=D(w("String.prototype.indexOf"));m.exports=function(q,te){var re=w(q,!!te);return typeof re=="function"&&j(q,".prototype.")>-1?D(re):re}},{"./":34,"get-intrinsic":39}],34:[function(d,m,g){var w=d("function-bind"),D=d("get-intrinsic"),j=D("%Function.prototype.apply%"),q=D("%Function.prototype.call%"),te=D("%Reflect.apply%",!0)||w.call(q,j),re=D("%Object.getOwnPropertyDescriptor%",!0),ne=D("%Object.defineProperty%",!0),ie=D("%Math.max%");if(ne)try{ne({},"a",{value:1})}catch{ne=null}m.exports=function(se){var le=te(w,q,arguments);return re&&ne&&re(le,"length").configurable&&ne(le,"length",{value:1+ie(0,se.length-(arguments.length-1))}),le};var ae=function(){return te(w,j,arguments)};ne?ne(m.exports,"apply",{value:ae}):m.exports.apply=ae},{"function-bind":38,"get-intrinsic":39}],35:[function(d,m,g){var w,D=typeof Reflect=="object"?Reflect:null,j=D&&typeof D.apply=="function"?D.apply:function(ye,Se,we){return Function.prototype.apply.call(ye,Se,we)};function q(ye){console&&console.warn&&console.warn(ye)}w=D&&typeof D.ownKeys=="function"?D.ownKeys:Object.getOwnPropertySymbols?function(ye){return Object.getOwnPropertyNames(ye).concat(Object.getOwnPropertySymbols(ye))}:function(ye){return Object.getOwnPropertyNames(ye)};var te=Number.isNaN||function(ye){return ye!=ye};function re(){re.init.call(this)}m.exports=re,m.exports.once=ge,re.EventEmitter=re,re.prototype._events=void 0,re.prototype._eventsCount=0,re.prototype._maxListeners=void 0;var ne=10;function ie(ye){if(typeof ye!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ye)}function ae(ye){return ye._maxListeners===void 0?re.defaultMaxListeners:ye._maxListeners}function se(ye,Se,we,Te){var _e,Ie,Le;if(ie(we),(Ie=ye._events)===void 0?(Ie=ye._events=Object.create(null),ye._eventsCount=0):(Ie.newListener!==void 0&&(ye.emit("newListener",Se,we.listener?we.listener:we),Ie=ye._events),Le=Ie[Se]),Le===void 0)Le=Ie[Se]=we,++ye._eventsCount;else if(typeof Le=="function"?Le=Ie[Se]=Te?[we,Le]:[Le,we]:Te?Le.unshift(we):Le.push(we),(_e=ae(ye))>0&&Le.length>_e&&!Le.warned){Le.warned=!0;var Be=new Error("Possible EventEmitter memory leak detected. "+Le.length+" "+String(Se)+" listeners added. Use emitter.setMaxListeners() to increase limit");Be.name="MaxListenersExceededWarning",Be.emitter=ye,Be.type=Se,Be.count=Le.length,q(Be)}return ye}function le(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ue(ye,Se,we){var Te={fired:!1,wrapFn:void 0,target:ye,type:Se,listener:we},_e=le.bind(Te);return _e.listener=we,Te.wrapFn=_e,_e}function ce(ye,Se,we){var Te=ye._events;if(Te===void 0)return[];var _e=Te[Se];return _e===void 0?[]:typeof _e=="function"?we?[_e.listener||_e]:[_e]:we?me(_e):he(_e,_e.length)}function de(ye){var Se=this._events;if(Se!==void 0){var we=Se[ye];if(typeof we=="function")return 1;if(we!==void 0)return we.length}return 0}function he(ye,Se){for(var we=new Array(Se),Te=0;Te<Se;++Te)we[Te]=ye[Te];return we}function pe(ye,Se){for(;Se+1<ye.length;Se++)ye[Se]=ye[Se+1];ye.pop()}function me(ye){for(var Se=new Array(ye.length),we=0;we<Se.length;++we)Se[we]=ye[we].listener||ye[we];return Se}function ge(ye,Se){return new Promise(function(we,Te){function _e(Le){ye.removeListener(Se,Ie),Te(Le)}function Ie(){typeof ye.removeListener=="function"&&ye.removeListener("error",_e),we([].slice.call(arguments))}ke(ye,Se,Ie,{once:!0}),Se!=="error"&&be(ye,_e,{once:!0})})}function be(ye,Se,we){typeof ye.on=="function"&&ke(ye,"error",Se,we)}function ke(ye,Se,we,Te){if(typeof ye.on=="function")Te.once?ye.once(Se,we):ye.on(Se,we);else{if(typeof ye.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ye);ye.addEventListener(Se,function _e(Ie){Te.once&&ye.removeEventListener(Se,_e),we(Ie)})}}Object.defineProperty(re,"defaultMaxListeners",{enumerable:!0,get:function(){return ne},set:function(ye){if(typeof ye!="number"||ye<0||te(ye))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ye+".");ne=ye}}),re.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},re.prototype.setMaxListeners=function(ye){if(typeof ye!="number"||ye<0||te(ye))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ye+".");return this._maxListeners=ye,this},re.prototype.getMaxListeners=function(){return ae(this)},re.prototype.emit=function(ye){for(var Se=[],we=1;we<arguments.length;we++)Se.push(arguments[we]);var Te=ye==="error",_e=this._events;if(_e!==void 0)Te=Te&&_e.error===void 0;else if(!Te)return!1;if(Te){var Ie;if(Se.length>0&&(Ie=Se[0]),Ie instanceof Error)throw Ie;var Le=new Error("Unhandled error."+(Ie?" ("+Ie.message+")":""));throw Le.context=Ie,Le}var Be=_e[ye];if(Be===void 0)return!1;if(typeof Be=="function")j(Be,this,Se);else{var Me=Be.length,Ne=he(Be,Me);for(we=0;we<Me;++we)j(Ne[we],this,Se)}return!0},re.prototype.addListener=function(ye,Se){return se(this,ye,Se,!1)},re.prototype.on=re.prototype.addListener,re.prototype.prependListener=function(ye,Se){return se(this,ye,Se,!0)},re.prototype.once=function(ye,Se){return ie(Se),this.on(ye,ue(this,ye,Se)),this},re.prototype.prependOnceListener=function(ye,Se){return ie(Se),this.prependListener(ye,ue(this,ye,Se)),this},re.prototype.removeListener=function(ye,Se){var we,Te,_e,Ie,Le;if(ie(Se),(Te=this._events)===void 0)return this;if((we=Te[ye])===void 0)return this;if(we===Se||we.listener===Se)--this._eventsCount==0?this._events=Object.create(null):(delete Te[ye],Te.removeListener&&this.emit("removeListener",ye,we.listener||Se));else if(typeof we!="function"){for(_e=-1,Ie=we.length-1;Ie>=0;Ie--)if(we[Ie]===Se||we[Ie].listener===Se){Le=we[Ie].listener,_e=Ie;break}if(_e<0)return this;_e===0?we.shift():pe(we,_e),we.length===1&&(Te[ye]=we[0]),Te.removeListener!==void 0&&this.emit("removeListener",ye,Le||Se)}return this},re.prototype.off=re.prototype.removeListener,re.prototype.removeAllListeners=function(ye){var Se,we,Te;if((we=this._events)===void 0)return this;if(we.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):we[ye]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete we[ye]),this;if(arguments.length===0){var _e,Ie=Object.keys(we);for(Te=0;Te<Ie.length;++Te)(_e=Ie[Te])!=="removeListener"&&this.removeAllListeners(_e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Se=we[ye])=="function")this.removeListener(ye,Se);else if(Se!==void 0)for(Te=Se.length-1;Te>=0;Te--)this.removeListener(ye,Se[Te]);return this},re.prototype.listeners=function(ye){return ce(this,ye,!0)},re.prototype.rawListeners=function(ye){return ce(this,ye,!1)},re.listenerCount=function(ye,Se){return typeof ye.listenerCount=="function"?ye.listenerCount(Se):de.call(ye,Se)},re.prototype.listenerCount=de,re.prototype.eventNames=function(){return this._eventsCount>0?w(this._events):[]}},{}],36:[function(d,m,g){var w=d("is-callable"),D=Object.prototype.toString,j=Object.prototype.hasOwnProperty,q=function(ie,ae,se){for(var le=0,ue=ie.length;le<ue;le++)j.call(ie,le)&&(se==null?ae(ie[le],le,ie):ae.call(se,ie[le],le,ie))},te=function(ie,ae,se){for(var le=0,ue=ie.length;le<ue;le++)se==null?ae(ie.charAt(le),le,ie):ae.call(se,ie.charAt(le),le,ie)},re=function(ie,ae,se){for(var le in ie)j.call(ie,le)&&(se==null?ae(ie[le],le,ie):ae.call(se,ie[le],le,ie))},ne=function(ie,ae,se){if(!w(ae))throw new TypeError("iterator must be a function");var le;arguments.length>=3&&(le=se),D.call(ie)==="[object Array]"?q(ie,ae,le):typeof ie=="string"?te(ie,ae,le):re(ie,ae,le)};m.exports=ne},{"is-callable":48}],37:[function(d,m,g){var w="Function.prototype.bind called on incompatible ",D=Array.prototype.slice,j=Object.prototype.toString,q="[object Function]";m.exports=function(te){var re=this;if(typeof re!="function"||j.call(re)!==q)throw new TypeError(w+re);for(var ne,ie=D.call(arguments,1),ae=function(){if(this instanceof ne){var de=re.apply(this,ie.concat(D.call(arguments)));return Object(de)===de?de:this}return re.apply(te,ie.concat(D.call(arguments)))},se=Math.max(0,re.length-ie.length),le=[],ue=0;ue<se;ue++)le.push("$"+ue);if(ne=Function("binder","return function ("+le.join(",")+"){ return binder.apply(this,arguments); }")(ae),re.prototype){var ce=function(){};ce.prototype=re.prototype,ne.prototype=new ce,ce.prototype=null}return ne}},{}],38:[function(d,m,g){var w=d("./implementation");m.exports=Function.prototype.bind||w},{"./implementation":37}],39:[function(d,m,g){var w,D=SyntaxError,j=Function,q=TypeError,te=function(Be){try{return j('"use strict"; return ('+Be+").constructor;")()}catch{}},re=Object.getOwnPropertyDescriptor;if(re)try{re({},"")}catch{re=null}var ne=function(){throw new q},ie=re?function(){try{return ne}catch{try{return re(arguments,"callee").get}catch{return ne}}}():ne,ae=d("has-symbols")(),se=Object.getPrototypeOf||function(Be){return Be.__proto__},le={},ue=typeof Uint8Array>"u"?w:se(Uint8Array),ce={"%AggregateError%":typeof AggregateError>"u"?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?w:ArrayBuffer,"%ArrayIteratorPrototype%":ae?se([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":le,"%AsyncGenerator%":le,"%AsyncGeneratorFunction%":le,"%AsyncIteratorPrototype%":le,"%Atomics%":typeof Atomics>"u"?w:Atomics,"%BigInt%":typeof BigInt>"u"?w:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?w:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?w:Float32Array,"%Float64Array%":typeof Float64Array>"u"?w:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?w:FinalizationRegistry,"%Function%":j,"%GeneratorFunction%":le,"%Int8Array%":typeof Int8Array>"u"?w:Int8Array,"%Int16Array%":typeof Int16Array>"u"?w:Int16Array,"%Int32Array%":typeof Int32Array>"u"?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ae?se(se([][Symbol.iterator]())):w,"%JSON%":typeof JSON=="object"?JSON:w,"%Map%":typeof Map>"u"?w:Map,"%MapIteratorPrototype%":typeof Map<"u"&&ae?se(new Map()[Symbol.iterator]()):w,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?w:Promise,"%Proxy%":typeof Proxy>"u"?w:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?w:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?w:Set,"%SetIteratorPrototype%":typeof Set<"u"&&ae?se(new Set()[Symbol.iterator]()):w,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ae?se(""[Symbol.iterator]()):w,"%Symbol%":ae?Symbol:w,"%SyntaxError%":D,"%ThrowTypeError%":ie,"%TypedArray%":ue,"%TypeError%":q,"%Uint8Array%":typeof Uint8Array>"u"?w:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?w:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?w:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?w:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?w:WeakMap,"%WeakRef%":typeof WeakRef>"u"?w:WeakRef,"%WeakSet%":typeof WeakSet>"u"?w:WeakSet};try{null.error}catch(Be){var de=se(se(Be));ce["%Error.prototype%"]=de}var he=function Be(Me){var Ne;if(Me==="%AsyncFunction%")Ne=te("async function () {}");else if(Me==="%GeneratorFunction%")Ne=te("function* () {}");else if(Me==="%AsyncGeneratorFunction%")Ne=te("async function* () {}");else if(Me==="%AsyncGenerator%"){var Ye=Be("%AsyncGeneratorFunction%");Ye&&(Ne=Ye.prototype)}else if(Me==="%AsyncIteratorPrototype%"){var Ue=Be("%AsyncGenerator%");Ue&&(Ne=se(Ue.prototype))}return ce[Me]=Ne,Ne},pe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},me=d("function-bind"),ge=d("has"),be=me.call(Function.call,Array.prototype.concat),ke=me.call(Function.apply,Array.prototype.splice),ye=me.call(Function.call,String.prototype.replace),Se=me.call(Function.call,String.prototype.slice),we=me.call(Function.call,RegExp.prototype.exec),Te=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_e=/\\(\\)?/g,Ie=function(Be){var Me=Se(Be,0,1),Ne=Se(Be,-1);if(Me==="%"&&Ne!=="%")throw new D("invalid intrinsic syntax, expected closing `%`");if(Ne==="%"&&Me!=="%")throw new D("invalid intrinsic syntax, expected opening `%`");var Ye=[];return ye(Be,Te,function(Ue,$e,Ke,Pe){Ye[Ye.length]=Ke?ye(Pe,_e,"$1"):$e||Ue}),Ye},Le=function(Be,Me){var Ne,Ye=Be;if(ge(pe,Ye)&&(Ye="%"+(Ne=pe[Ye])[0]+"%"),ge(ce,Ye)){var Ue=ce[Ye];if(Ue===le&&(Ue=he(Ye)),Ue===void 0&&!Me)throw new q("intrinsic "+Be+" exists, but is not available. Please file an issue!");return{alias:Ne,name:Ye,value:Ue}}throw new D("intrinsic "+Be+" does not exist!")};m.exports=function(Be,Me){if(typeof Be!="string"||Be.length===0)throw new q("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Me!="boolean")throw new q('"allowMissing" argument must be a boolean');if(we(/^%?[^%]*%?$/,Be)===null)throw new D("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ne=Ie(Be),Ye=Ne.length>0?Ne[0]:"",Ue=Le("%"+Ye+"%",Me),$e=Ue.name,Ke=Ue.value,Pe=!1,He=Ue.alias;He&&(Ye=He[0],ke(Ne,be([0,1],He)));for(var it=1,Je=!0;it<Ne.length;it+=1){var Ge=Ne[it],Qe=Se(Ge,0,1),ut=Se(Ge,-1);if((Qe==='"'||Qe==="'"||Qe==="`"||ut==='"'||ut==="'"||ut==="`")&&Qe!==ut)throw new D("property names with quotes must have matching quotes");if(Ge!=="constructor"&&Je||(Pe=!0),ge(ce,$e="%"+(Ye+="."+Ge)+"%"))Ke=ce[$e];else if(Ke!=null){if(!(Ge in Ke)){if(!Me)throw new q("base intrinsic for "+Be+" exists, but the property is not available.");return}if(re&&it+1>=Ne.length){var dt=re(Ke,Ge);Ke=(Je=!!dt)&&"get"in dt&&!("originalValue"in dt.get)?dt.get:Ke[Ge]}else Je=ge(Ke,Ge),Ke=Ke[Ge];Je&&!Pe&&(ce[$e]=Ke)}}return Ke}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(d,m,g){var w=d("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(w)try{w([],"length")}catch{w=null}m.exports=w},{"get-intrinsic":39}],41:[function(d,m,g){var w=typeof Symbol<"u"&&Symbol,D=d("./shams");m.exports=function(){return typeof w=="function"&&typeof Symbol=="function"&&typeof w("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&D()}},{"./shams":42}],42:[function(d,m,g){m.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var w={},D=Symbol("test"),j=Object(D);if(typeof D=="string"||Object.prototype.toString.call(D)!=="[object Symbol]"||Object.prototype.toString.call(j)!=="[object Symbol]")return!1;var q=42;for(D in w[D]=q,w)return!1;if(typeof Object.keys=="function"&&Object.keys(w).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(w).length!==0)return!1;var te=Object.getOwnPropertySymbols(w);if(te.length!==1||te[0]!==D||!Object.prototype.propertyIsEnumerable.call(w,D))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var re=Object.getOwnPropertyDescriptor(w,D);if(re.value!==q||re.enumerable!==!0)return!1}return!0}},{}],43:[function(d,m,g){var w=d("has-symbols/shams");m.exports=function(){return w()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(d,m,g){var w=d("function-bind");m.exports=w.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(d,m,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(w,D,j,q,te){var re,ne,ie=8*te-q-1,ae=(1<<ie)-1,se=ae>>1,le=-7,ue=j?te-1:0,ce=j?-1:1,de=w[D+ue];for(ue+=ce,re=de&(1<<-le)-1,de>>=-le,le+=ie;le>0;re=256*re+w[D+ue],ue+=ce,le-=8);for(ne=re&(1<<-le)-1,re>>=-le,le+=q;le>0;ne=256*ne+w[D+ue],ue+=ce,le-=8);if(re===0)re=1-se;else{if(re===ae)return ne?NaN:1/0*(de?-1:1);ne+=Math.pow(2,q),re-=se}return(de?-1:1)*ne*Math.pow(2,re-q)},g.write=function(w,D,j,q,te,re){var ne,ie,ae,se=8*re-te-1,le=(1<<se)-1,ue=le>>1,ce=te===23?Math.pow(2,-24)-Math.pow(2,-77):0,de=q?0:re-1,he=q?1:-1,pe=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(ie=isNaN(D)?1:0,ne=le):(ne=Math.floor(Math.log(D)/Math.LN2),D*(ae=Math.pow(2,-ne))<1&&(ne--,ae*=2),(D+=ne+ue>=1?ce/ae:ce*Math.pow(2,1-ue))*ae>=2&&(ne++,ae/=2),ne+ue>=le?(ie=0,ne=le):ne+ue>=1?(ie=(D*ae-1)*Math.pow(2,te),ne+=ue):(ie=D*Math.pow(2,ue-1)*Math.pow(2,te),ne=0));te>=8;w[j+de]=255&ie,de+=he,ie/=256,te-=8);for(ne=ne<<te|ie,se+=te;se>0;w[j+de]=255&ne,de+=he,ne/=256,se-=8);w[j+de-he]|=128*pe}},{}],46:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,D){D&&(w.super_=D,w.prototype=Object.create(D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:m.exports=function(w,D){if(D){w.super_=D;var j=function(){};j.prototype=D.prototype,w.prototype=new j,w.prototype.constructor=w}}},{}],47:[function(d,m,g){var w=d("has-tostringtag/shams")(),D=d("call-bind/callBound")("Object.prototype.toString"),j=function(re){return!(w&&re&&typeof re=="object"&&Symbol.toStringTag in re)&&D(re)==="[object Arguments]"},q=function(re){return!!j(re)||re!==null&&typeof re=="object"&&typeof re.length=="number"&&re.length>=0&&D(re)!=="[object Array]"&&D(re.callee)==="[object Function]"},te=function(){return j(arguments)}();j.isLegacyArguments=q,m.exports=te?j:q},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(d,m,g){var w,D,j=Function.prototype.toString,q=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof q=="function"&&typeof Object.defineProperty=="function")try{w=Object.defineProperty({},"length",{get:function(){throw D}}),D={},q(function(){throw 42},null,w)}catch(be){be!==D&&(q=null)}else q=null;var te=/^\s*class\b/,re=function(be){try{var ke=j.call(be);return te.test(ke)}catch{return!1}},ne=function(be){try{return!re(be)&&(j.call(be),!0)}catch{return!1}},ie=Object.prototype.toString,ae="[object Object]",se="[object Function]",le="[object GeneratorFunction]",ue="[object HTMLAllCollection]",ce="[object HTML document.all class]",de="[object HTMLCollection]",he=typeof Symbol=="function"&&!!Symbol.toStringTag,pe=!(0 in[,]),me=function(){return!1};if(typeof document=="object"){var ge=document.all;ie.call(ge)===ie.call(document.all)&&(me=function(be){if((pe||!be)&&(be===void 0||typeof be=="object"))try{var ke=ie.call(be);return(ke===ue||ke===ce||ke===de||ke===ae)&&be("")==null}catch{}return!1})}m.exports=q?function(be){if(me(be))return!0;if(!be||typeof be!="function"&&typeof be!="object")return!1;try{q(be,null,w)}catch(ke){if(ke!==D)return!1}return!re(be)&&ne(be)}:function(be){if(me(be))return!0;if(!be||typeof be!="function"&&typeof be!="object")return!1;if(he)return ne(be);if(re(be))return!1;var ke=ie.call(be);return!(ke!==se&&ke!==le&&!/^\[object HTML/.test(ke))&&ne(be)}},{}],49:[function(d,m,g){var w,D=Object.prototype.toString,j=Function.prototype.toString,q=/^\s*(?:function)?\*/,te=d("has-tostringtag/shams")(),re=Object.getPrototypeOf,ne=function(){if(!te)return!1;try{return Function("return function*() {}")()}catch{}};m.exports=function(ie){if(typeof ie!="function")return!1;if(q.test(j.call(ie)))return!0;if(!te)return D.call(ie)==="[object GeneratorFunction]";if(!re)return!1;if(w===void 0){var ae=ne();w=!!ae&&re(ae)}return re(ie)===w}},{"has-tostringtag/shams":43}],50:[function(d,m,g){(function(w){(function(){var D=d("for-each"),j=d("available-typed-arrays"),q=d("call-bind/callBound"),te=q("Object.prototype.toString"),re=d("has-tostringtag/shams")(),ne=d("gopd"),ie=typeof globalThis>"u"?w:globalThis,ae=j(),se=q("Array.prototype.indexOf",!0)||function(he,pe){for(var me=0;me<he.length;me+=1)if(he[me]===pe)return me;return-1},le=q("String.prototype.slice"),ue={},ce=Object.getPrototypeOf;re&&ne&&ce&&D(ae,function(he){var pe=new ie[he];if(Symbol.toStringTag in pe){var me=ce(pe),ge=ne(me,Symbol.toStringTag);if(!ge){var be=ce(me);ge=ne(be,Symbol.toStringTag)}ue[he]=ge.get}});var de=function(he){var pe=!1;return D(ue,function(me,ge){if(!pe)try{pe=me.call(he)===ge}catch{}}),pe};m.exports=function(he){if(!he||typeof he!="object")return!1;if(!re||!(Symbol.toStringTag in he)){var pe=le(te(he),8,-1);return se(ae,pe)>-1}return!!ne&&de(he)}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(d,m,g){var w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;function q(re){if(re==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(re)}function te(){try{if(!Object.assign)return!1;var re=new String("abc");if(re[5]="de",Object.getOwnPropertyNames(re)[0]==="5")return!1;for(var ne={},ie=0;ie<10;ie++)ne["_"+String.fromCharCode(ie)]=ie;var ae=Object.getOwnPropertyNames(ne).map(function(le){return ne[le]});if(ae.join("")!=="0123456789")return!1;var se={};return"abcdefghijklmnopqrst".split("").forEach(function(le){se[le]=le}),Object.keys(Object.assign({},se)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}m.exports=te()?Object.assign:function(re,ne){for(var ie,ae,se=q(re),le=1;le<arguments.length;le++){for(var ue in ie=Object(arguments[le]))D.call(ie,ue)&&(se[ue]=ie[ue]);if(w){ae=w(ie);for(var ce=0;ce<ae.length;ce++)j.call(ie,ae[ce])&&(se[ae[ce]]=ie[ae[ce]])}}return se}},{}],52:[function(d,m,g){var w=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function D(te,re){return Object.prototype.hasOwnProperty.call(te,re)}g.assign=function(te){for(var re=Array.prototype.slice.call(arguments,1);re.length;){var ne=re.shift();if(ne){if(typeof ne!="object")throw new TypeError(ne+"must be non-object");for(var ie in ne)D(ne,ie)&&(te[ie]=ne[ie])}}return te},g.shrinkBuf=function(te,re){return te.length===re?te:te.subarray?te.subarray(0,re):(te.length=re,te)};var j={arraySet:function(te,re,ne,ie,ae){if(re.subarray&&te.subarray)te.set(re.subarray(ne,ne+ie),ae);else for(var se=0;se<ie;se++)te[ae+se]=re[ne+se]},flattenChunks:function(te){var re,ne,ie,ae,se,le;for(ie=0,re=0,ne=te.length;re<ne;re++)ie+=te[re].length;for(le=new Uint8Array(ie),ae=0,re=0,ne=te.length;re<ne;re++)se=te[re],le.set(se,ae),ae+=se.length;return le}},q={arraySet:function(te,re,ne,ie,ae){for(var se=0;se<ie;se++)te[ae+se]=re[ne+se]},flattenChunks:function(te){return[].concat.apply([],te)}};g.setTyped=function(te){te?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,j)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,q))},g.setTyped(w)},{}],53:[function(d,m,g){function w(D,j,q,te){for(var re=65535&D,ne=D>>>16&65535,ie=0;q!==0;){q-=ie=q>2e3?2e3:q;do ne=ne+(re=re+j[te++]|0)|0;while(--ie);re%=65521,ne%=65521}return re|ne<<16}m.exports=w},{}],54:[function(d,m,g){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(d,m,g){function w(){for(var q,te=[],re=0;re<256;re++){q=re;for(var ne=0;ne<8;ne++)q=1&q?3988292384^q>>>1:q>>>1;te[re]=q}return te}var D=w();function j(q,te,re,ne){var ie=D,ae=ne+re;q^=-1;for(var se=ne;se<ae;se++)q=q>>>8^ie[255&(q^te[se])];return~q}m.exports=j},{}],56:[function(d,m,g){var w,D=d("../utils/common"),j=d("./trees"),q=d("./adler32"),te=d("./crc32"),re=d("./messages"),ne=0,ie=1,ae=3,se=4,le=5,ue=0,ce=1,de=-2,he=-3,pe=-5,me=-1,ge=1,be=2,ke=3,ye=4,Se=0,we=2,Te=8,_e=9,Ie=15,Le=8,Be=286,Me=30,Ne=19,Ye=2*Be+1,Ue=15,$e=3,Ke=258,Pe=Ke+$e+1,He=32,it=42,Je=69,Ge=73,Qe=91,ut=103,dt=113,kt=666,Xe=1,xe=2,qe=3,ze=4,Oe=3;function Fe(Ce,Zt){return Ce.msg=re[Zt],Zt}function Ze(Ce){return(Ce<<1)-(Ce>4?9:0)}function et(Ce){for(var Zt=Ce.length;--Zt>=0;)Ce[Zt]=0}function ve(Ce){var Zt=Ce.state,zt=Zt.pending;zt>Ce.avail_out&&(zt=Ce.avail_out),zt!==0&&(D.arraySet(Ce.output,Zt.pending_buf,Zt.pending_out,zt,Ce.next_out),Ce.next_out+=zt,Zt.pending_out+=zt,Ce.total_out+=zt,Ce.avail_out-=zt,Zt.pending-=zt,Zt.pending===0&&(Zt.pending_out=0))}function Ae(Ce,Zt){j._tr_flush_block(Ce,Ce.block_start>=0?Ce.block_start:-1,Ce.strstart-Ce.block_start,Zt),Ce.block_start=Ce.strstart,ve(Ce.strm)}function De(Ce,Zt){Ce.pending_buf[Ce.pending++]=Zt}function je(Ce,Zt){Ce.pending_buf[Ce.pending++]=Zt>>>8&255,Ce.pending_buf[Ce.pending++]=255&Zt}function St(Ce,Zt,zt,ft){var $t=Ce.avail_in;return $t>ft&&($t=ft),$t===0?0:(Ce.avail_in-=$t,D.arraySet(Zt,Ce.input,Ce.next_in,$t,zt),Ce.state.wrap===1?Ce.adler=q(Ce.adler,Zt,$t,zt):Ce.state.wrap===2&&(Ce.adler=te(Ce.adler,Zt,$t,zt)),Ce.next_in+=$t,Ce.total_in+=$t,$t)}function Bt(Ce,Zt){var zt,ft,$t=Ce.max_chain_length,Ut=Ce.strstart,_r=Ce.prev_length,cr=Ce.nice_match,pr=Ce.strstart>Ce.w_size-Pe?Ce.strstart-(Ce.w_size-Pe):0,Ir=Ce.window,Xr=Ce.w_mask,Cr=Ce.prev,zr=Ce.strstart+Ke,Br=Ir[Ut+_r-1],Fr=Ir[Ut+_r];Ce.prev_length>=Ce.good_match&&($t>>=2),cr>Ce.lookahead&&(cr=Ce.lookahead);do if(Ir[(zt=Zt)+_r]===Fr&&Ir[zt+_r-1]===Br&&Ir[zt]===Ir[Ut]&&Ir[++zt]===Ir[Ut+1]){Ut+=2,zt++;do;while(Ir[++Ut]===Ir[++zt]&&Ir[++Ut]===Ir[++zt]&&Ir[++Ut]===Ir[++zt]&&Ir[++Ut]===Ir[++zt]&&Ir[++Ut]===Ir[++zt]&&Ir[++Ut]===Ir[++zt]&&Ir[++Ut]===Ir[++zt]&&Ir[++Ut]===Ir[++zt]&&Ut<zr);if(ft=Ke-(zr-Ut),Ut=zr-Ke,ft>_r){if(Ce.match_start=Zt,_r=ft,ft>=cr)break;Br=Ir[Ut+_r-1],Fr=Ir[Ut+_r]}}while((Zt=Cr[Zt&Xr])>pr&&--$t!=0);return _r<=Ce.lookahead?_r:Ce.lookahead}function tr(Ce){var Zt,zt,ft,$t,Ut,_r=Ce.w_size;do{if($t=Ce.window_size-Ce.lookahead-Ce.strstart,Ce.strstart>=_r+(_r-Pe)){D.arraySet(Ce.window,Ce.window,_r,_r,0),Ce.match_start-=_r,Ce.strstart-=_r,Ce.block_start-=_r,Zt=zt=Ce.hash_size;do ft=Ce.head[--Zt],Ce.head[Zt]=ft>=_r?ft-_r:0;while(--zt);Zt=zt=_r;do ft=Ce.prev[--Zt],Ce.prev[Zt]=ft>=_r?ft-_r:0;while(--zt);$t+=_r}if(Ce.strm.avail_in===0)break;if(zt=St(Ce.strm,Ce.window,Ce.strstart+Ce.lookahead,$t),Ce.lookahead+=zt,Ce.lookahead+Ce.insert>=$e)for(Ut=Ce.strstart-Ce.insert,Ce.ins_h=Ce.window[Ut],Ce.ins_h=(Ce.ins_h<<Ce.hash_shift^Ce.window[Ut+1])&Ce.hash_mask;Ce.insert&&(Ce.ins_h=(Ce.ins_h<<Ce.hash_shift^Ce.window[Ut+$e-1])&Ce.hash_mask,Ce.prev[Ut&Ce.w_mask]=Ce.head[Ce.ins_h],Ce.head[Ce.ins_h]=Ut,Ut++,Ce.insert--,!(Ce.lookahead+Ce.insert<$e)););}while(Ce.lookahead<Pe&&Ce.strm.avail_in!==0)}function ir(Ce,Zt){var zt=65535;for(zt>Ce.pending_buf_size-5&&(zt=Ce.pending_buf_size-5);;){if(Ce.lookahead<=1){if(tr(Ce),Ce.lookahead===0&&Zt===ne)return Xe;if(Ce.lookahead===0)break}Ce.strstart+=Ce.lookahead,Ce.lookahead=0;var ft=Ce.block_start+zt;if((Ce.strstart===0||Ce.strstart>=ft)&&(Ce.lookahead=Ce.strstart-ft,Ce.strstart=ft,Ae(Ce,!1),Ce.strm.avail_out===0)||Ce.strstart-Ce.block_start>=Ce.w_size-Pe&&(Ae(Ce,!1),Ce.strm.avail_out===0))return Xe}return Ce.insert=0,Zt===se?(Ae(Ce,!0),Ce.strm.avail_out===0?qe:ze):(Ce.strstart>Ce.block_start&&(Ae(Ce,!1),Ce.strm.avail_out),Xe)}function Yt(Ce,Zt){for(var zt,ft;;){if(Ce.lookahead<Pe){if(tr(Ce),Ce.lookahead<Pe&&Zt===ne)return Xe;if(Ce.lookahead===0)break}if(zt=0,Ce.lookahead>=$e&&(Ce.ins_h=(Ce.ins_h<<Ce.hash_shift^Ce.window[Ce.strstart+$e-1])&Ce.hash_mask,zt=Ce.prev[Ce.strstart&Ce.w_mask]=Ce.head[Ce.ins_h],Ce.head[Ce.ins_h]=Ce.strstart),zt!==0&&Ce.strstart-zt<=Ce.w_size-Pe&&(Ce.match_length=Bt(Ce,zt)),Ce.match_length>=$e)if(ft=j._tr_tally(Ce,Ce.strstart-Ce.match_start,Ce.match_length-$e),Ce.lookahead-=Ce.match_length,Ce.match_length<=Ce.max_lazy_match&&Ce.lookahead>=$e){Ce.match_length--;do Ce.strstart++,Ce.ins_h=(Ce.ins_h<<Ce.hash_shift^Ce.window[Ce.strstart+$e-1])&Ce.hash_mask,zt=Ce.prev[Ce.strstart&Ce.w_mask]=Ce.head[Ce.ins_h],Ce.head[Ce.ins_h]=Ce.strstart;while(--Ce.match_length!=0);Ce.strstart++}else Ce.strstart+=Ce.match_length,Ce.match_length=0,Ce.ins_h=Ce.window[Ce.strstart],Ce.ins_h=(Ce.ins_h<<Ce.hash_shift^Ce.window[Ce.strstart+1])&Ce.hash_mask;else ft=j._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++;if(ft&&(Ae(Ce,!1),Ce.strm.avail_out===0))return Xe}return Ce.insert=Ce.strstart<$e-1?Ce.strstart:$e-1,Zt===se?(Ae(Ce,!0),Ce.strm.avail_out===0?qe:ze):Ce.last_lit&&(Ae(Ce,!1),Ce.strm.avail_out===0)?Xe:xe}function ar(Ce,Zt){for(var zt,ft,$t;;){if(Ce.lookahead<Pe){if(tr(Ce),Ce.lookahead<Pe&&Zt===ne)return Xe;if(Ce.lookahead===0)break}if(zt=0,Ce.lookahead>=$e&&(Ce.ins_h=(Ce.ins_h<<Ce.hash_shift^Ce.window[Ce.strstart+$e-1])&Ce.hash_mask,zt=Ce.prev[Ce.strstart&Ce.w_mask]=Ce.head[Ce.ins_h],Ce.head[Ce.ins_h]=Ce.strstart),Ce.prev_length=Ce.match_length,Ce.prev_match=Ce.match_start,Ce.match_length=$e-1,zt!==0&&Ce.prev_length<Ce.max_lazy_match&&Ce.strstart-zt<=Ce.w_size-Pe&&(Ce.match_length=Bt(Ce,zt),Ce.match_length<=5&&(Ce.strategy===ge||Ce.match_length===$e&&Ce.strstart-Ce.match_start>4096)&&(Ce.match_length=$e-1)),Ce.prev_length>=$e&&Ce.match_length<=Ce.prev_length){$t=Ce.strstart+Ce.lookahead-$e,ft=j._tr_tally(Ce,Ce.strstart-1-Ce.prev_match,Ce.prev_length-$e),Ce.lookahead-=Ce.prev_length-1,Ce.prev_length-=2;do++Ce.strstart<=$t&&(Ce.ins_h=(Ce.ins_h<<Ce.hash_shift^Ce.window[Ce.strstart+$e-1])&Ce.hash_mask,zt=Ce.prev[Ce.strstart&Ce.w_mask]=Ce.head[Ce.ins_h],Ce.head[Ce.ins_h]=Ce.strstart);while(--Ce.prev_length!=0);if(Ce.match_available=0,Ce.match_length=$e-1,Ce.strstart++,ft&&(Ae(Ce,!1),Ce.strm.avail_out===0))return Xe}else if(Ce.match_available){if((ft=j._tr_tally(Ce,0,Ce.window[Ce.strstart-1]))&&Ae(Ce,!1),Ce.strstart++,Ce.lookahead--,Ce.strm.avail_out===0)return Xe}else Ce.match_available=1,Ce.strstart++,Ce.lookahead--}return Ce.match_available&&(ft=j._tr_tally(Ce,0,Ce.window[Ce.strstart-1]),Ce.match_available=0),Ce.insert=Ce.strstart<$e-1?Ce.strstart:$e-1,Zt===se?(Ae(Ce,!0),Ce.strm.avail_out===0?qe:ze):Ce.last_lit&&(Ae(Ce,!1),Ce.strm.avail_out===0)?Xe:xe}function rr(Ce,Zt){for(var zt,ft,$t,Ut,_r=Ce.window;;){if(Ce.lookahead<=Ke){if(tr(Ce),Ce.lookahead<=Ke&&Zt===ne)return Xe;if(Ce.lookahead===0)break}if(Ce.match_length=0,Ce.lookahead>=$e&&Ce.strstart>0&&(ft=_r[$t=Ce.strstart-1])===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]){Ut=Ce.strstart+Ke;do;while(ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&$t<Ut);Ce.match_length=Ke-(Ut-$t),Ce.match_length>Ce.lookahead&&(Ce.match_length=Ce.lookahead)}if(Ce.match_length>=$e?(zt=j._tr_tally(Ce,1,Ce.match_length-$e),Ce.lookahead-=Ce.match_length,Ce.strstart+=Ce.match_length,Ce.match_length=0):(zt=j._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++),zt&&(Ae(Ce,!1),Ce.strm.avail_out===0))return Xe}return Ce.insert=0,Zt===se?(Ae(Ce,!0),Ce.strm.avail_out===0?qe:ze):Ce.last_lit&&(Ae(Ce,!1),Ce.strm.avail_out===0)?Xe:xe}function gr(Ce,Zt){for(var zt;;){if(Ce.lookahead===0&&(tr(Ce),Ce.lookahead===0)){if(Zt===ne)return Xe;break}if(Ce.match_length=0,zt=j._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++,zt&&(Ae(Ce,!1),Ce.strm.avail_out===0))return Xe}return Ce.insert=0,Zt===se?(Ae(Ce,!0),Ce.strm.avail_out===0?qe:ze):Ce.last_lit&&(Ae(Ce,!1),Ce.strm.avail_out===0)?Xe:xe}function dr(Ce,Zt,zt,ft,$t){this.good_length=Ce,this.max_lazy=Zt,this.nice_length=zt,this.max_chain=ft,this.func=$t}function hr(Ce){Ce.window_size=2*Ce.w_size,et(Ce.head),Ce.max_lazy_match=w[Ce.level].max_lazy,Ce.good_match=w[Ce.level].good_length,Ce.nice_match=w[Ce.level].nice_length,Ce.max_chain_length=w[Ce.level].max_chain,Ce.strstart=0,Ce.block_start=0,Ce.lookahead=0,Ce.insert=0,Ce.match_length=Ce.prev_length=$e-1,Ce.match_available=0,Ce.ins_h=0}function kr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Te,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*Ye),this.dyn_dtree=new D.Buf16(2*(2*Me+1)),this.bl_tree=new D.Buf16(2*(2*Ne+1)),et(this.dyn_ltree),et(this.dyn_dtree),et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(Ue+1),this.heap=new D.Buf16(2*Be+1),et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*Be+1),et(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function fr(Ce){var Zt;return Ce&&Ce.state?(Ce.total_in=Ce.total_out=0,Ce.data_type=we,(Zt=Ce.state).pending=0,Zt.pending_out=0,Zt.wrap<0&&(Zt.wrap=-Zt.wrap),Zt.status=Zt.wrap?it:dt,Ce.adler=Zt.wrap===2?0:1,Zt.last_flush=ne,j._tr_init(Zt),ue):Fe(Ce,de)}function ot(Ce){var Zt=fr(Ce);return Zt===ue&&hr(Ce.state),Zt}function nr(Ce,Zt){return Ce&&Ce.state?Ce.state.wrap!==2?de:(Ce.state.gzhead=Zt,ue):de}function Tt(Ce,Zt,zt,ft,$t,Ut){if(!Ce)return de;var _r=1;if(Zt===me&&(Zt=6),ft<0?(_r=0,ft=-ft):ft>15&&(_r=2,ft-=16),$t<1||$t>_e||zt!==Te||ft<8||ft>15||Zt<0||Zt>9||Ut<0||Ut>ye)return Fe(Ce,de);ft===8&&(ft=9);var cr=new kr;return Ce.state=cr,cr.strm=Ce,cr.wrap=_r,cr.gzhead=null,cr.w_bits=ft,cr.w_size=1<<cr.w_bits,cr.w_mask=cr.w_size-1,cr.hash_bits=$t+7,cr.hash_size=1<<cr.hash_bits,cr.hash_mask=cr.hash_size-1,cr.hash_shift=~~((cr.hash_bits+$e-1)/$e),cr.window=new D.Buf8(2*cr.w_size),cr.head=new D.Buf16(cr.hash_size),cr.prev=new D.Buf16(cr.w_size),cr.lit_bufsize=1<<$t+6,cr.pending_buf_size=4*cr.lit_bufsize,cr.pending_buf=new D.Buf8(cr.pending_buf_size),cr.d_buf=1*cr.lit_bufsize,cr.l_buf=3*cr.lit_bufsize,cr.level=Zt,cr.strategy=Ut,cr.method=zt,ot(Ce)}function jt(Ce,Zt){return Tt(Ce,Zt,Te,Ie,Le,Se)}function We(Ce,Zt){var zt,ft,$t,Ut;if(!Ce||!Ce.state||Zt>le||Zt<0)return Ce?Fe(Ce,de):de;if(ft=Ce.state,!Ce.output||!Ce.input&&Ce.avail_in!==0||ft.status===kt&&Zt!==se)return Fe(Ce,Ce.avail_out===0?pe:de);if(ft.strm=Ce,zt=ft.last_flush,ft.last_flush=Zt,ft.status===it)if(ft.wrap===2)Ce.adler=0,De(ft,31),De(ft,139),De(ft,8),ft.gzhead?(De(ft,(ft.gzhead.text?1:0)+(ft.gzhead.hcrc?2:0)+(ft.gzhead.extra?4:0)+(ft.gzhead.name?8:0)+(ft.gzhead.comment?16:0)),De(ft,255&ft.gzhead.time),De(ft,ft.gzhead.time>>8&255),De(ft,ft.gzhead.time>>16&255),De(ft,ft.gzhead.time>>24&255),De(ft,ft.level===9?2:ft.strategy>=be||ft.level<2?4:0),De(ft,255&ft.gzhead.os),ft.gzhead.extra&&ft.gzhead.extra.length&&(De(ft,255&ft.gzhead.extra.length),De(ft,ft.gzhead.extra.length>>8&255)),ft.gzhead.hcrc&&(Ce.adler=te(Ce.adler,ft.pending_buf,ft.pending,0)),ft.gzindex=0,ft.status=Je):(De(ft,0),De(ft,0),De(ft,0),De(ft,0),De(ft,0),De(ft,ft.level===9?2:ft.strategy>=be||ft.level<2?4:0),De(ft,Oe),ft.status=dt);else{var _r=Te+(ft.w_bits-8<<4)<<8;_r|=(ft.strategy>=be||ft.level<2?0:ft.level<6?1:ft.level===6?2:3)<<6,ft.strstart!==0&&(_r|=He),_r+=31-_r%31,ft.status=dt,je(ft,_r),ft.strstart!==0&&(je(ft,Ce.adler>>>16),je(ft,65535&Ce.adler)),Ce.adler=1}if(ft.status===Je)if(ft.gzhead.extra){for($t=ft.pending;ft.gzindex<(65535&ft.gzhead.extra.length)&&(ft.pending!==ft.pending_buf_size||(ft.gzhead.hcrc&&ft.pending>$t&&(Ce.adler=te(Ce.adler,ft.pending_buf,ft.pending-$t,$t)),ve(Ce),$t=ft.pending,ft.pending!==ft.pending_buf_size));)De(ft,255&ft.gzhead.extra[ft.gzindex]),ft.gzindex++;ft.gzhead.hcrc&&ft.pending>$t&&(Ce.adler=te(Ce.adler,ft.pending_buf,ft.pending-$t,$t)),ft.gzindex===ft.gzhead.extra.length&&(ft.gzindex=0,ft.status=Ge)}else ft.status=Ge;if(ft.status===Ge)if(ft.gzhead.name){$t=ft.pending;do{if(ft.pending===ft.pending_buf_size&&(ft.gzhead.hcrc&&ft.pending>$t&&(Ce.adler=te(Ce.adler,ft.pending_buf,ft.pending-$t,$t)),ve(Ce),$t=ft.pending,ft.pending===ft.pending_buf_size)){Ut=1;break}Ut=ft.gzindex<ft.gzhead.name.length?255&ft.gzhead.name.charCodeAt(ft.gzindex++):0,De(ft,Ut)}while(Ut!==0);ft.gzhead.hcrc&&ft.pending>$t&&(Ce.adler=te(Ce.adler,ft.pending_buf,ft.pending-$t,$t)),Ut===0&&(ft.gzindex=0,ft.status=Qe)}else ft.status=Qe;if(ft.status===Qe)if(ft.gzhead.comment){$t=ft.pending;do{if(ft.pending===ft.pending_buf_size&&(ft.gzhead.hcrc&&ft.pending>$t&&(Ce.adler=te(Ce.adler,ft.pending_buf,ft.pending-$t,$t)),ve(Ce),$t=ft.pending,ft.pending===ft.pending_buf_size)){Ut=1;break}Ut=ft.gzindex<ft.gzhead.comment.length?255&ft.gzhead.comment.charCodeAt(ft.gzindex++):0,De(ft,Ut)}while(Ut!==0);ft.gzhead.hcrc&&ft.pending>$t&&(Ce.adler=te(Ce.adler,ft.pending_buf,ft.pending-$t,$t)),Ut===0&&(ft.status=ut)}else ft.status=ut;if(ft.status===ut&&(ft.gzhead.hcrc?(ft.pending+2>ft.pending_buf_size&&ve(Ce),ft.pending+2<=ft.pending_buf_size&&(De(ft,255&Ce.adler),De(ft,Ce.adler>>8&255),Ce.adler=0,ft.status=dt)):ft.status=dt),ft.pending!==0){if(ve(Ce),Ce.avail_out===0)return ft.last_flush=-1,ue}else if(Ce.avail_in===0&&Ze(Zt)<=Ze(zt)&&Zt!==se)return Fe(Ce,pe);if(ft.status===kt&&Ce.avail_in!==0)return Fe(Ce,pe);if(Ce.avail_in!==0||ft.lookahead!==0||Zt!==ne&&ft.status!==kt){var cr=ft.strategy===be?gr(ft,Zt):ft.strategy===ke?rr(ft,Zt):w[ft.level].func(ft,Zt);if(cr!==qe&&cr!==ze||(ft.status=kt),cr===Xe||cr===qe)return Ce.avail_out===0&&(ft.last_flush=-1),ue;if(cr===xe&&(Zt===ie?j._tr_align(ft):Zt!==le&&(j._tr_stored_block(ft,0,0,!1),Zt===ae&&(et(ft.head),ft.lookahead===0&&(ft.strstart=0,ft.block_start=0,ft.insert=0))),ve(Ce),Ce.avail_out===0))return ft.last_flush=-1,ue}return Zt!==se?ue:ft.wrap<=0?ce:(ft.wrap===2?(De(ft,255&Ce.adler),De(ft,Ce.adler>>8&255),De(ft,Ce.adler>>16&255),De(ft,Ce.adler>>24&255),De(ft,255&Ce.total_in),De(ft,Ce.total_in>>8&255),De(ft,Ce.total_in>>16&255),De(ft,Ce.total_in>>24&255)):(je(ft,Ce.adler>>>16),je(ft,65535&Ce.adler)),ve(Ce),ft.wrap>0&&(ft.wrap=-ft.wrap),ft.pending!==0?ue:ce)}function er(Ce){var Zt;return Ce&&Ce.state?(Zt=Ce.state.status)!==it&&Zt!==Je&&Zt!==Ge&&Zt!==Qe&&Zt!==ut&&Zt!==dt&&Zt!==kt?Fe(Ce,de):(Ce.state=null,Zt===dt?Fe(Ce,he):ue):de}function br(Ce,Zt){var zt,ft,$t,Ut,_r,cr,pr,Ir,Xr=Zt.length;if(!Ce||!Ce.state||(Ut=(zt=Ce.state).wrap)===2||Ut===1&&zt.status!==it||zt.lookahead)return de;for(Ut===1&&(Ce.adler=q(Ce.adler,Zt,Xr,0)),zt.wrap=0,Xr>=zt.w_size&&(Ut===0&&(et(zt.head),zt.strstart=0,zt.block_start=0,zt.insert=0),Ir=new D.Buf8(zt.w_size),D.arraySet(Ir,Zt,Xr-zt.w_size,zt.w_size,0),Zt=Ir,Xr=zt.w_size),_r=Ce.avail_in,cr=Ce.next_in,pr=Ce.input,Ce.avail_in=Xr,Ce.next_in=0,Ce.input=Zt,tr(zt);zt.lookahead>=$e;){ft=zt.strstart,$t=zt.lookahead-($e-1);do zt.ins_h=(zt.ins_h<<zt.hash_shift^zt.window[ft+$e-1])&zt.hash_mask,zt.prev[ft&zt.w_mask]=zt.head[zt.ins_h],zt.head[zt.ins_h]=ft,ft++;while(--$t);zt.strstart=ft,zt.lookahead=$e-1,tr(zt)}return zt.strstart+=zt.lookahead,zt.block_start=zt.strstart,zt.insert=zt.lookahead,zt.lookahead=0,zt.match_length=zt.prev_length=$e-1,zt.match_available=0,Ce.next_in=cr,Ce.input=pr,Ce.avail_in=_r,zt.wrap=Ut,ue}w=[new dr(0,0,0,0,ir),new dr(4,4,8,4,Yt),new dr(4,5,16,8,Yt),new dr(4,6,32,32,Yt),new dr(4,4,16,16,ar),new dr(8,16,32,32,ar),new dr(8,16,128,128,ar),new dr(8,32,128,256,ar),new dr(32,128,258,1024,ar),new dr(32,258,258,4096,ar)],g.deflateInit=jt,g.deflateInit2=Tt,g.deflateReset=ot,g.deflateResetKeep=fr,g.deflateSetHeader=nr,g.deflate=We,g.deflateEnd=er,g.deflateSetDictionary=br,g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(d,m,g){var w=30,D=12;m.exports=function(j,q){var te,re,ne,ie,ae,se,le,ue,ce,de,he,pe,me,ge,be,ke,ye,Se,we,Te,_e,Ie,Le,Be,Me;te=j.state,re=j.next_in,Be=j.input,ne=re+(j.avail_in-5),ie=j.next_out,Me=j.output,ae=ie-(q-j.avail_out),se=ie+(j.avail_out-257),le=te.dmax,ue=te.wsize,ce=te.whave,de=te.wnext,he=te.window,pe=te.hold,me=te.bits,ge=te.lencode,be=te.distcode,ke=(1<<te.lenbits)-1,ye=(1<<te.distbits)-1;e:do{me<15&&(pe+=Be[re++]<<me,me+=8,pe+=Be[re++]<<me,me+=8),Se=ge[pe&ke];t:for(;;){if(pe>>>=we=Se>>>24,me-=we,(we=Se>>>16&255)==0)Me[ie++]=65535&Se;else{if(!(16&we)){if(64&we){if(32&we){te.mode=D;break e}j.msg="invalid literal/length code",te.mode=w;break e}Se=ge[(65535&Se)+(pe&(1<<we)-1)];continue t}for(Te=65535&Se,(we&=15)&&(me<we&&(pe+=Be[re++]<<me,me+=8),Te+=pe&(1<<we)-1,pe>>>=we,me-=we),me<15&&(pe+=Be[re++]<<me,me+=8,pe+=Be[re++]<<me,me+=8),Se=be[pe&ye];;){if(pe>>>=we=Se>>>24,me-=we,16&(we=Se>>>16&255)){if(_e=65535&Se,me<(we&=15)&&(pe+=Be[re++]<<me,(me+=8)<we&&(pe+=Be[re++]<<me,me+=8)),(_e+=pe&(1<<we)-1)>le){j.msg="invalid distance too far back",te.mode=w;break e}if(pe>>>=we,me-=we,_e>(we=ie-ae)){if((we=_e-we)>ce&&te.sane){j.msg="invalid distance too far back",te.mode=w;break e}if(Ie=0,Le=he,de===0){if(Ie+=ue-we,we<Te){Te-=we;do Me[ie++]=he[Ie++];while(--we);Ie=ie-_e,Le=Me}}else if(de<we){if(Ie+=ue+de-we,(we-=de)<Te){Te-=we;do Me[ie++]=he[Ie++];while(--we);if(Ie=0,de<Te){Te-=we=de;do Me[ie++]=he[Ie++];while(--we);Ie=ie-_e,Le=Me}}}else if(Ie+=de-we,we<Te){Te-=we;do Me[ie++]=he[Ie++];while(--we);Ie=ie-_e,Le=Me}for(;Te>2;)Me[ie++]=Le[Ie++],Me[ie++]=Le[Ie++],Me[ie++]=Le[Ie++],Te-=3;Te&&(Me[ie++]=Le[Ie++],Te>1&&(Me[ie++]=Le[Ie++]))}else{Ie=ie-_e;do Me[ie++]=Me[Ie++],Me[ie++]=Me[Ie++],Me[ie++]=Me[Ie++],Te-=3;while(Te>2);Te&&(Me[ie++]=Me[Ie++],Te>1&&(Me[ie++]=Me[Ie++]))}break}if(64&we){j.msg="invalid distance code",te.mode=w;break e}Se=be[(65535&Se)+(pe&(1<<we)-1)]}}break}}while(re<ne&&ie<se);re-=Te=me>>3,pe&=(1<<(me-=Te<<3))-1,j.next_in=re,j.next_out=ie,j.avail_in=re<ne?ne-re+5:5-(re-ne),j.avail_out=ie<se?se-ie+257:257-(ie-se),te.hold=pe,te.bits=me}},{}],58:[function(d,m,g){var w=d("../utils/common"),D=d("./adler32"),j=d("./crc32"),q=d("./inffast"),te=d("./inftrees"),re=0,ne=1,ie=2,ae=4,se=5,le=6,ue=0,ce=1,de=2,he=-2,pe=-3,me=-4,ge=-5,be=8,ke=1,ye=2,Se=3,we=4,Te=5,_e=6,Ie=7,Le=8,Be=9,Me=10,Ne=11,Ye=12,Ue=13,$e=14,Ke=15,Pe=16,He=17,it=18,Je=19,Ge=20,Qe=21,ut=22,dt=23,kt=24,Xe=25,xe=26,qe=27,ze=28,Oe=29,Fe=30,Ze=31,et=852,ve=592,Ae=15;function De(Tt){return(Tt>>>24&255)+(Tt>>>8&65280)+((65280&Tt)<<8)+((255&Tt)<<24)}function je(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function St(Tt){var jt;return Tt&&Tt.state?(jt=Tt.state,Tt.total_in=Tt.total_out=jt.total=0,Tt.msg="",jt.wrap&&(Tt.adler=1&jt.wrap),jt.mode=ke,jt.last=0,jt.havedict=0,jt.dmax=32768,jt.head=null,jt.hold=0,jt.bits=0,jt.lencode=jt.lendyn=new w.Buf32(et),jt.distcode=jt.distdyn=new w.Buf32(ve),jt.sane=1,jt.back=-1,ue):he}function Bt(Tt){var jt;return Tt&&Tt.state?((jt=Tt.state).wsize=0,jt.whave=0,jt.wnext=0,St(Tt)):he}function tr(Tt,jt){var We,er;return Tt&&Tt.state?(er=Tt.state,jt<0?(We=0,jt=-jt):(We=1+(jt>>4),jt<48&&(jt&=15)),jt&&(jt<8||jt>15)?he:(er.window!==null&&er.wbits!==jt&&(er.window=null),er.wrap=We,er.wbits=jt,Bt(Tt))):he}function ir(Tt,jt){var We,er;return Tt?(er=new je,Tt.state=er,er.window=null,(We=tr(Tt,jt))!==ue&&(Tt.state=null),We):he}function Yt(Tt){return ir(Tt,Ae)}var ar,rr,gr=!0;function dr(Tt){if(gr){var jt;for(ar=new w.Buf32(512),rr=new w.Buf32(32),jt=0;jt<144;)Tt.lens[jt++]=8;for(;jt<256;)Tt.lens[jt++]=9;for(;jt<280;)Tt.lens[jt++]=7;for(;jt<288;)Tt.lens[jt++]=8;for(te(ne,Tt.lens,0,288,ar,0,Tt.work,{bits:9}),jt=0;jt<32;)Tt.lens[jt++]=5;te(ie,Tt.lens,0,32,rr,0,Tt.work,{bits:5}),gr=!1}Tt.lencode=ar,Tt.lenbits=9,Tt.distcode=rr,Tt.distbits=5}function hr(Tt,jt,We,er){var br,Ce=Tt.state;return Ce.window===null&&(Ce.wsize=1<<Ce.wbits,Ce.wnext=0,Ce.whave=0,Ce.window=new w.Buf8(Ce.wsize)),er>=Ce.wsize?(w.arraySet(Ce.window,jt,We-Ce.wsize,Ce.wsize,0),Ce.wnext=0,Ce.whave=Ce.wsize):((br=Ce.wsize-Ce.wnext)>er&&(br=er),w.arraySet(Ce.window,jt,We-er,br,Ce.wnext),(er-=br)?(w.arraySet(Ce.window,jt,We-er,er,0),Ce.wnext=er,Ce.whave=Ce.wsize):(Ce.wnext+=br,Ce.wnext===Ce.wsize&&(Ce.wnext=0),Ce.whave<Ce.wsize&&(Ce.whave+=br))),0}function kr(Tt,jt){var We,er,br,Ce,Zt,zt,ft,$t,Ut,_r,cr,pr,Ir,Xr,Cr,zr,Br,Fr,xn,Cn,Or,rn,_n,Zr,Wr=0,$r=new w.Buf8(4),Kn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Tt||!Tt.state||!Tt.output||!Tt.input&&Tt.avail_in!==0)return he;(We=Tt.state).mode===Ye&&(We.mode=Ue),Zt=Tt.next_out,br=Tt.output,ft=Tt.avail_out,Ce=Tt.next_in,er=Tt.input,zt=Tt.avail_in,$t=We.hold,Ut=We.bits,_r=zt,cr=ft,rn=ue;e:for(;;)switch(We.mode){case ke:if(We.wrap===0){We.mode=Ue;break}for(;Ut<16;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}if(2&We.wrap&&$t===35615){We.check=0,$r[0]=255&$t,$r[1]=$t>>>8&255,We.check=j(We.check,$r,2,0),$t=0,Ut=0,We.mode=ye;break}if(We.flags=0,We.head&&(We.head.done=!1),!(1&We.wrap)||(((255&$t)<<8)+($t>>8))%31){Tt.msg="incorrect header check",We.mode=Fe;break}if((15&$t)!==be){Tt.msg="unknown compression method",We.mode=Fe;break}if(Ut-=4,Or=8+(15&($t>>>=4)),We.wbits===0)We.wbits=Or;else if(Or>We.wbits){Tt.msg="invalid window size",We.mode=Fe;break}We.dmax=1<<Or,Tt.adler=We.check=1,We.mode=512&$t?Me:Ye,$t=0,Ut=0;break;case ye:for(;Ut<16;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}if(We.flags=$t,(255&We.flags)!==be){Tt.msg="unknown compression method",We.mode=Fe;break}if(57344&We.flags){Tt.msg="unknown header flags set",We.mode=Fe;break}We.head&&(We.head.text=$t>>8&1),512&We.flags&&($r[0]=255&$t,$r[1]=$t>>>8&255,We.check=j(We.check,$r,2,0)),$t=0,Ut=0,We.mode=Se;case Se:for(;Ut<32;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}We.head&&(We.head.time=$t),512&We.flags&&($r[0]=255&$t,$r[1]=$t>>>8&255,$r[2]=$t>>>16&255,$r[3]=$t>>>24&255,We.check=j(We.check,$r,4,0)),$t=0,Ut=0,We.mode=we;case we:for(;Ut<16;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}We.head&&(We.head.xflags=255&$t,We.head.os=$t>>8),512&We.flags&&($r[0]=255&$t,$r[1]=$t>>>8&255,We.check=j(We.check,$r,2,0)),$t=0,Ut=0,We.mode=Te;case Te:if(1024&We.flags){for(;Ut<16;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}We.length=$t,We.head&&(We.head.extra_len=$t),512&We.flags&&($r[0]=255&$t,$r[1]=$t>>>8&255,We.check=j(We.check,$r,2,0)),$t=0,Ut=0}else We.head&&(We.head.extra=null);We.mode=_e;case _e:if(1024&We.flags&&((pr=We.length)>zt&&(pr=zt),pr&&(We.head&&(Or=We.head.extra_len-We.length,We.head.extra||(We.head.extra=new Array(We.head.extra_len)),w.arraySet(We.head.extra,er,Ce,pr,Or)),512&We.flags&&(We.check=j(We.check,er,pr,Ce)),zt-=pr,Ce+=pr,We.length-=pr),We.length))break e;We.length=0,We.mode=Ie;case Ie:if(2048&We.flags){if(zt===0)break e;pr=0;do Or=er[Ce+pr++],We.head&&Or&&We.length<65536&&(We.head.name+=String.fromCharCode(Or));while(Or&&pr<zt);if(512&We.flags&&(We.check=j(We.check,er,pr,Ce)),zt-=pr,Ce+=pr,Or)break e}else We.head&&(We.head.name=null);We.length=0,We.mode=Le;case Le:if(4096&We.flags){if(zt===0)break e;pr=0;do Or=er[Ce+pr++],We.head&&Or&&We.length<65536&&(We.head.comment+=String.fromCharCode(Or));while(Or&&pr<zt);if(512&We.flags&&(We.check=j(We.check,er,pr,Ce)),zt-=pr,Ce+=pr,Or)break e}else We.head&&(We.head.comment=null);We.mode=Be;case Be:if(512&We.flags){for(;Ut<16;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}if($t!==(65535&We.check)){Tt.msg="header crc mismatch",We.mode=Fe;break}$t=0,Ut=0}We.head&&(We.head.hcrc=We.flags>>9&1,We.head.done=!0),Tt.adler=We.check=0,We.mode=Ye;break;case Me:for(;Ut<32;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}Tt.adler=We.check=De($t),$t=0,Ut=0,We.mode=Ne;case Ne:if(We.havedict===0)return Tt.next_out=Zt,Tt.avail_out=ft,Tt.next_in=Ce,Tt.avail_in=zt,We.hold=$t,We.bits=Ut,de;Tt.adler=We.check=1,We.mode=Ye;case Ye:if(jt===se||jt===le)break e;case Ue:if(We.last){$t>>>=7&Ut,Ut-=7&Ut,We.mode=qe;break}for(;Ut<3;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}switch(We.last=1&$t,Ut-=1,3&($t>>>=1)){case 0:We.mode=$e;break;case 1:if(dr(We),We.mode=Ge,jt===le){$t>>>=2,Ut-=2;break e}break;case 2:We.mode=He;break;case 3:Tt.msg="invalid block type",We.mode=Fe}$t>>>=2,Ut-=2;break;case $e:for($t>>>=7&Ut,Ut-=7&Ut;Ut<32;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}if((65535&$t)!=($t>>>16^65535)){Tt.msg="invalid stored block lengths",We.mode=Fe;break}if(We.length=65535&$t,$t=0,Ut=0,We.mode=Ke,jt===le)break e;case Ke:We.mode=Pe;case Pe:if(pr=We.length){if(pr>zt&&(pr=zt),pr>ft&&(pr=ft),pr===0)break e;w.arraySet(br,er,Ce,pr,Zt),zt-=pr,Ce+=pr,ft-=pr,Zt+=pr,We.length-=pr;break}We.mode=Ye;break;case He:for(;Ut<14;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}if(We.nlen=257+(31&$t),$t>>>=5,Ut-=5,We.ndist=1+(31&$t),$t>>>=5,Ut-=5,We.ncode=4+(15&$t),$t>>>=4,Ut-=4,We.nlen>286||We.ndist>30){Tt.msg="too many length or distance symbols",We.mode=Fe;break}We.have=0,We.mode=it;case it:for(;We.have<We.ncode;){for(;Ut<3;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}We.lens[Kn[We.have++]]=7&$t,$t>>>=3,Ut-=3}for(;We.have<19;)We.lens[Kn[We.have++]]=0;if(We.lencode=We.lendyn,We.lenbits=7,_n={bits:We.lenbits},rn=te(re,We.lens,0,19,We.lencode,0,We.work,_n),We.lenbits=_n.bits,rn){Tt.msg="invalid code lengths set",We.mode=Fe;break}We.have=0,We.mode=Je;case Je:for(;We.have<We.nlen+We.ndist;){for(;zr=(Wr=We.lencode[$t&(1<<We.lenbits)-1])>>>16&255,Br=65535&Wr,!((Cr=Wr>>>24)<=Ut);){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}if(Br<16)$t>>>=Cr,Ut-=Cr,We.lens[We.have++]=Br;else{if(Br===16){for(Zr=Cr+2;Ut<Zr;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}if($t>>>=Cr,Ut-=Cr,We.have===0){Tt.msg="invalid bit length repeat",We.mode=Fe;break}Or=We.lens[We.have-1],pr=3+(3&$t),$t>>>=2,Ut-=2}else if(Br===17){for(Zr=Cr+3;Ut<Zr;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}Ut-=Cr,Or=0,pr=3+(7&($t>>>=Cr)),$t>>>=3,Ut-=3}else{for(Zr=Cr+7;Ut<Zr;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}Ut-=Cr,Or=0,pr=11+(127&($t>>>=Cr)),$t>>>=7,Ut-=7}if(We.have+pr>We.nlen+We.ndist){Tt.msg="invalid bit length repeat",We.mode=Fe;break}for(;pr--;)We.lens[We.have++]=Or}}if(We.mode===Fe)break;if(We.lens[256]===0){Tt.msg="invalid code -- missing end-of-block",We.mode=Fe;break}if(We.lenbits=9,_n={bits:We.lenbits},rn=te(ne,We.lens,0,We.nlen,We.lencode,0,We.work,_n),We.lenbits=_n.bits,rn){Tt.msg="invalid literal/lengths set",We.mode=Fe;break}if(We.distbits=6,We.distcode=We.distdyn,_n={bits:We.distbits},rn=te(ie,We.lens,We.nlen,We.ndist,We.distcode,0,We.work,_n),We.distbits=_n.bits,rn){Tt.msg="invalid distances set",We.mode=Fe;break}if(We.mode=Ge,jt===le)break e;case Ge:We.mode=Qe;case Qe:if(zt>=6&&ft>=258){Tt.next_out=Zt,Tt.avail_out=ft,Tt.next_in=Ce,Tt.avail_in=zt,We.hold=$t,We.bits=Ut,q(Tt,cr),Zt=Tt.next_out,br=Tt.output,ft=Tt.avail_out,Ce=Tt.next_in,er=Tt.input,zt=Tt.avail_in,$t=We.hold,Ut=We.bits,We.mode===Ye&&(We.back=-1);break}for(We.back=0;zr=(Wr=We.lencode[$t&(1<<We.lenbits)-1])>>>16&255,Br=65535&Wr,!((Cr=Wr>>>24)<=Ut);){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}if(zr&&!(240&zr)){for(Fr=Cr,xn=zr,Cn=Br;zr=(Wr=We.lencode[Cn+(($t&(1<<Fr+xn)-1)>>Fr)])>>>16&255,Br=65535&Wr,!(Fr+(Cr=Wr>>>24)<=Ut);){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}$t>>>=Fr,Ut-=Fr,We.back+=Fr}if($t>>>=Cr,Ut-=Cr,We.back+=Cr,We.length=Br,zr===0){We.mode=xe;break}if(32&zr){We.back=-1,We.mode=Ye;break}if(64&zr){Tt.msg="invalid literal/length code",We.mode=Fe;break}We.extra=15&zr,We.mode=ut;case ut:if(We.extra){for(Zr=We.extra;Ut<Zr;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}We.length+=$t&(1<<We.extra)-1,$t>>>=We.extra,Ut-=We.extra,We.back+=We.extra}We.was=We.length,We.mode=dt;case dt:for(;zr=(Wr=We.distcode[$t&(1<<We.distbits)-1])>>>16&255,Br=65535&Wr,!((Cr=Wr>>>24)<=Ut);){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}if(!(240&zr)){for(Fr=Cr,xn=zr,Cn=Br;zr=(Wr=We.distcode[Cn+(($t&(1<<Fr+xn)-1)>>Fr)])>>>16&255,Br=65535&Wr,!(Fr+(Cr=Wr>>>24)<=Ut);){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}$t>>>=Fr,Ut-=Fr,We.back+=Fr}if($t>>>=Cr,Ut-=Cr,We.back+=Cr,64&zr){Tt.msg="invalid distance code",We.mode=Fe;break}We.offset=Br,We.extra=15&zr,We.mode=kt;case kt:if(We.extra){for(Zr=We.extra;Ut<Zr;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}We.offset+=$t&(1<<We.extra)-1,$t>>>=We.extra,Ut-=We.extra,We.back+=We.extra}if(We.offset>We.dmax){Tt.msg="invalid distance too far back",We.mode=Fe;break}We.mode=Xe;case Xe:if(ft===0)break e;if(pr=cr-ft,We.offset>pr){if((pr=We.offset-pr)>We.whave&&We.sane){Tt.msg="invalid distance too far back",We.mode=Fe;break}pr>We.wnext?(pr-=We.wnext,Ir=We.wsize-pr):Ir=We.wnext-pr,pr>We.length&&(pr=We.length),Xr=We.window}else Xr=br,Ir=Zt-We.offset,pr=We.length;pr>ft&&(pr=ft),ft-=pr,We.length-=pr;do br[Zt++]=Xr[Ir++];while(--pr);We.length===0&&(We.mode=Qe);break;case xe:if(ft===0)break e;br[Zt++]=We.length,ft--,We.mode=Qe;break;case qe:if(We.wrap){for(;Ut<32;){if(zt===0)break e;zt--,$t|=er[Ce++]<<Ut,Ut+=8}if(cr-=ft,Tt.total_out+=cr,We.total+=cr,cr&&(Tt.adler=We.check=We.flags?j(We.check,br,cr,Zt-cr):D(We.check,br,cr,Zt-cr)),cr=ft,(We.flags?$t:De($t))!==We.check){Tt.msg="incorrect data check",We.mode=Fe;break}$t=0,Ut=0}We.mode=ze;case ze:if(We.wrap&&We.flags){for(;Ut<32;){if(zt===0)break e;zt--,$t+=er[Ce++]<<Ut,Ut+=8}if($t!==(4294967295&We.total)){Tt.msg="incorrect length check",We.mode=Fe;break}$t=0,Ut=0}We.mode=Oe;case Oe:rn=ce;break e;case Fe:rn=pe;break e;case Ze:return me;default:return he}return Tt.next_out=Zt,Tt.avail_out=ft,Tt.next_in=Ce,Tt.avail_in=zt,We.hold=$t,We.bits=Ut,(We.wsize||cr!==Tt.avail_out&&We.mode<Fe&&(We.mode<qe||jt!==ae))&&hr(Tt,Tt.output,Tt.next_out,cr-Tt.avail_out),_r-=Tt.avail_in,cr-=Tt.avail_out,Tt.total_in+=_r,Tt.total_out+=cr,We.total+=cr,We.wrap&&cr&&(Tt.adler=We.check=We.flags?j(We.check,br,cr,Tt.next_out-cr):D(We.check,br,cr,Tt.next_out-cr)),Tt.data_type=We.bits+(We.last?64:0)+(We.mode===Ye?128:0)+(We.mode===Ge||We.mode===Ke?256:0),(_r===0&&cr===0||jt===ae)&&rn===ue&&(rn=ge),rn}function fr(Tt){if(!Tt||!Tt.state)return he;var jt=Tt.state;return jt.window&&(jt.window=null),Tt.state=null,ue}function ot(Tt,jt){var We;return Tt&&Tt.state&&2&(We=Tt.state).wrap?(We.head=jt,jt.done=!1,ue):he}function nr(Tt,jt){var We,er=jt.length;return Tt&&Tt.state?(We=Tt.state).wrap!==0&&We.mode!==Ne?he:We.mode===Ne&&D(1,jt,er,0)!==We.check?pe:hr(Tt,jt,er,er)?(We.mode=Ze,me):(We.havedict=1,ue):he}g.inflateReset=Bt,g.inflateReset2=tr,g.inflateResetKeep=St,g.inflateInit=Yt,g.inflateInit2=ir,g.inflate=kr,g.inflateEnd=fr,g.inflateGetHeader=ot,g.inflateSetDictionary=nr,g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(d,m,g){var w=d("../utils/common"),D=15,j=852,q=592,te=0,re=1,ne=2,ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ae=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],le=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(ue,ce,de,he,pe,me,ge,be){var ke,ye,Se,we,Te,_e,Ie,Le,Be,Me=be.bits,Ne=0,Ye=0,Ue=0,$e=0,Ke=0,Pe=0,He=0,it=0,Je=0,Ge=0,Qe=null,ut=0,dt=new w.Buf16(D+1),kt=new w.Buf16(D+1),Xe=null,xe=0;for(Ne=0;Ne<=D;Ne++)dt[Ne]=0;for(Ye=0;Ye<he;Ye++)dt[ce[de+Ye]]++;for(Ke=Me,$e=D;$e>=1&&dt[$e]===0;$e--);if(Ke>$e&&(Ke=$e),$e===0)return pe[me++]=20971520,pe[me++]=20971520,be.bits=1,0;for(Ue=1;Ue<$e&&dt[Ue]===0;Ue++);for(Ke<Ue&&(Ke=Ue),it=1,Ne=1;Ne<=D;Ne++)if(it<<=1,(it-=dt[Ne])<0)return-1;if(it>0&&(ue===te||$e!==1))return-1;for(kt[1]=0,Ne=1;Ne<D;Ne++)kt[Ne+1]=kt[Ne]+dt[Ne];for(Ye=0;Ye<he;Ye++)ce[de+Ye]!==0&&(ge[kt[ce[de+Ye]]++]=Ye);if(ue===te?(Qe=Xe=ge,_e=19):ue===re?(Qe=ie,ut-=257,Xe=ae,xe-=257,_e=256):(Qe=se,Xe=le,_e=-1),Ge=0,Ye=0,Ne=Ue,Te=me,Pe=Ke,He=0,Se=-1,we=(Je=1<<Ke)-1,ue===re&&Je>j||ue===ne&&Je>q)return 1;for(;;){Ie=Ne-He,ge[Ye]<_e?(Le=0,Be=ge[Ye]):ge[Ye]>_e?(Le=Xe[xe+ge[Ye]],Be=Qe[ut+ge[Ye]]):(Le=96,Be=0),ke=1<<Ne-He,Ue=ye=1<<Pe;do pe[Te+(Ge>>He)+(ye-=ke)]=Ie<<24|Le<<16|Be;while(ye!==0);for(ke=1<<Ne-1;Ge&ke;)ke>>=1;if(ke!==0?(Ge&=ke-1,Ge+=ke):Ge=0,Ye++,--dt[Ne]==0){if(Ne===$e)break;Ne=ce[de+ge[Ye]]}if(Ne>Ke&&(Ge&we)!==Se){for(He===0&&(He=Ke),Te+=Ue,it=1<<(Pe=Ne-He);Pe+He<$e&&!((it-=dt[Pe+He])<=0);)Pe++,it<<=1;if(Je+=1<<Pe,ue===re&&Je>j||ue===ne&&Je>q)return 1;pe[Se=Ge&we]=Ke<<24|Pe<<16|Te-me}}return Ge!==0&&(pe[Te+Ge]=Ne-He<<24|64<<16),be.bits=Ke,0}},{"../utils/common":52}],60:[function(d,m,g){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(d,m,g){var w=d("../utils/common"),D=4,j=0,q=1,te=2;function re(ot){for(var nr=ot.length;--nr>=0;)ot[nr]=0}var ne=0,ie=1,ae=2,se=3,le=258,ue=29,ce=256,de=ce+1+ue,he=30,pe=19,me=2*de+1,ge=15,be=16,ke=7,ye=256,Se=16,we=17,Te=18,_e=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ie=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Me=512,Ne=new Array(2*(de+2));re(Ne);var Ye=new Array(2*he);re(Ye);var Ue=new Array(Me);re(Ue);var $e=new Array(le-se+1);re($e);var Ke=new Array(ue);re(Ke);var Pe,He,it,Je=new Array(he);function Ge(ot,nr,Tt,jt,We){this.static_tree=ot,this.extra_bits=nr,this.extra_base=Tt,this.elems=jt,this.max_length=We,this.has_stree=ot&&ot.length}function Qe(ot,nr){this.dyn_tree=ot,this.max_code=0,this.stat_desc=nr}function ut(ot){return ot<256?Ue[ot]:Ue[256+(ot>>>7)]}function dt(ot,nr){ot.pending_buf[ot.pending++]=255&nr,ot.pending_buf[ot.pending++]=nr>>>8&255}function kt(ot,nr,Tt){ot.bi_valid>be-Tt?(ot.bi_buf|=nr<<ot.bi_valid&65535,dt(ot,ot.bi_buf),ot.bi_buf=nr>>be-ot.bi_valid,ot.bi_valid+=Tt-be):(ot.bi_buf|=nr<<ot.bi_valid&65535,ot.bi_valid+=Tt)}function Xe(ot,nr,Tt){kt(ot,Tt[2*nr],Tt[2*nr+1])}function xe(ot,nr){var Tt=0;do Tt|=1&ot,ot>>>=1,Tt<<=1;while(--nr>0);return Tt>>>1}function qe(ot){ot.bi_valid===16?(dt(ot,ot.bi_buf),ot.bi_buf=0,ot.bi_valid=0):ot.bi_valid>=8&&(ot.pending_buf[ot.pending++]=255&ot.bi_buf,ot.bi_buf>>=8,ot.bi_valid-=8)}function ze(ot,nr){var Tt,jt,We,er,br,Ce,Zt=nr.dyn_tree,zt=nr.max_code,ft=nr.stat_desc.static_tree,$t=nr.stat_desc.has_stree,Ut=nr.stat_desc.extra_bits,_r=nr.stat_desc.extra_base,cr=nr.stat_desc.max_length,pr=0;for(er=0;er<=ge;er++)ot.bl_count[er]=0;for(Zt[2*ot.heap[ot.heap_max]+1]=0,Tt=ot.heap_max+1;Tt<me;Tt++)(er=Zt[2*Zt[2*(jt=ot.heap[Tt])+1]+1]+1)>cr&&(er=cr,pr++),Zt[2*jt+1]=er,jt>zt||(ot.bl_count[er]++,br=0,jt>=_r&&(br=Ut[jt-_r]),Ce=Zt[2*jt],ot.opt_len+=Ce*(er+br),$t&&(ot.static_len+=Ce*(ft[2*jt+1]+br)));if(pr!==0){do{for(er=cr-1;ot.bl_count[er]===0;)er--;ot.bl_count[er]--,ot.bl_count[er+1]+=2,ot.bl_count[cr]--,pr-=2}while(pr>0);for(er=cr;er!==0;er--)for(jt=ot.bl_count[er];jt!==0;)(We=ot.heap[--Tt])>zt||(Zt[2*We+1]!==er&&(ot.opt_len+=(er-Zt[2*We+1])*Zt[2*We],Zt[2*We+1]=er),jt--)}}function Oe(ot,nr,Tt){var jt,We,er=new Array(ge+1),br=0;for(jt=1;jt<=ge;jt++)er[jt]=br=br+Tt[jt-1]<<1;for(We=0;We<=nr;We++){var Ce=ot[2*We+1];Ce!==0&&(ot[2*We]=xe(er[Ce]++,Ce))}}function Fe(){var ot,nr,Tt,jt,We,er=new Array(ge+1);for(Tt=0,jt=0;jt<ue-1;jt++)for(Ke[jt]=Tt,ot=0;ot<1<<_e[jt];ot++)$e[Tt++]=jt;for($e[Tt-1]=jt,We=0,jt=0;jt<16;jt++)for(Je[jt]=We,ot=0;ot<1<<Ie[jt];ot++)Ue[We++]=jt;for(We>>=7;jt<he;jt++)for(Je[jt]=We<<7,ot=0;ot<1<<Ie[jt]-7;ot++)Ue[256+We++]=jt;for(nr=0;nr<=ge;nr++)er[nr]=0;for(ot=0;ot<=143;)Ne[2*ot+1]=8,ot++,er[8]++;for(;ot<=255;)Ne[2*ot+1]=9,ot++,er[9]++;for(;ot<=279;)Ne[2*ot+1]=7,ot++,er[7]++;for(;ot<=287;)Ne[2*ot+1]=8,ot++,er[8]++;for(Oe(Ne,de+1,er),ot=0;ot<he;ot++)Ye[2*ot+1]=5,Ye[2*ot]=xe(ot,5);Pe=new Ge(Ne,_e,ce+1,de,ge),He=new Ge(Ye,Ie,0,he,ge),it=new Ge(new Array(0),Le,0,pe,ke)}function Ze(ot){var nr;for(nr=0;nr<de;nr++)ot.dyn_ltree[2*nr]=0;for(nr=0;nr<he;nr++)ot.dyn_dtree[2*nr]=0;for(nr=0;nr<pe;nr++)ot.bl_tree[2*nr]=0;ot.dyn_ltree[2*ye]=1,ot.opt_len=ot.static_len=0,ot.last_lit=ot.matches=0}function et(ot){ot.bi_valid>8?dt(ot,ot.bi_buf):ot.bi_valid>0&&(ot.pending_buf[ot.pending++]=ot.bi_buf),ot.bi_buf=0,ot.bi_valid=0}function ve(ot,nr,Tt,jt){et(ot),dt(ot,Tt),dt(ot,~Tt),w.arraySet(ot.pending_buf,ot.window,nr,Tt,ot.pending),ot.pending+=Tt}function Ae(ot,nr,Tt,jt){var We=2*nr,er=2*Tt;return ot[We]<ot[er]||ot[We]===ot[er]&&jt[nr]<=jt[Tt]}function De(ot,nr,Tt){for(var jt=ot.heap[Tt],We=Tt<<1;We<=ot.heap_len&&(We<ot.heap_len&&Ae(nr,ot.heap[We+1],ot.heap[We],ot.depth)&&We++,!Ae(nr,jt,ot.heap[We],ot.depth));)ot.heap[Tt]=ot.heap[We],Tt=We,We<<=1;ot.heap[Tt]=jt}function je(ot,nr,Tt){var jt,We,er,br,Ce=0;if(ot.last_lit!==0)do jt=ot.pending_buf[ot.d_buf+2*Ce]<<8|ot.pending_buf[ot.d_buf+2*Ce+1],We=ot.pending_buf[ot.l_buf+Ce],Ce++,jt===0?Xe(ot,We,nr):(Xe(ot,(er=$e[We])+ce+1,nr),(br=_e[er])!==0&&kt(ot,We-=Ke[er],br),Xe(ot,er=ut(--jt),Tt),(br=Ie[er])!==0&&kt(ot,jt-=Je[er],br));while(Ce<ot.last_lit);Xe(ot,ye,nr)}function St(ot,nr){var Tt,jt,We,er=nr.dyn_tree,br=nr.stat_desc.static_tree,Ce=nr.stat_desc.has_stree,Zt=nr.stat_desc.elems,zt=-1;for(ot.heap_len=0,ot.heap_max=me,Tt=0;Tt<Zt;Tt++)er[2*Tt]!==0?(ot.heap[++ot.heap_len]=zt=Tt,ot.depth[Tt]=0):er[2*Tt+1]=0;for(;ot.heap_len<2;)er[2*(We=ot.heap[++ot.heap_len]=zt<2?++zt:0)]=1,ot.depth[We]=0,ot.opt_len--,Ce&&(ot.static_len-=br[2*We+1]);for(nr.max_code=zt,Tt=ot.heap_len>>1;Tt>=1;Tt--)De(ot,er,Tt);We=Zt;do Tt=ot.heap[1],ot.heap[1]=ot.heap[ot.heap_len--],De(ot,er,1),jt=ot.heap[1],ot.heap[--ot.heap_max]=Tt,ot.heap[--ot.heap_max]=jt,er[2*We]=er[2*Tt]+er[2*jt],ot.depth[We]=(ot.depth[Tt]>=ot.depth[jt]?ot.depth[Tt]:ot.depth[jt])+1,er[2*Tt+1]=er[2*jt+1]=We,ot.heap[1]=We++,De(ot,er,1);while(ot.heap_len>=2);ot.heap[--ot.heap_max]=ot.heap[1],ze(ot,nr),Oe(er,zt,ot.bl_count)}function Bt(ot,nr,Tt){var jt,We,er=-1,br=nr[1],Ce=0,Zt=7,zt=4;for(br===0&&(Zt=138,zt=3),nr[2*(Tt+1)+1]=65535,jt=0;jt<=Tt;jt++)We=br,br=nr[2*(jt+1)+1],++Ce<Zt&&We===br||(Ce<zt?ot.bl_tree[2*We]+=Ce:We!==0?(We!==er&&ot.bl_tree[2*We]++,ot.bl_tree[2*Se]++):Ce<=10?ot.bl_tree[2*we]++:ot.bl_tree[2*Te]++,Ce=0,er=We,br===0?(Zt=138,zt=3):We===br?(Zt=6,zt=3):(Zt=7,zt=4))}function tr(ot,nr,Tt){var jt,We,er=-1,br=nr[1],Ce=0,Zt=7,zt=4;for(br===0&&(Zt=138,zt=3),jt=0;jt<=Tt;jt++)if(We=br,br=nr[2*(jt+1)+1],!(++Ce<Zt&&We===br)){if(Ce<zt)do Xe(ot,We,ot.bl_tree);while(--Ce!=0);else We!==0?(We!==er&&(Xe(ot,We,ot.bl_tree),Ce--),Xe(ot,Se,ot.bl_tree),kt(ot,Ce-3,2)):Ce<=10?(Xe(ot,we,ot.bl_tree),kt(ot,Ce-3,3)):(Xe(ot,Te,ot.bl_tree),kt(ot,Ce-11,7));Ce=0,er=We,br===0?(Zt=138,zt=3):We===br?(Zt=6,zt=3):(Zt=7,zt=4)}}function ir(ot){var nr;for(Bt(ot,ot.dyn_ltree,ot.l_desc.max_code),Bt(ot,ot.dyn_dtree,ot.d_desc.max_code),St(ot,ot.bl_desc),nr=pe-1;nr>=3&&ot.bl_tree[2*Be[nr]+1]===0;nr--);return ot.opt_len+=3*(nr+1)+5+5+4,nr}function Yt(ot,nr,Tt,jt){var We;for(kt(ot,nr-257,5),kt(ot,Tt-1,5),kt(ot,jt-4,4),We=0;We<jt;We++)kt(ot,ot.bl_tree[2*Be[We]+1],3);tr(ot,ot.dyn_ltree,nr-1),tr(ot,ot.dyn_dtree,Tt-1)}function ar(ot){var nr,Tt=4093624447;for(nr=0;nr<=31;nr++,Tt>>>=1)if(1&Tt&&ot.dyn_ltree[2*nr]!==0)return j;if(ot.dyn_ltree[18]!==0||ot.dyn_ltree[20]!==0||ot.dyn_ltree[26]!==0)return q;for(nr=32;nr<ce;nr++)if(ot.dyn_ltree[2*nr]!==0)return q;return j}re(Je);var rr=!1;function gr(ot){rr||(Fe(),rr=!0),ot.l_desc=new Qe(ot.dyn_ltree,Pe),ot.d_desc=new Qe(ot.dyn_dtree,He),ot.bl_desc=new Qe(ot.bl_tree,it),ot.bi_buf=0,ot.bi_valid=0,Ze(ot)}function dr(ot,nr,Tt,jt){kt(ot,(ne<<1)+(jt?1:0),3),ve(ot,nr,Tt)}function hr(ot){kt(ot,ie<<1,3),Xe(ot,ye,Ne),qe(ot)}function kr(ot,nr,Tt,jt){var We,er,br=0;ot.level>0?(ot.strm.data_type===te&&(ot.strm.data_type=ar(ot)),St(ot,ot.l_desc),St(ot,ot.d_desc),br=ir(ot),We=ot.opt_len+3+7>>>3,(er=ot.static_len+3+7>>>3)<=We&&(We=er)):We=er=Tt+5,Tt+4<=We&&nr!==-1?dr(ot,nr,Tt,jt):ot.strategy===D||er===We?(kt(ot,(ie<<1)+(jt?1:0),3),je(ot,Ne,Ye)):(kt(ot,(ae<<1)+(jt?1:0),3),Yt(ot,ot.l_desc.max_code+1,ot.d_desc.max_code+1,br+1),je(ot,ot.dyn_ltree,ot.dyn_dtree)),Ze(ot),jt&&et(ot)}function fr(ot,nr,Tt){return ot.pending_buf[ot.d_buf+2*ot.last_lit]=nr>>>8&255,ot.pending_buf[ot.d_buf+2*ot.last_lit+1]=255&nr,ot.pending_buf[ot.l_buf+ot.last_lit]=255&Tt,ot.last_lit++,nr===0?ot.dyn_ltree[2*Tt]++:(ot.matches++,nr--,ot.dyn_ltree[2*($e[Tt]+ce+1)]++,ot.dyn_dtree[2*ut(nr)]++),ot.last_lit===ot.lit_bufsize-1}g._tr_init=gr,g._tr_stored_block=dr,g._tr_flush_block=kr,g._tr_tally=fr,g._tr_align=hr},{"../utils/common":52}],62:[function(d,m,g){function w(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}m.exports=w},{}],63:[function(d,m,g){var w,D,j=m.exports={};function q(){throw new Error("setTimeout has not been defined")}function te(){throw new Error("clearTimeout has not been defined")}function re(pe){if(w===setTimeout)return setTimeout(pe,0);if((w===q||!w)&&setTimeout)return w=setTimeout,setTimeout(pe,0);try{return w(pe,0)}catch{try{return w.call(null,pe,0)}catch{return w.call(this,pe,0)}}}function ne(pe){if(D===clearTimeout)return clearTimeout(pe);if((D===te||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(pe);try{return D(pe)}catch{try{return D.call(null,pe)}catch{return D.call(this,pe)}}}(function(){try{w=typeof setTimeout=="function"?setTimeout:q}catch{w=q}try{D=typeof clearTimeout=="function"?clearTimeout:te}catch{D=te}})();var ie,ae=[],se=!1,le=-1;function ue(){se&&ie&&(se=!1,ie.length?ae=ie.concat(ae):le=-1,ae.length&&ce())}function ce(){if(!se){var pe=re(ue);se=!0;for(var me=ae.length;me;){for(ie=ae,ae=[];++le<me;)ie&&ie[le].run();le=-1,me=ae.length}ie=null,se=!1,ne(pe)}}function de(pe,me){this.fun=pe,this.array=me}function he(){}j.nextTick=function(pe){var me=new Array(arguments.length-1);if(arguments.length>1)for(var ge=1;ge<arguments.length;ge++)me[ge-1]=arguments[ge];ae.push(new de(pe,me)),ae.length!==1||se||re(ce)},de.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=he,j.addListener=he,j.once=he,j.off=he,j.removeListener=he,j.removeAllListeners=he,j.emit=he,j.prependListener=he,j.prependOnceListener=he,j.listeners=function(pe){return[]},j.binding=function(pe){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(pe){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},{}],64:[function(d,m,g){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var w=d("buffer"),D=w.Buffer;function j(te,re){for(var ne in te)re[ne]=te[ne]}function q(te,re,ne){return D(te,re,ne)}D.from&&D.alloc&&D.allocUnsafe&&D.allocUnsafeSlow?m.exports=w:(j(w,g),g.Buffer=q),q.prototype=Object.create(D.prototype),j(D,q),q.from=function(te,re,ne){if(typeof te=="number")throw new TypeError("Argument must not be a number");return D(te,re,ne)},q.alloc=function(te,re,ne){if(typeof te!="number")throw new TypeError("Argument must be a number");var ie=D(te);return re!==void 0?typeof ne=="string"?ie.fill(re,ne):ie.fill(re):ie.fill(0),ie},q.allocUnsafe=function(te){if(typeof te!="number")throw new TypeError("Argument must be a number");return D(te)},q.allocUnsafeSlow=function(te){if(typeof te!="number")throw new TypeError("Argument must be a number");return w.SlowBuffer(te)}},{buffer:32}],65:[function(d,m,g){m.exports=D;var w=d("events").EventEmitter;function D(){w.call(this)}d("inherits")(D,w),D.Readable=d("readable-stream/lib/_stream_readable.js"),D.Writable=d("readable-stream/lib/_stream_writable.js"),D.Duplex=d("readable-stream/lib/_stream_duplex.js"),D.Transform=d("readable-stream/lib/_stream_transform.js"),D.PassThrough=d("readable-stream/lib/_stream_passthrough.js"),D.finished=d("readable-stream/lib/internal/streams/end-of-stream.js"),D.pipeline=d("readable-stream/lib/internal/streams/pipeline.js"),D.Stream=D,D.prototype.pipe=function(j,q){var te=this;function re(ce){j.writable&&j.write(ce)===!1&&te.pause&&te.pause()}function ne(){te.readable&&te.resume&&te.resume()}te.on("data",re),j.on("drain",ne),j._isStdio||q&&q.end===!1||(te.on("end",ae),te.on("close",se));var ie=!1;function ae(){ie||(ie=!0,j.end())}function se(){ie||(ie=!0,typeof j.destroy=="function"&&j.destroy())}function le(ce){if(ue(),w.listenerCount(this,"error")===0)throw ce}function ue(){te.removeListener("data",re),j.removeListener("drain",ne),te.removeListener("end",ae),te.removeListener("close",se),te.removeListener("error",le),j.removeListener("error",le),te.removeListener("end",ue),te.removeListener("close",ue),j.removeListener("close",ue)}return te.on("error",le),j.on("error",le),te.on("end",ue),te.on("close",ue),j.on("close",ue),j.emit("pipe",te),j}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(d,m,g){function w(ie,ae){ie.prototype=Object.create(ae.prototype),ie.prototype.constructor=ie,ie.__proto__=ae}var D={};function j(ie,ae,se){function le(ce,de,he){return typeof ae=="string"?ae:ae(ce,de,he)}se||(se=Error);var ue=function(ce){function de(he,pe,me){return ce.call(this,le(he,pe,me))||this}return w(de,ce),de}(se);ue.prototype.name=se.name,ue.prototype.code=ie,D[ie]=ue}function q(ie,ae){if(Array.isArray(ie)){var se=ie.length;return ie=ie.map(function(le){return String(le)}),se>2?"one of ".concat(ae," ").concat(ie.slice(0,se-1).join(", "),", or ")+ie[se-1]:se===2?"one of ".concat(ae," ").concat(ie[0]," or ").concat(ie[1]):"of ".concat(ae," ").concat(ie[0])}return"of ".concat(ae," ").concat(String(ie))}function te(ie,ae,se){return ie.substr(0,ae.length)===ae}function re(ie,ae,se){return(se===void 0||se>ie.length)&&(se=ie.length),ie.substring(se-ae.length,se)===ae}function ne(ie,ae,se){return typeof se!="number"&&(se=0),!(se+ae.length>ie.length)&&ie.indexOf(ae,se)!==-1}j("ERR_INVALID_OPT_VALUE",function(ie,ae){return'The value "'+ae+'" is invalid for option "'+ie+'"'},TypeError),j("ERR_INVALID_ARG_TYPE",function(ie,ae,se){var le,ue;if(typeof ae=="string"&&te(ae,"not ")?(le="must not be",ae=ae.replace(/^not /,"")):le="must be",re(ie," argument"))ue="The ".concat(ie," ").concat(le," ").concat(q(ae,"type"));else{var ce=ne(ie,".")?"property":"argument";ue='The "'.concat(ie,'" ').concat(ce," ").concat(le," ").concat(q(ae,"type"))}return ue+=". Received type ".concat(typeof se)},TypeError),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),j("ERR_METHOD_NOT_IMPLEMENTED",function(ie){return"The "+ie+" method is not implemented"}),j("ERR_STREAM_PREMATURE_CLOSE","Premature close"),j("ERR_STREAM_DESTROYED",function(ie){return"Cannot call "+ie+" after a stream was destroyed"}),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),j("ERR_STREAM_WRITE_AFTER_END","write after end"),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_UNKNOWN_ENCODING",function(ie){return"Unknown encoding: "+ie},TypeError),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m.exports.codes=D},{}],67:[function(d,m,g){(function(w){(function(){var D=Object.keys||function(le){var ue=[];for(var ce in le)ue.push(ce);return ue};m.exports=ie;var j=d("./_stream_readable"),q=d("./_stream_writable");d("inherits")(ie,j);for(var te=D(q.prototype),re=0;re<te.length;re++){var ne=te[re];ie.prototype[ne]||(ie.prototype[ne]=q.prototype[ne])}function ie(le){if(!(this instanceof ie))return new ie(le);j.call(this,le),q.call(this,le),this.allowHalfOpen=!0,le&&(le.readable===!1&&(this.readable=!1),le.writable===!1&&(this.writable=!1),le.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ae)))}function ae(){this._writableState.ended||w.nextTick(se,this)}function se(le){le.end()}Object.defineProperty(ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(le){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=le,this._writableState.destroyed=le)}})}).call(this)}).call(this,d("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(d,m,g){m.exports=D;var w=d("./_stream_transform");function D(j){if(!(this instanceof D))return new D(j);w.call(this,j)}d("inherits")(D,w),D.prototype._transform=function(j,q,te){te(null,j)}},{"./_stream_transform":70,inherits:46}],69:[function(d,m,g){(function(w,D){(function(){var j;m.exports=Le,Le.ReadableState=Ie,d("events").EventEmitter;var q=function(Fe,Ze){return Fe.listeners(Ze).length},te=d("./internal/streams/stream"),re=d("buffer").Buffer,ne=D.Uint8Array||function(){};function ie(Fe){return re.from(Fe)}function ae(Fe){return re.isBuffer(Fe)||Fe instanceof ne}var se,le=d("util");se=le&&le.debuglog?le.debuglog("stream"):function(){};var ue,ce,de,he=d("./internal/streams/buffer_list"),pe=d("./internal/streams/destroy"),me=d("./internal/streams/state").getHighWaterMark,ge=d("../errors").codes,be=ge.ERR_INVALID_ARG_TYPE,ke=ge.ERR_STREAM_PUSH_AFTER_EOF,ye=ge.ERR_METHOD_NOT_IMPLEMENTED,Se=ge.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;d("inherits")(Le,te);var we=pe.errorOrDestroy,Te=["error","close","destroy","pause","resume"];function _e(Fe,Ze,et){if(typeof Fe.prependListener=="function")return Fe.prependListener(Ze,et);Fe._events&&Fe._events[Ze]?Array.isArray(Fe._events[Ze])?Fe._events[Ze].unshift(et):Fe._events[Ze]=[et,Fe._events[Ze]]:Fe.on(Ze,et)}function Ie(Fe,Ze,et){j=j||d("./_stream_duplex"),Fe=Fe||{},typeof et!="boolean"&&(et=Ze instanceof j),this.objectMode=!!Fe.objectMode,et&&(this.objectMode=this.objectMode||!!Fe.readableObjectMode),this.highWaterMark=me(this,Fe,"readableHighWaterMark",et),this.buffer=new he,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Fe.emitClose!==!1,this.autoDestroy=!!Fe.autoDestroy,this.destroyed=!1,this.defaultEncoding=Fe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Fe.encoding&&(ue||(ue=d("string_decoder/").StringDecoder),this.decoder=new ue(Fe.encoding),this.encoding=Fe.encoding)}function Le(Fe){if(j=j||d("./_stream_duplex"),!(this instanceof Le))return new Le(Fe);var Ze=this instanceof j;this._readableState=new Ie(Fe,this,Ze),this.readable=!0,Fe&&(typeof Fe.read=="function"&&(this._read=Fe.read),typeof Fe.destroy=="function"&&(this._destroy=Fe.destroy)),te.call(this)}function Be(Fe,Ze,et,ve,Ae){se("readableAddChunk",Ze);var De,je=Fe._readableState;if(Ze===null)je.reading=!1,Ke(Fe,je);else if(Ae||(De=Ne(je,Ze)),De)we(Fe,De);else if(je.objectMode||Ze&&Ze.length>0)if(typeof Ze=="string"||je.objectMode||Object.getPrototypeOf(Ze)===re.prototype||(Ze=ie(Ze)),ve)je.endEmitted?we(Fe,new Se):Me(Fe,je,Ze,!0);else if(je.ended)we(Fe,new ke);else{if(je.destroyed)return!1;je.reading=!1,je.decoder&&!et?(Ze=je.decoder.write(Ze),je.objectMode||Ze.length!==0?Me(Fe,je,Ze,!1):it(Fe,je)):Me(Fe,je,Ze,!1)}else ve||(je.reading=!1,it(Fe,je));return!je.ended&&(je.length<je.highWaterMark||je.length===0)}function Me(Fe,Ze,et,ve){Ze.flowing&&Ze.length===0&&!Ze.sync?(Ze.awaitDrain=0,Fe.emit("data",et)):(Ze.length+=Ze.objectMode?1:et.length,ve?Ze.buffer.unshift(et):Ze.buffer.push(et),Ze.needReadable&&Pe(Fe)),it(Fe,Ze)}function Ne(Fe,Ze){var et;return ae(Ze)||typeof Ze=="string"||Ze===void 0||Fe.objectMode||(et=new be("chunk",["string","Buffer","Uint8Array"],Ze)),et}Object.defineProperty(Le.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Fe){this._readableState&&(this._readableState.destroyed=Fe)}}),Le.prototype.destroy=pe.destroy,Le.prototype._undestroy=pe.undestroy,Le.prototype._destroy=function(Fe,Ze){Ze(Fe)},Le.prototype.push=function(Fe,Ze){var et,ve=this._readableState;return ve.objectMode?et=!0:typeof Fe=="string"&&((Ze=Ze||ve.defaultEncoding)!==ve.encoding&&(Fe=re.from(Fe,Ze),Ze=""),et=!0),Be(this,Fe,Ze,!1,et)},Le.prototype.unshift=function(Fe){return Be(this,Fe,null,!0,!1)},Le.prototype.isPaused=function(){return this._readableState.flowing===!1},Le.prototype.setEncoding=function(Fe){ue||(ue=d("string_decoder/").StringDecoder);var Ze=new ue(Fe);this._readableState.decoder=Ze,this._readableState.encoding=this._readableState.decoder.encoding;for(var et=this._readableState.buffer.head,ve="";et!==null;)ve+=Ze.write(et.data),et=et.next;return this._readableState.buffer.clear(),ve!==""&&this._readableState.buffer.push(ve),this._readableState.length=ve.length,this};var Ye=1073741824;function Ue(Fe){return Fe>=Ye?Fe=Ye:(Fe--,Fe|=Fe>>>1,Fe|=Fe>>>2,Fe|=Fe>>>4,Fe|=Fe>>>8,Fe|=Fe>>>16,Fe++),Fe}function $e(Fe,Ze){return Fe<=0||Ze.length===0&&Ze.ended?0:Ze.objectMode?1:Fe!=Fe?Ze.flowing&&Ze.length?Ze.buffer.head.data.length:Ze.length:(Fe>Ze.highWaterMark&&(Ze.highWaterMark=Ue(Fe)),Fe<=Ze.length?Fe:Ze.ended?Ze.length:(Ze.needReadable=!0,0))}function Ke(Fe,Ze){if(se("onEofChunk"),!Ze.ended){if(Ze.decoder){var et=Ze.decoder.end();et&&et.length&&(Ze.buffer.push(et),Ze.length+=Ze.objectMode?1:et.length)}Ze.ended=!0,Ze.sync?Pe(Fe):(Ze.needReadable=!1,Ze.emittedReadable||(Ze.emittedReadable=!0,He(Fe)))}}function Pe(Fe){var Ze=Fe._readableState;se("emitReadable",Ze.needReadable,Ze.emittedReadable),Ze.needReadable=!1,Ze.emittedReadable||(se("emitReadable",Ze.flowing),Ze.emittedReadable=!0,w.nextTick(He,Fe))}function He(Fe){var Ze=Fe._readableState;se("emitReadable_",Ze.destroyed,Ze.length,Ze.ended),Ze.destroyed||!Ze.length&&!Ze.ended||(Fe.emit("readable"),Ze.emittedReadable=!1),Ze.needReadable=!Ze.flowing&&!Ze.ended&&Ze.length<=Ze.highWaterMark,Xe(Fe)}function it(Fe,Ze){Ze.readingMore||(Ze.readingMore=!0,w.nextTick(Je,Fe,Ze))}function Je(Fe,Ze){for(;!Ze.reading&&!Ze.ended&&(Ze.length<Ze.highWaterMark||Ze.flowing&&Ze.length===0);){var et=Ze.length;if(se("maybeReadMore read 0"),Fe.read(0),et===Ze.length)break}Ze.readingMore=!1}function Ge(Fe){return function(){var Ze=Fe._readableState;se("pipeOnDrain",Ze.awaitDrain),Ze.awaitDrain&&Ze.awaitDrain--,Ze.awaitDrain===0&&q(Fe,"data")&&(Ze.flowing=!0,Xe(Fe))}}function Qe(Fe){var Ze=Fe._readableState;Ze.readableListening=Fe.listenerCount("readable")>0,Ze.resumeScheduled&&!Ze.paused?Ze.flowing=!0:Fe.listenerCount("data")>0&&Fe.resume()}function ut(Fe){se("readable nexttick read 0"),Fe.read(0)}function dt(Fe,Ze){Ze.resumeScheduled||(Ze.resumeScheduled=!0,w.nextTick(kt,Fe,Ze))}function kt(Fe,Ze){se("resume",Ze.reading),Ze.reading||Fe.read(0),Ze.resumeScheduled=!1,Fe.emit("resume"),Xe(Fe),Ze.flowing&&!Ze.reading&&Fe.read(0)}function Xe(Fe){var Ze=Fe._readableState;for(se("flow",Ze.flowing);Ze.flowing&&Fe.read()!==null;);}function xe(Fe,Ze){return Ze.length===0?null:(Ze.objectMode?et=Ze.buffer.shift():!Fe||Fe>=Ze.length?(et=Ze.decoder?Ze.buffer.join(""):Ze.buffer.length===1?Ze.buffer.first():Ze.buffer.concat(Ze.length),Ze.buffer.clear()):et=Ze.buffer.consume(Fe,Ze.decoder),et);var et}function qe(Fe){var Ze=Fe._readableState;se("endReadable",Ze.endEmitted),Ze.endEmitted||(Ze.ended=!0,w.nextTick(ze,Ze,Fe))}function ze(Fe,Ze){if(se("endReadableNT",Fe.endEmitted,Fe.length),!Fe.endEmitted&&Fe.length===0&&(Fe.endEmitted=!0,Ze.readable=!1,Ze.emit("end"),Fe.autoDestroy)){var et=Ze._writableState;(!et||et.autoDestroy&&et.finished)&&Ze.destroy()}}function Oe(Fe,Ze){for(var et=0,ve=Fe.length;et<ve;et++)if(Fe[et]===Ze)return et;return-1}Le.prototype.read=function(Fe){se("read",Fe),Fe=parseInt(Fe,10);var Ze=this._readableState,et=Fe;if(Fe!==0&&(Ze.emittedReadable=!1),Fe===0&&Ze.needReadable&&((Ze.highWaterMark!==0?Ze.length>=Ze.highWaterMark:Ze.length>0)||Ze.ended))return se("read: emitReadable",Ze.length,Ze.ended),Ze.length===0&&Ze.ended?qe(this):Pe(this),null;if((Fe=$e(Fe,Ze))===0&&Ze.ended)return Ze.length===0&&qe(this),null;var ve,Ae=Ze.needReadable;return se("need readable",Ae),(Ze.length===0||Ze.length-Fe<Ze.highWaterMark)&&se("length less than watermark",Ae=!0),Ze.ended||Ze.reading?se("reading or ended",Ae=!1):Ae&&(se("do read"),Ze.reading=!0,Ze.sync=!0,Ze.length===0&&(Ze.needReadable=!0),this._read(Ze.highWaterMark),Ze.sync=!1,Ze.reading||(Fe=$e(et,Ze))),(ve=Fe>0?xe(Fe,Ze):null)===null?(Ze.needReadable=Ze.length<=Ze.highWaterMark,Fe=0):(Ze.length-=Fe,Ze.awaitDrain=0),Ze.length===0&&(Ze.ended||(Ze.needReadable=!0),et!==Fe&&Ze.ended&&qe(this)),ve!==null&&this.emit("data",ve),ve},Le.prototype._read=function(Fe){we(this,new ye("_read()"))},Le.prototype.pipe=function(Fe,Ze){var et=this,ve=this._readableState;switch(ve.pipesCount){case 0:ve.pipes=Fe;break;case 1:ve.pipes=[ve.pipes,Fe];break;default:ve.pipes.push(Fe)}ve.pipesCount+=1,se("pipe count=%d opts=%j",ve.pipesCount,Ze);var Ae=Ze&&Ze.end===!1||Fe===w.stdout||Fe===w.stderr?gr:je;function De(dr,hr){se("onunpipe"),dr===et&&hr&&hr.hasUnpiped===!1&&(hr.hasUnpiped=!0,tr())}function je(){se("onend"),Fe.end()}ve.endEmitted?w.nextTick(Ae):et.once("end",Ae),Fe.on("unpipe",De);var St=Ge(et);Fe.on("drain",St);var Bt=!1;function tr(){se("cleanup"),Fe.removeListener("close",ar),Fe.removeListener("finish",rr),Fe.removeListener("drain",St),Fe.removeListener("error",Yt),Fe.removeListener("unpipe",De),et.removeListener("end",je),et.removeListener("end",gr),et.removeListener("data",ir),Bt=!0,!ve.awaitDrain||Fe._writableState&&!Fe._writableState.needDrain||St()}function ir(dr){se("ondata");var hr=Fe.write(dr);se("dest.write",hr),hr===!1&&((ve.pipesCount===1&&ve.pipes===Fe||ve.pipesCount>1&&Oe(ve.pipes,Fe)!==-1)&&!Bt&&(se("false write response, pause",ve.awaitDrain),ve.awaitDrain++),et.pause())}function Yt(dr){se("onerror",dr),gr(),Fe.removeListener("error",Yt),q(Fe,"error")===0&&we(Fe,dr)}function ar(){Fe.removeListener("finish",rr),gr()}function rr(){se("onfinish"),Fe.removeListener("close",ar),gr()}function gr(){se("unpipe"),et.unpipe(Fe)}return et.on("data",ir),_e(Fe,"error",Yt),Fe.once("close",ar),Fe.once("finish",rr),Fe.emit("pipe",et),ve.flowing||(se("pipe resume"),et.resume()),Fe},Le.prototype.unpipe=function(Fe){var Ze=this._readableState,et={hasUnpiped:!1};if(Ze.pipesCount===0)return this;if(Ze.pipesCount===1)return Fe&&Fe!==Ze.pipes||(Fe||(Fe=Ze.pipes),Ze.pipes=null,Ze.pipesCount=0,Ze.flowing=!1,Fe&&Fe.emit("unpipe",this,et)),this;if(!Fe){var ve=Ze.pipes,Ae=Ze.pipesCount;Ze.pipes=null,Ze.pipesCount=0,Ze.flowing=!1;for(var De=0;De<Ae;De++)ve[De].emit("unpipe",this,{hasUnpiped:!1});return this}var je=Oe(Ze.pipes,Fe);return je===-1||(Ze.pipes.splice(je,1),Ze.pipesCount-=1,Ze.pipesCount===1&&(Ze.pipes=Ze.pipes[0]),Fe.emit("unpipe",this,et)),this},Le.prototype.on=function(Fe,Ze){var et=te.prototype.on.call(this,Fe,Ze),ve=this._readableState;return Fe==="data"?(ve.readableListening=this.listenerCount("readable")>0,ve.flowing!==!1&&this.resume()):Fe==="readable"&&(ve.endEmitted||ve.readableListening||(ve.readableListening=ve.needReadable=!0,ve.flowing=!1,ve.emittedReadable=!1,se("on readable",ve.length,ve.reading),ve.length?Pe(this):ve.reading||w.nextTick(ut,this))),et},Le.prototype.addListener=Le.prototype.on,Le.prototype.removeListener=function(Fe,Ze){var et=te.prototype.removeListener.call(this,Fe,Ze);return Fe==="readable"&&w.nextTick(Qe,this),et},Le.prototype.removeAllListeners=function(Fe){var Ze=te.prototype.removeAllListeners.apply(this,arguments);return Fe!=="readable"&&Fe!==void 0||w.nextTick(Qe,this),Ze},Le.prototype.resume=function(){var Fe=this._readableState;return Fe.flowing||(se("resume"),Fe.flowing=!Fe.readableListening,dt(this,Fe)),Fe.paused=!1,this},Le.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Le.prototype.wrap=function(Fe){var Ze=this,et=this._readableState,ve=!1;for(var Ae in Fe.on("end",function(){if(se("wrapped end"),et.decoder&&!et.ended){var je=et.decoder.end();je&&je.length&&Ze.push(je)}Ze.push(null)}),Fe.on("data",function(je){se("wrapped data"),et.decoder&&(je=et.decoder.write(je)),et.objectMode&&je==null||(et.objectMode||je&&je.length)&&(Ze.push(je)||(ve=!0,Fe.pause()))}),Fe)this[Ae]===void 0&&typeof Fe[Ae]=="function"&&(this[Ae]=function(je){return function(){return Fe[je].apply(Fe,arguments)}}(Ae));for(var De=0;De<Te.length;De++)Fe.on(Te[De],this.emit.bind(this,Te[De]));return this._read=function(je){se("wrapped _read",je),ve&&(ve=!1,Fe.resume())},this},typeof Symbol=="function"&&(Le.prototype[Symbol.asyncIterator]=function(){return ce===void 0&&(ce=d("./internal/streams/async_iterator")),ce(this)}),Object.defineProperty(Le.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Le.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Le.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Fe){this._readableState&&(this._readableState.flowing=Fe)}}),Le._fromList=xe,Object.defineProperty(Le.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Le.from=function(Fe,Ze){return de===void 0&&(de=d("./internal/streams/from")),de(Le,Fe,Ze)})}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(d,m,g){m.exports=ie;var w=d("../errors").codes,D=w.ERR_METHOD_NOT_IMPLEMENTED,j=w.ERR_MULTIPLE_CALLBACK,q=w.ERR_TRANSFORM_ALREADY_TRANSFORMING,te=w.ERR_TRANSFORM_WITH_LENGTH_0,re=d("./_stream_duplex");function ne(le,ue){var ce=this._transformState;ce.transforming=!1;var de=ce.writecb;if(de===null)return this.emit("error",new j);ce.writechunk=null,ce.writecb=null,ue!=null&&this.push(ue),de(le);var he=this._readableState;he.reading=!1,(he.needReadable||he.length<he.highWaterMark)&&this._read(he.highWaterMark)}function ie(le){if(!(this instanceof ie))return new ie(le);re.call(this,le),this._transformState={afterTransform:ne.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,le&&(typeof le.transform=="function"&&(this._transform=le.transform),typeof le.flush=="function"&&(this._flush=le.flush)),this.on("prefinish",ae)}function ae(){var le=this;typeof this._flush!="function"||this._readableState.destroyed?se(this,null,null):this._flush(function(ue,ce){se(le,ue,ce)})}function se(le,ue,ce){if(ue)return le.emit("error",ue);if(ce!=null&&le.push(ce),le._writableState.length)throw new te;if(le._transformState.transforming)throw new q;return le.push(null)}d("inherits")(ie,re),ie.prototype.push=function(le,ue){return this._transformState.needTransform=!1,re.prototype.push.call(this,le,ue)},ie.prototype._transform=function(le,ue,ce){ce(new D("_transform()"))},ie.prototype._write=function(le,ue,ce){var de=this._transformState;if(de.writecb=ce,de.writechunk=le,de.writeencoding=ue,!de.transforming){var he=this._readableState;(de.needTransform||he.needReadable||he.length<he.highWaterMark)&&this._read(he.highWaterMark)}},ie.prototype._read=function(le){var ue=this._transformState;ue.writechunk===null||ue.transforming?ue.needTransform=!0:(ue.transforming=!0,this._transform(ue.writechunk,ue.writeencoding,ue.afterTransform))},ie.prototype._destroy=function(le,ue){re.prototype._destroy.call(this,le,function(ce){ue(ce)})}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(d,m,g){(function(w,D){(function(){function j(Xe){var xe=this;this.next=null,this.entry=null,this.finish=function(){kt(xe,Xe)}}var q;m.exports=Ie,Ie.WritableState=_e;var te={deprecate:d("util-deprecate")},re=d("./internal/streams/stream"),ne=d("buffer").Buffer,ie=D.Uint8Array||function(){};function ae(Xe){return ne.from(Xe)}function se(Xe){return ne.isBuffer(Xe)||Xe instanceof ie}var le,ue=d("./internal/streams/destroy"),ce=d("./internal/streams/state").getHighWaterMark,de=d("../errors").codes,he=de.ERR_INVALID_ARG_TYPE,pe=de.ERR_METHOD_NOT_IMPLEMENTED,me=de.ERR_MULTIPLE_CALLBACK,ge=de.ERR_STREAM_CANNOT_PIPE,be=de.ERR_STREAM_DESTROYED,ke=de.ERR_STREAM_NULL_VALUES,ye=de.ERR_STREAM_WRITE_AFTER_END,Se=de.ERR_UNKNOWN_ENCODING,we=ue.errorOrDestroy;function Te(){}function _e(Xe,xe,qe){q=q||d("./_stream_duplex"),Xe=Xe||{},typeof qe!="boolean"&&(qe=xe instanceof q),this.objectMode=!!Xe.objectMode,qe&&(this.objectMode=this.objectMode||!!Xe.writableObjectMode),this.highWaterMark=ce(this,Xe,"writableHighWaterMark",qe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ze=Xe.decodeStrings===!1;this.decodeStrings=!ze,this.defaultEncoding=Xe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Oe){Ke(xe,Oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Xe.emitClose!==!1,this.autoDestroy=!!Xe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function Ie(Xe){var xe=this instanceof(q=q||d("./_stream_duplex"));if(!xe&&!le.call(Ie,this))return new Ie(Xe);this._writableState=new _e(Xe,this,xe),this.writable=!0,Xe&&(typeof Xe.write=="function"&&(this._write=Xe.write),typeof Xe.writev=="function"&&(this._writev=Xe.writev),typeof Xe.destroy=="function"&&(this._destroy=Xe.destroy),typeof Xe.final=="function"&&(this._final=Xe.final)),re.call(this)}function Le(Xe,xe){var qe=new ye;we(Xe,qe),w.nextTick(xe,qe)}function Be(Xe,xe,qe,ze){var Oe;return qe===null?Oe=new ke:typeof qe=="string"||xe.objectMode||(Oe=new he("chunk",["string","Buffer"],qe)),!Oe||(we(Xe,Oe),w.nextTick(ze,Oe),!1)}function Me(Xe,xe,qe){return Xe.objectMode||Xe.decodeStrings===!1||typeof xe!="string"||(xe=ne.from(xe,qe)),xe}function Ne(Xe,xe,qe,ze,Oe,Fe){if(!qe){var Ze=Me(xe,ze,Oe);ze!==Ze&&(qe=!0,Oe="buffer",ze=Ze)}var et=xe.objectMode?1:ze.length;xe.length+=et;var ve=xe.length<xe.highWaterMark;if(ve||(xe.needDrain=!0),xe.writing||xe.corked){var Ae=xe.lastBufferedRequest;xe.lastBufferedRequest={chunk:ze,encoding:Oe,isBuf:qe,callback:Fe,next:null},Ae?Ae.next=xe.lastBufferedRequest:xe.bufferedRequest=xe.lastBufferedRequest,xe.bufferedRequestCount+=1}else Ye(Xe,xe,!1,et,ze,Oe,Fe);return ve}function Ye(Xe,xe,qe,ze,Oe,Fe,Ze){xe.writelen=ze,xe.writecb=Ze,xe.writing=!0,xe.sync=!0,xe.destroyed?xe.onwrite(new be("write")):qe?Xe._writev(Oe,xe.onwrite):Xe._write(Oe,Fe,xe.onwrite),xe.sync=!1}function Ue(Xe,xe,qe,ze,Oe){--xe.pendingcb,qe?(w.nextTick(Oe,ze),w.nextTick(ut,Xe,xe),Xe._writableState.errorEmitted=!0,we(Xe,ze)):(Oe(ze),Xe._writableState.errorEmitted=!0,we(Xe,ze),ut(Xe,xe))}function $e(Xe){Xe.writing=!1,Xe.writecb=null,Xe.length-=Xe.writelen,Xe.writelen=0}function Ke(Xe,xe){var qe=Xe._writableState,ze=qe.sync,Oe=qe.writecb;if(typeof Oe!="function")throw new me;if($e(qe),xe)Ue(Xe,qe,ze,xe,Oe);else{var Fe=Je(qe)||Xe.destroyed;Fe||qe.corked||qe.bufferProcessing||!qe.bufferedRequest||it(Xe,qe),ze?w.nextTick(Pe,Xe,qe,Fe,Oe):Pe(Xe,qe,Fe,Oe)}}function Pe(Xe,xe,qe,ze){qe||He(Xe,xe),xe.pendingcb--,ze(),ut(Xe,xe)}function He(Xe,xe){xe.length===0&&xe.needDrain&&(xe.needDrain=!1,Xe.emit("drain"))}function it(Xe,xe){xe.bufferProcessing=!0;var qe=xe.bufferedRequest;if(Xe._writev&&qe&&qe.next){var ze=xe.bufferedRequestCount,Oe=new Array(ze),Fe=xe.corkedRequestsFree;Fe.entry=qe;for(var Ze=0,et=!0;qe;)Oe[Ze]=qe,qe.isBuf||(et=!1),qe=qe.next,Ze+=1;Oe.allBuffers=et,Ye(Xe,xe,!0,xe.length,Oe,"",Fe.finish),xe.pendingcb++,xe.lastBufferedRequest=null,Fe.next?(xe.corkedRequestsFree=Fe.next,Fe.next=null):xe.corkedRequestsFree=new j(xe),xe.bufferedRequestCount=0}else{for(;qe;){var ve=qe.chunk,Ae=qe.encoding,De=qe.callback;if(Ye(Xe,xe,!1,xe.objectMode?1:ve.length,ve,Ae,De),qe=qe.next,xe.bufferedRequestCount--,xe.writing)break}qe===null&&(xe.lastBufferedRequest=null)}xe.bufferedRequest=qe,xe.bufferProcessing=!1}function Je(Xe){return Xe.ending&&Xe.length===0&&Xe.bufferedRequest===null&&!Xe.finished&&!Xe.writing}function Ge(Xe,xe){Xe._final(function(qe){xe.pendingcb--,qe&&we(Xe,qe),xe.prefinished=!0,Xe.emit("prefinish"),ut(Xe,xe)})}function Qe(Xe,xe){xe.prefinished||xe.finalCalled||(typeof Xe._final!="function"||xe.destroyed?(xe.prefinished=!0,Xe.emit("prefinish")):(xe.pendingcb++,xe.finalCalled=!0,w.nextTick(Ge,Xe,xe)))}function ut(Xe,xe){var qe=Je(xe);if(qe&&(Qe(Xe,xe),xe.pendingcb===0&&(xe.finished=!0,Xe.emit("finish"),xe.autoDestroy))){var ze=Xe._readableState;(!ze||ze.autoDestroy&&ze.endEmitted)&&Xe.destroy()}return qe}function dt(Xe,xe,qe){xe.ending=!0,ut(Xe,xe),qe&&(xe.finished?w.nextTick(qe):Xe.once("finish",qe)),xe.ended=!0,Xe.writable=!1}function kt(Xe,xe,qe){var ze=Xe.entry;for(Xe.entry=null;ze;){var Oe=ze.callback;xe.pendingcb--,Oe(qe),ze=ze.next}xe.corkedRequestsFree.next=Xe}d("inherits")(Ie,re),_e.prototype.getBuffer=function(){for(var Xe=this.bufferedRequest,xe=[];Xe;)xe.push(Xe),Xe=Xe.next;return xe},function(){try{Object.defineProperty(_e.prototype,"buffer",{get:te.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(le=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ie,Symbol.hasInstance,{value:function(Xe){return!!le.call(this,Xe)||this===Ie&&Xe&&Xe._writableState instanceof _e}})):le=function(Xe){return Xe instanceof this},Ie.prototype.pipe=function(){we(this,new ge)},Ie.prototype.write=function(Xe,xe,qe){var ze=this._writableState,Oe=!1,Fe=!ze.objectMode&&se(Xe);return Fe&&!ne.isBuffer(Xe)&&(Xe=ae(Xe)),typeof xe=="function"&&(qe=xe,xe=null),Fe?xe="buffer":xe||(xe=ze.defaultEncoding),typeof qe!="function"&&(qe=Te),ze.ending?Le(this,qe):(Fe||Be(this,ze,Xe,qe))&&(ze.pendingcb++,Oe=Ne(this,ze,Fe,Xe,xe,qe)),Oe},Ie.prototype.cork=function(){this._writableState.corked++},Ie.prototype.uncork=function(){var Xe=this._writableState;Xe.corked&&(Xe.corked--,Xe.writing||Xe.corked||Xe.bufferProcessing||!Xe.bufferedRequest||it(this,Xe))},Ie.prototype.setDefaultEncoding=function(Xe){if(typeof Xe=="string"&&(Xe=Xe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Xe+"").toLowerCase())>-1))throw new Se(Xe);return this._writableState.defaultEncoding=Xe,this},Object.defineProperty(Ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Ie.prototype._write=function(Xe,xe,qe){qe(new pe("_write()"))},Ie.prototype._writev=null,Ie.prototype.end=function(Xe,xe,qe){var ze=this._writableState;return typeof Xe=="function"?(qe=Xe,Xe=null,xe=null):typeof xe=="function"&&(qe=xe,xe=null),Xe!=null&&this.write(Xe,xe),ze.corked&&(ze.corked=1,this.uncork()),ze.ending||dt(this,ze,qe),this},Object.defineProperty(Ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Xe){this._writableState&&(this._writableState.destroyed=Xe)}}),Ie.prototype.destroy=ue.destroy,Ie.prototype._undestroy=ue.undestroy,Ie.prototype._destroy=function(Xe,xe){xe(Xe)}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(d,m,g){(function(w){(function(){var D;function j(be,ke,ye){return ke in be?Object.defineProperty(be,ke,{value:ye,enumerable:!0,configurable:!0,writable:!0}):be[ke]=ye,be}var q=d("./end-of-stream"),te=Symbol("lastResolve"),re=Symbol("lastReject"),ne=Symbol("error"),ie=Symbol("ended"),ae=Symbol("lastPromise"),se=Symbol("handlePromise"),le=Symbol("stream");function ue(be,ke){return{value:be,done:ke}}function ce(be){var ke=be[te];if(ke!==null){var ye=be[le].read();ye!==null&&(be[ae]=null,be[te]=null,be[re]=null,ke(ue(ye,!1)))}}function de(be){w.nextTick(ce,be)}function he(be,ke){return function(ye,Se){be.then(function(){ke[ie]?ye(ue(void 0,!0)):ke[se](ye,Se)},Se)}}var pe=Object.getPrototypeOf(function(){}),me=Object.setPrototypeOf((D={get stream(){return this[le]},next:function(){var be=this,ke=this[ne];if(ke!==null)return Promise.reject(ke);if(this[ie])return Promise.resolve(ue(void 0,!0));if(this[le].destroyed)return new Promise(function(Te,_e){w.nextTick(function(){be[ne]?_e(be[ne]):Te(ue(void 0,!0))})});var ye,Se=this[ae];if(Se)ye=new Promise(he(Se,this));else{var we=this[le].read();if(we!==null)return Promise.resolve(ue(we,!1));ye=new Promise(this[se])}return this[ae]=ye,ye}},j(D,Symbol.asyncIterator,function(){return this}),j(D,"return",function(){var be=this;return new Promise(function(ke,ye){be[le].destroy(null,function(Se){Se?ye(Se):ke(ue(void 0,!0))})})}),D),pe),ge=function(be){var ke,ye=Object.create(me,(j(ke={},le,{value:be,writable:!0}),j(ke,te,{value:null,writable:!0}),j(ke,re,{value:null,writable:!0}),j(ke,ne,{value:null,writable:!0}),j(ke,ie,{value:be._readableState.endEmitted,writable:!0}),j(ke,se,{value:function(Se,we){var Te=ye[le].read();Te?(ye[ae]=null,ye[te]=null,ye[re]=null,Se(ue(Te,!1))):(ye[te]=Se,ye[re]=we)},writable:!0}),ke));return ye[ae]=null,q(be,function(Se){if(Se&&Se.code!=="ERR_STREAM_PREMATURE_CLOSE"){var we=ye[re];return we!==null&&(ye[ae]=null,ye[te]=null,ye[re]=null,we(Se)),void(ye[ne]=Se)}var Te=ye[te];Te!==null&&(ye[ae]=null,ye[te]=null,ye[re]=null,Te(ue(void 0,!0))),ye[ie]=!0}),be.on("readable",de.bind(null,ye)),ye};m.exports=ge}).call(this)}).call(this,d("_process"))},{"./end-of-stream":75,_process:63}],73:[function(d,m,g){function w(le,ue){var ce=Object.keys(le);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(le);ue&&(de=de.filter(function(he){return Object.getOwnPropertyDescriptor(le,he).enumerable})),ce.push.apply(ce,de)}return ce}function D(le){for(var ue=1;ue<arguments.length;ue++){var ce=arguments[ue]!=null?arguments[ue]:{};ue%2?w(Object(ce),!0).forEach(function(de){j(le,de,ce[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(ce)):w(Object(ce)).forEach(function(de){Object.defineProperty(le,de,Object.getOwnPropertyDescriptor(ce,de))})}return le}function j(le,ue,ce){return ue in le?Object.defineProperty(le,ue,{value:ce,enumerable:!0,configurable:!0,writable:!0}):le[ue]=ce,le}function q(le,ue){if(!(le instanceof ue))throw new TypeError("Cannot call a class as a function")}function te(le,ue){for(var ce=0;ce<ue.length;ce++){var de=ue[ce];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(le,de.key,de)}}function re(le,ue,ce){return te(le.prototype,ue),le}var ne=d("buffer").Buffer,ie=d("util").inspect,ae=ie&&ie.custom||"inspect";function se(le,ue,ce){ne.prototype.copy.call(le,ue,ce)}m.exports=function(){function le(){q(this,le),this.head=null,this.tail=null,this.length=0}return re(le,[{key:"push",value:function(ue){var ce={data:ue,next:null};this.length>0?this.tail.next=ce:this.head=ce,this.tail=ce,++this.length}},{key:"unshift",value:function(ue){var ce={data:ue,next:this.head};this.length===0&&(this.tail=ce),this.head=ce,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ue=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ue}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ue){if(this.length===0)return"";for(var ce=this.head,de=""+ce.data;ce=ce.next;)de+=ue+ce.data;return de}},{key:"concat",value:function(ue){if(this.length===0)return ne.alloc(0);for(var ce=ne.allocUnsafe(ue>>>0),de=this.head,he=0;de;)se(de.data,ce,he),he+=de.data.length,de=de.next;return ce}},{key:"consume",value:function(ue,ce){var de;return ue<this.head.data.length?(de=this.head.data.slice(0,ue),this.head.data=this.head.data.slice(ue)):de=ue===this.head.data.length?this.shift():ce?this._getString(ue):this._getBuffer(ue),de}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ue){var ce=this.head,de=1,he=ce.data;for(ue-=he.length;ce=ce.next;){var pe=ce.data,me=ue>pe.length?pe.length:ue;if(me===pe.length?he+=pe:he+=pe.slice(0,ue),(ue-=me)==0){me===pe.length?(++de,ce.next?this.head=ce.next:this.head=this.tail=null):(this.head=ce,ce.data=pe.slice(me));break}++de}return this.length-=de,he}},{key:"_getBuffer",value:function(ue){var ce=ne.allocUnsafe(ue),de=this.head,he=1;for(de.data.copy(ce),ue-=de.data.length;de=de.next;){var pe=de.data,me=ue>pe.length?pe.length:ue;if(pe.copy(ce,ce.length-ue,0,me),(ue-=me)==0){me===pe.length?(++he,de.next?this.head=de.next:this.head=this.tail=null):(this.head=de,de.data=pe.slice(me));break}++he}return this.length-=he,ce}},{key:ae,value:function(ue,ce){return ie(this,D({},ce,{depth:0,customInspect:!1}))}}]),le}()},{buffer:32,util:29}],74:[function(d,m,g){(function(w){(function(){function D(ie,ae){var se=this,le=this._readableState&&this._readableState.destroyed,ue=this._writableState&&this._writableState.destroyed;return le||ue?(ae?ae(ie):ie&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,w.nextTick(re,this,ie)):w.nextTick(re,this,ie)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ie||null,function(ce){!ae&&ce?se._writableState?se._writableState.errorEmitted?w.nextTick(q,se):(se._writableState.errorEmitted=!0,w.nextTick(j,se,ce)):w.nextTick(j,se,ce):ae?(w.nextTick(q,se),ae(ce)):w.nextTick(q,se)}),this)}function j(ie,ae){re(ie,ae),q(ie)}function q(ie){ie._writableState&&!ie._writableState.emitClose||ie._readableState&&!ie._readableState.emitClose||ie.emit("close")}function te(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function re(ie,ae){ie.emit("error",ae)}function ne(ie,ae){var se=ie._readableState,le=ie._writableState;se&&se.autoDestroy||le&&le.autoDestroy?ie.destroy(ae):ie.emit("error",ae)}m.exports={destroy:D,undestroy:te,errorOrDestroy:ne}}).call(this)}).call(this,d("_process"))},{_process:63}],75:[function(d,m,g){var w=d("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function D(re){var ne=!1;return function(){if(!ne){ne=!0;for(var ie=arguments.length,ae=new Array(ie),se=0;se<ie;se++)ae[se]=arguments[se];re.apply(this,ae)}}}function j(){}function q(re){return re.setHeader&&typeof re.abort=="function"}function te(re,ne,ie){if(typeof ne=="function")return te(re,null,ne);ne||(ne={}),ie=D(ie||j);var ae=ne.readable||ne.readable!==!1&&re.readable,se=ne.writable||ne.writable!==!1&&re.writable,le=function(){re.writable||ce()},ue=re._writableState&&re._writableState.finished,ce=function(){se=!1,ue=!0,ae||ie.call(re)},de=re._readableState&&re._readableState.endEmitted,he=function(){ae=!1,de=!0,se||ie.call(re)},pe=function(be){ie.call(re,be)},me=function(){var be;return ae&&!de?(re._readableState&&re._readableState.ended||(be=new w),ie.call(re,be)):se&&!ue?(re._writableState&&re._writableState.ended||(be=new w),ie.call(re,be)):void 0},ge=function(){re.req.on("finish",ce)};return q(re)?(re.on("complete",ce),re.on("abort",me),re.req?ge():re.on("request",ge)):se&&!re._writableState&&(re.on("end",le),re.on("close",le)),re.on("end",he),re.on("finish",ce),ne.error!==!1&&re.on("error",pe),re.on("close",me),function(){re.removeListener("complete",ce),re.removeListener("abort",me),re.removeListener("request",ge),re.req&&re.req.removeListener("finish",ce),re.removeListener("end",le),re.removeListener("close",le),re.removeListener("finish",ce),re.removeListener("end",he),re.removeListener("error",pe),re.removeListener("close",me)}}m.exports=te},{"../../../errors":66}],76:[function(d,m,g){m.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(d,m,g){var w;function D(ce){var de=!1;return function(){de||(de=!0,ce.apply(void 0,arguments))}}var j=d("../../../errors").codes,q=j.ERR_MISSING_ARGS,te=j.ERR_STREAM_DESTROYED;function re(ce){if(ce)throw ce}function ne(ce){return ce.setHeader&&typeof ce.abort=="function"}function ie(ce,de,he,pe){pe=D(pe);var me=!1;ce.on("close",function(){me=!0}),w===void 0&&(w=d("./end-of-stream")),w(ce,{readable:de,writable:he},function(be){if(be)return pe(be);me=!0,pe()});var ge=!1;return function(be){if(!me&&!ge)return ge=!0,ne(ce)?ce.abort():typeof ce.destroy=="function"?ce.destroy():void pe(be||new te("pipe"))}}function ae(ce){ce()}function se(ce,de){return ce.pipe(de)}function le(ce){return ce.length?typeof ce[ce.length-1]!="function"?re:ce.pop():re}function ue(){for(var ce=arguments.length,de=new Array(ce),he=0;he<ce;he++)de[he]=arguments[he];var pe,me=le(de);if(Array.isArray(de[0])&&(de=de[0]),de.length<2)throw new q("streams");var ge=de.map(function(be,ke){var ye=ke<de.length-1;return ie(be,ye,ke>0,function(Se){pe||(pe=Se),Se&&ge.forEach(ae),ye||(ge.forEach(ae),me(pe))})});return de.reduce(se)}m.exports=ue},{"../../../errors":66,"./end-of-stream":75}],78:[function(d,m,g){var w=d("../../../errors").codes.ERR_INVALID_OPT_VALUE;function D(q,te,re){return q.highWaterMark!=null?q.highWaterMark:te?q[re]:null}function j(q,te,re,ne){var ie=D(te,ne,re);if(ie!=null){if(!isFinite(ie)||Math.floor(ie)!==ie||ie<0)throw new w(ne?re:"highWaterMark",ie);return Math.floor(ie)}return q.objectMode?16:16384}m.exports={getHighWaterMark:j}},{"../../../errors":66}],79:[function(d,m,g){m.exports=d("events").EventEmitter},{events:35}],80:[function(d,m,g){var w=d("safe-buffer").Buffer,D=w.isEncoding||function(ge){switch((ge=""+ge)&&ge.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function j(ge){if(!ge)return"utf8";for(var be;;)switch(ge){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return ge;default:if(be)return;ge=(""+ge).toLowerCase(),be=!0}}function q(ge){var be=j(ge);if(typeof be!="string"&&(w.isEncoding===D||!D(ge)))throw new Error("Unknown encoding: "+ge);return be||ge}function te(ge){var be;switch(this.encoding=q(ge),this.encoding){case"utf16le":this.text=ue,this.end=ce,be=4;break;case"utf8":this.fillLast=ae,be=4;break;case"base64":this.text=de,this.end=he,be=3;break;default:return this.write=pe,void(this.end=me)}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(be)}function re(ge){return ge<=127?0:ge>>5==6?2:ge>>4==14?3:ge>>3==30?4:ge>>6==2?-1:-2}function ne(ge,be,ke){var ye=be.length-1;if(ye<ke)return 0;var Se=re(be[ye]);return Se>=0?(Se>0&&(ge.lastNeed=Se-1),Se):--ye<ke||Se===-2?0:(Se=re(be[ye]))>=0?(Se>0&&(ge.lastNeed=Se-2),Se):--ye<ke||Se===-2?0:(Se=re(be[ye]))>=0?(Se>0&&(Se===2?Se=0:ge.lastNeed=Se-3),Se):0}function ie(ge,be,ke){if((192&be[0])!=128)return ge.lastNeed=0,"";if(ge.lastNeed>1&&be.length>1){if((192&be[1])!=128)return ge.lastNeed=1,"";if(ge.lastNeed>2&&be.length>2&&(192&be[2])!=128)return ge.lastNeed=2,""}}function ae(ge){var be=this.lastTotal-this.lastNeed,ke=ie(this,ge);return ke!==void 0?ke:this.lastNeed<=ge.length?(ge.copy(this.lastChar,be,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ge.copy(this.lastChar,be,0,ge.length),void(this.lastNeed-=ge.length))}function se(ge,be){var ke=ne(this,ge,be);if(!this.lastNeed)return ge.toString("utf8",be);this.lastTotal=ke;var ye=ge.length-(ke-this.lastNeed);return ge.copy(this.lastChar,0,ye),ge.toString("utf8",be,ye)}function le(ge){var be=ge&&ge.length?this.write(ge):"";return this.lastNeed?be+"":be}function ue(ge,be){if((ge.length-be)%2==0){var ke=ge.toString("utf16le",be);if(ke){var ye=ke.charCodeAt(ke.length-1);if(ye>=55296&&ye<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ge[ge.length-2],this.lastChar[1]=ge[ge.length-1],ke.slice(0,-1)}return ke}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ge[ge.length-1],ge.toString("utf16le",be,ge.length-1)}function ce(ge){var be=ge&&ge.length?this.write(ge):"";if(this.lastNeed){var ke=this.lastTotal-this.lastNeed;return be+this.lastChar.toString("utf16le",0,ke)}return be}function de(ge,be){var ke=(ge.length-be)%3;return ke===0?ge.toString("base64",be):(this.lastNeed=3-ke,this.lastTotal=3,ke===1?this.lastChar[0]=ge[ge.length-1]:(this.lastChar[0]=ge[ge.length-2],this.lastChar[1]=ge[ge.length-1]),ge.toString("base64",be,ge.length-ke))}function he(ge){var be=ge&&ge.length?this.write(ge):"";return this.lastNeed?be+this.lastChar.toString("base64",0,3-this.lastNeed):be}function pe(ge){return ge.toString(this.encoding)}function me(ge){return ge&&ge.length?this.write(ge):""}g.StringDecoder=te,te.prototype.write=function(ge){if(ge.length===0)return"";var be,ke;if(this.lastNeed){if((be=this.fillLast(ge))===void 0)return"";ke=this.lastNeed,this.lastNeed=0}else ke=0;return ke<ge.length?be?be+this.text(ge,ke):this.text(ge,ke):be||""},te.prototype.end=le,te.prototype.text=se,te.prototype.fillLast=function(ge){if(this.lastNeed<=ge.length)return ge.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ge.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ge.length),this.lastNeed-=ge.length}},{"safe-buffer":64}],81:[function(d,m,g){(function(w){(function(){function D(q,te){if(j("noDeprecation"))return q;var re=!1;function ne(){if(!re){if(j("throwDeprecation"))throw new Error(te);j("traceDeprecation")?console.trace(te):console.warn(te),re=!0}return q.apply(this,arguments)}return ne}function j(q){try{if(!w.localStorage)return!1}catch{return!1}var te=w.localStorage[q];return te!=null&&String(te).toLowerCase()==="true"}m.exports=D}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],82:[function(d,m,g){arguments[4][25][0].apply(g,arguments)},{dup:25}],83:[function(d,m,g){var w=d("is-arguments"),D=d("is-generator-function"),j=d("which-typed-array"),q=d("is-typed-array");function te(je){return je.call.bind(je)}var re=typeof BigInt<"u",ne=typeof Symbol<"u",ie=te(Object.prototype.toString),ae=te(Number.prototype.valueOf),se=te(String.prototype.valueOf),le=te(Boolean.prototype.valueOf);if(re)var ue=te(BigInt.prototype.valueOf);if(ne)var ce=te(Symbol.prototype.valueOf);function de(je,St){if(typeof je!="object")return!1;try{return St(je),!0}catch{return!1}}function he(je){return typeof Promise<"u"&&je instanceof Promise||je!==null&&typeof je=="object"&&typeof je.then=="function"&&typeof je.catch=="function"}function pe(je){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(je):q(je)||Ge(je)}function me(je){return j(je)==="Uint8Array"}function ge(je){return j(je)==="Uint8ClampedArray"}function be(je){return j(je)==="Uint16Array"}function ke(je){return j(je)==="Uint32Array"}function ye(je){return j(je)==="Int8Array"}function Se(je){return j(je)==="Int16Array"}function we(je){return j(je)==="Int32Array"}function Te(je){return j(je)==="Float32Array"}function _e(je){return j(je)==="Float64Array"}function Ie(je){return j(je)==="BigInt64Array"}function Le(je){return j(je)==="BigUint64Array"}function Be(je){return ie(je)==="[object Map]"}function Me(je){return typeof Map<"u"&&(Be.working?Be(je):je instanceof Map)}function Ne(je){return ie(je)==="[object Set]"}function Ye(je){return typeof Set<"u"&&(Ne.working?Ne(je):je instanceof Set)}function Ue(je){return ie(je)==="[object WeakMap]"}function $e(je){return typeof WeakMap<"u"&&(Ue.working?Ue(je):je instanceof WeakMap)}function Ke(je){return ie(je)==="[object WeakSet]"}function Pe(je){return Ke(je)}function He(je){return ie(je)==="[object ArrayBuffer]"}function it(je){return typeof ArrayBuffer<"u"&&(He.working?He(je):je instanceof ArrayBuffer)}function Je(je){return ie(je)==="[object DataView]"}function Ge(je){return typeof DataView<"u"&&(Je.working?Je(je):je instanceof DataView)}g.isArgumentsObject=w,g.isGeneratorFunction=D,g.isTypedArray=q,g.isPromise=he,g.isArrayBufferView=pe,g.isUint8Array=me,g.isUint8ClampedArray=ge,g.isUint16Array=be,g.isUint32Array=ke,g.isInt8Array=ye,g.isInt16Array=Se,g.isInt32Array=we,g.isFloat32Array=Te,g.isFloat64Array=_e,g.isBigInt64Array=Ie,g.isBigUint64Array=Le,Be.working=typeof Map<"u"&&Be(new Map),g.isMap=Me,Ne.working=typeof Set<"u"&&Ne(new Set),g.isSet=Ye,Ue.working=typeof WeakMap<"u"&&Ue(new WeakMap),g.isWeakMap=$e,Ke.working=typeof WeakSet<"u"&&Ke(new WeakSet),g.isWeakSet=Pe,He.working=typeof ArrayBuffer<"u"&&He(new ArrayBuffer),g.isArrayBuffer=it,Je.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Je(new DataView(new ArrayBuffer(1),0,1)),g.isDataView=Ge;var Qe=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ut(je){return ie(je)==="[object SharedArrayBuffer]"}function dt(je){return Qe!==void 0&&(ut.working===void 0&&(ut.working=ut(new Qe)),ut.working?ut(je):je instanceof Qe)}function kt(je){return ie(je)==="[object AsyncFunction]"}function Xe(je){return ie(je)==="[object Map Iterator]"}function xe(je){return ie(je)==="[object Set Iterator]"}function qe(je){return ie(je)==="[object Generator]"}function ze(je){return ie(je)==="[object WebAssembly.Module]"}function Oe(je){return de(je,ae)}function Fe(je){return de(je,se)}function Ze(je){return de(je,le)}function et(je){return re&&de(je,ue)}function ve(je){return ne&&de(je,ce)}function Ae(je){return Oe(je)||Fe(je)||Ze(je)||et(je)||ve(je)}function De(je){return typeof Uint8Array<"u"&&(it(je)||dt(je))}g.isSharedArrayBuffer=dt,g.isAsyncFunction=kt,g.isMapIterator=Xe,g.isSetIterator=xe,g.isGeneratorObject=qe,g.isWebAssemblyCompiledModule=ze,g.isNumberObject=Oe,g.isStringObject=Fe,g.isBooleanObject=Ze,g.isBigIntObject=et,g.isSymbolObject=ve,g.isBoxedPrimitive=Ae,g.isAnyArrayBuffer=De,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(je){Object.defineProperty(g,je,{enumerable:!1,value:function(){throw new Error(je+" is not supported in userland")}})})},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(d,m,g){(function(w){(function(){var D=Object.getOwnPropertyDescriptors||function(Ge){for(var Qe=Object.keys(Ge),ut={},dt=0;dt<Qe.length;dt++)ut[Qe[dt]]=Object.getOwnPropertyDescriptor(Ge,Qe[dt]);return ut},j=/%[sdj%]/g;g.format=function(Ge){if(!Se(Ge)){for(var Qe=[],ut=0;ut<arguments.length;ut++)Qe.push(ne(arguments[ut]));return Qe.join(" ")}ut=1;for(var dt=arguments,kt=dt.length,Xe=String(Ge).replace(j,function(qe){if(qe==="%%")return"%";if(ut>=kt)return qe;switch(qe){case"%s":return String(dt[ut++]);case"%d":return Number(dt[ut++]);case"%j":try{return JSON.stringify(dt[ut++])}catch{return"[Circular]"}default:return qe}}),xe=dt[ut];ut<kt;xe=dt[++ut])be(xe)||!Ie(xe)?Xe+=" "+xe:Xe+=" "+ne(xe);return Xe},g.deprecate=function(Ge,Qe){if(w!==void 0&&w.noDeprecation===!0)return Ge;if(w===void 0)return function(){return g.deprecate(Ge,Qe).apply(this,arguments)};var ut=!1;function dt(){if(!ut){if(w.throwDeprecation)throw new Error(Qe);w.traceDeprecation?console.trace(Qe):console.error(Qe),ut=!0}return Ge.apply(this,arguments)}return dt};var q={},te=/^$/;if(w.env.NODE_DEBUG){var re=w.env.NODE_DEBUG;re=re.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),te=new RegExp("^"+re+"$","i")}function ne(Ge,Qe){var ut={seen:[],stylize:ae};return arguments.length>=3&&(ut.depth=arguments[2]),arguments.length>=4&&(ut.colors=arguments[3]),ge(Qe)?ut.showHidden=Qe:Qe&&g._extend(ut,Qe),Te(ut.showHidden)&&(ut.showHidden=!1),Te(ut.depth)&&(ut.depth=2),Te(ut.colors)&&(ut.colors=!1),Te(ut.customInspect)&&(ut.customInspect=!0),ut.colors&&(ut.stylize=ie),le(ut,Ge,ut.depth)}function ie(Ge,Qe){var ut=ne.styles[Qe];return ut?"\x1B["+ne.colors[ut][0]+"m"+Ge+"\x1B["+ne.colors[ut][1]+"m":Ge}function ae(Ge,Qe){return Ge}function se(Ge){var Qe={};return Ge.forEach(function(ut,dt){Qe[ut]=!0}),Qe}function le(Ge,Qe,ut){if(Ge.customInspect&&Qe&&Me(Qe.inspect)&&Qe.inspect!==g.inspect&&(!Qe.constructor||Qe.constructor.prototype!==Qe)){var dt=Qe.inspect(ut,Ge);return Se(dt)||(dt=le(Ge,dt,ut)),dt}var kt=ue(Ge,Qe);if(kt)return kt;var Xe=Object.keys(Qe),xe=se(Xe);if(Ge.showHidden&&(Xe=Object.getOwnPropertyNames(Qe)),Be(Qe)&&(Xe.indexOf("message")>=0||Xe.indexOf("description")>=0))return ce(Qe);if(Xe.length===0){if(Me(Qe)){var qe=Qe.name?": "+Qe.name:"";return Ge.stylize("[Function"+qe+"]","special")}if(_e(Qe))return Ge.stylize(RegExp.prototype.toString.call(Qe),"regexp");if(Le(Qe))return Ge.stylize(Date.prototype.toString.call(Qe),"date");if(Be(Qe))return ce(Qe)}var ze,Oe="",Fe=!1,Ze=["{","}"];return me(Qe)&&(Fe=!0,Ze=["[","]"]),Me(Qe)&&(Oe=" [Function"+(Qe.name?": "+Qe.name:"")+"]"),_e(Qe)&&(Oe=" "+RegExp.prototype.toString.call(Qe)),Le(Qe)&&(Oe=" "+Date.prototype.toUTCString.call(Qe)),Be(Qe)&&(Oe=" "+ce(Qe)),Xe.length!==0||Fe&&Qe.length!=0?ut<0?_e(Qe)?Ge.stylize(RegExp.prototype.toString.call(Qe),"regexp"):Ge.stylize("[Object]","special"):(Ge.seen.push(Qe),ze=Fe?de(Ge,Qe,ut,xe,Xe):Xe.map(function(et){return he(Ge,Qe,ut,xe,et,Fe)}),Ge.seen.pop(),pe(ze,Oe,Ze)):Ze[0]+Oe+Ze[1]}function ue(Ge,Qe){if(Te(Qe))return Ge.stylize("undefined","undefined");if(Se(Qe)){var ut="'"+JSON.stringify(Qe).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ge.stylize(ut,"string")}return ye(Qe)?Ge.stylize(""+Qe,"number"):ge(Qe)?Ge.stylize(""+Qe,"boolean"):be(Qe)?Ge.stylize("null","null"):void 0}function ce(Ge){return"["+Error.prototype.toString.call(Ge)+"]"}function de(Ge,Qe,ut,dt,kt){for(var Xe=[],xe=0,qe=Qe.length;xe<qe;++xe)Pe(Qe,String(xe))?Xe.push(he(Ge,Qe,ut,dt,String(xe),!0)):Xe.push("");return kt.forEach(function(ze){ze.match(/^\d+$/)||Xe.push(he(Ge,Qe,ut,dt,ze,!0))}),Xe}function he(Ge,Qe,ut,dt,kt,Xe){var xe,qe,ze;if((ze=Object.getOwnPropertyDescriptor(Qe,kt)||{value:Qe[kt]}).get?qe=ze.set?Ge.stylize("[Getter/Setter]","special"):Ge.stylize("[Getter]","special"):ze.set&&(qe=Ge.stylize("[Setter]","special")),Pe(dt,kt)||(xe="["+kt+"]"),qe||(Ge.seen.indexOf(ze.value)<0?(qe=be(ut)?le(Ge,ze.value,null):le(Ge,ze.value,ut-1)).indexOf(`
`)>-1&&(qe=Xe?qe.split(`
`).map(function(Oe){return"  "+Oe}).join(`
`).slice(2):`
`+qe.split(`
`).map(function(Oe){return"   "+Oe}).join(`
`)):qe=Ge.stylize("[Circular]","special")),Te(xe)){if(Xe&&kt.match(/^\d+$/))return qe;(xe=JSON.stringify(""+kt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(xe=xe.slice(1,-1),xe=Ge.stylize(xe,"name")):(xe=xe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),xe=Ge.stylize(xe,"string"))}return xe+": "+qe}function pe(Ge,Qe,ut){return Ge.reduce(function(dt,kt){return kt.indexOf(`
`),dt+kt.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ut[0]+(Qe===""?"":Qe+`
 `)+" "+Ge.join(`,
  `)+" "+ut[1]:ut[0]+Qe+" "+Ge.join(", ")+" "+ut[1]}function me(Ge){return Array.isArray(Ge)}function ge(Ge){return typeof Ge=="boolean"}function be(Ge){return Ge===null}function ke(Ge){return Ge==null}function ye(Ge){return typeof Ge=="number"}function Se(Ge){return typeof Ge=="string"}function we(Ge){return typeof Ge=="symbol"}function Te(Ge){return Ge===void 0}function _e(Ge){return Ie(Ge)&&Ye(Ge)==="[object RegExp]"}function Ie(Ge){return typeof Ge=="object"&&Ge!==null}function Le(Ge){return Ie(Ge)&&Ye(Ge)==="[object Date]"}function Be(Ge){return Ie(Ge)&&(Ye(Ge)==="[object Error]"||Ge instanceof Error)}function Me(Ge){return typeof Ge=="function"}function Ne(Ge){return Ge===null||typeof Ge=="boolean"||typeof Ge=="number"||typeof Ge=="string"||typeof Ge=="symbol"||Ge===void 0}function Ye(Ge){return Object.prototype.toString.call(Ge)}function Ue(Ge){return Ge<10?"0"+Ge.toString(10):Ge.toString(10)}g.debuglog=function(Ge){if(Ge=Ge.toUpperCase(),!q[Ge])if(te.test(Ge)){var Qe=w.pid;q[Ge]=function(){var ut=g.format.apply(g,arguments);console.error("%s %d: %s",Ge,Qe,ut)}}else q[Ge]=function(){};return q[Ge]},g.inspect=ne,ne.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ne.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.types=d("./support/types"),g.isArray=me,g.isBoolean=ge,g.isNull=be,g.isNullOrUndefined=ke,g.isNumber=ye,g.isString=Se,g.isSymbol=we,g.isUndefined=Te,g.isRegExp=_e,g.types.isRegExp=_e,g.isObject=Ie,g.isDate=Le,g.types.isDate=Le,g.isError=Be,g.types.isNativeError=Be,g.isFunction=Me,g.isPrimitive=Ne,g.isBuffer=d("./support/isBuffer");var $e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ke(){var Ge=new Date,Qe=[Ue(Ge.getHours()),Ue(Ge.getMinutes()),Ue(Ge.getSeconds())].join(":");return[Ge.getDate(),$e[Ge.getMonth()],Qe].join(" ")}function Pe(Ge,Qe){return Object.prototype.hasOwnProperty.call(Ge,Qe)}g.log=function(){console.log("%s - %s",Ke(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function(Ge,Qe){if(!Qe||!Ie(Qe))return Ge;for(var ut=Object.keys(Qe),dt=ut.length;dt--;)Ge[ut[dt]]=Qe[ut[dt]];return Ge};var He=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function it(Ge,Qe){if(!Ge){var ut=new Error("Promise was rejected with a falsy value");ut.reason=Ge,Ge=ut}return Qe(Ge)}function Je(Ge){if(typeof Ge!="function")throw new TypeError('The "original" argument must be of type Function');function Qe(){for(var ut=[],dt=0;dt<arguments.length;dt++)ut.push(arguments[dt]);var kt=ut.pop();if(typeof kt!="function")throw new TypeError("The last argument must be of type Function");var Xe=this,xe=function(){return kt.apply(Xe,arguments)};Ge.apply(this,ut).then(function(qe){w.nextTick(xe.bind(null,null,qe))},function(qe){w.nextTick(it.bind(null,qe,xe))})}return Object.setPrototypeOf(Qe,Object.getPrototypeOf(Ge)),Object.defineProperties(Qe,D(Ge)),Qe}g.promisify=function(Ge){if(typeof Ge!="function")throw new TypeError('The "original" argument must be of type Function');if(He&&Ge[He]){var Qe;if(typeof(Qe=Ge[He])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Qe,He,{value:Qe,enumerable:!1,writable:!1,configurable:!0}),Qe}function Qe(){for(var ut,dt,kt=new Promise(function(qe,ze){ut=qe,dt=ze}),Xe=[],xe=0;xe<arguments.length;xe++)Xe.push(arguments[xe]);Xe.push(function(qe,ze){qe?dt(qe):ut(ze)});try{Ge.apply(this,Xe)}catch(qe){dt(qe)}return kt}return Object.setPrototypeOf(Qe,Object.getPrototypeOf(Ge)),He&&Object.defineProperty(Qe,He,{value:Qe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Qe,D(Ge))},g.promisify.custom=He,g.callbackify=Je}).call(this)}).call(this,d("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(d,m,g){(function(w){(function(){var D=d("for-each"),j=d("available-typed-arrays"),q=d("call-bind/callBound"),te=d("gopd"),re=q("Object.prototype.toString"),ne=d("has-tostringtag/shams")(),ie=typeof globalThis>"u"?w:globalThis,ae=j(),se=q("String.prototype.slice"),le={},ue=Object.getPrototypeOf;ne&&te&&ue&&D(ae,function(he){if(typeof ie[he]=="function"){var pe=new ie[he];if(Symbol.toStringTag in pe){var me=ue(pe),ge=te(me,Symbol.toStringTag);if(!ge){var be=ue(me);ge=te(be,Symbol.toStringTag)}le[he]=ge.get}}});var ce=function(he){var pe=!1;return D(le,function(me,ge){if(!pe)try{var be=me.call(he);be===ge&&(pe=be)}catch{}}),pe},de=d("is-typed-array");m.exports=function(he){return!!de(he)&&(ne&&Symbol.toStringTag in he?ce(he):se(re(he),8,-1))}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20);var browserExports=browser$1.exports,PNGFilterType,PNGFilterType2,PNGColorType,PNGColorType2;function png(){return{mime:"image/png",hasAlpha:!0,encode:(d,{deflateLevel:m=9,deflateStrategy:g=3,filterType:w=PNGFilterType.AUTO,colorType:D,inputHasAlpha:j=!0,...q}={})=>{const te=new browserExports.PNG({width:d.width,height:d.height});return te.data=d.data,browserExports.PNG.sync.write(te,{...q,deflateLevel:m,deflateStrategy:g,filterType:w,colorType:D!==void 0?D:j?PNGColorType.COLOR_ALPHA:PNGColorType.COLOR,inputHasAlpha:j})},decode:(d,m)=>{const g=browserExports.PNG.sync.read(d,m);return{data:g.data,width:g.width,height:g.height}}}}PNGFilterType2=PNGFilterType||(PNGFilterType={}),PNGFilterType2[PNGFilterType2.AUTO=-1]="AUTO",PNGFilterType2[PNGFilterType2.NONE=0]="NONE",PNGFilterType2[PNGFilterType2.SUB=1]="SUB",PNGFilterType2[PNGFilterType2.UP=2]="UP",PNGFilterType2[PNGFilterType2.AVERAGE=3]="AVERAGE",PNGFilterType2[PNGFilterType2.PATH=4]="PATH",PNGColorType2=PNGColorType||(PNGColorType={}),PNGColorType2[PNGColorType2.GRAYSCALE=0]="GRAYSCALE",PNGColorType2[PNGColorType2.COLOR=2]="COLOR",PNGColorType2[PNGColorType2.GRAYSCALE_ALPHA=4]="GRAYSCALE_ALPHA",PNGColorType2[PNGColorType2.COLOR_ALPHA=6]="COLOR_ALPHA";var UTIF={exports:{}},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(d){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function g(j,q){return Object.prototype.hasOwnProperty.call(j,q)}d.assign=function(j){for(var q=Array.prototype.slice.call(arguments,1);q.length;){var te=q.shift();if(te){if(typeof te!="object")throw new TypeError(te+"must be non-object");for(var re in te)g(te,re)&&(j[re]=te[re])}}return j},d.shrinkBuf=function(j,q){return j.length===q?j:j.subarray?j.subarray(0,q):(j.length=q,j)};var w={arraySet:function(j,q,te,re,ne){if(q.subarray&&j.subarray)j.set(q.subarray(te,te+re),ne);else for(var ie=0;ie<re;ie++)j[ne+ie]=q[te+ie]},flattenChunks:function(j){var q,te,re,ne,ie,ae;for(re=0,q=0,te=j.length;q<te;q++)re+=j[q].length;for(ae=new Uint8Array(re),ne=0,q=0,te=j.length;q<te;q++)ie=j[q],ae.set(ie,ne),ne+=ie.length;return ae}},D={arraySet:function(j,q,te,re,ne){for(var ie=0;ie<re;ie++)j[ne+ie]=q[te+ie]},flattenChunks:function(j){return[].concat.apply([],j)}};d.setTyped=function(j){j?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,w)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,D))},d.setTyped(m)}(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees,adler32_1,hasRequiredAdler32,crc32_1,hasRequiredCrc32,messages,hasRequiredMessages,hasRequiredDeflate$1;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var d=requireCommon(),m=0,g=1;function w(ze){for(var Oe=ze.length;--Oe>=0;)ze[Oe]=0}var D=0,j=29,q=256,te=q+1+j,re=30,ne=19,ie=2*te+1,ae=15,se=16,le=7,ue=256,ce=16,de=17,he=18,pe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],me=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ke=new Array(2*(te+2));w(ke);var ye=new Array(2*re);w(ye);var Se=new Array(512);w(Se);var we=new Array(256);w(we);var Te=new Array(j);w(Te);var _e,Ie,Le,Be=new Array(re);function Me(ze,Oe,Fe,Ze,et){this.static_tree=ze,this.extra_bits=Oe,this.extra_base=Fe,this.elems=Ze,this.max_length=et,this.has_stree=ze&&ze.length}function Ne(ze,Oe){this.dyn_tree=ze,this.max_code=0,this.stat_desc=Oe}function Ye(ze){return ze<256?Se[ze]:Se[256+(ze>>>7)]}function Ue(ze,Oe){ze.pending_buf[ze.pending++]=255&Oe,ze.pending_buf[ze.pending++]=Oe>>>8&255}function $e(ze,Oe,Fe){ze.bi_valid>se-Fe?(ze.bi_buf|=Oe<<ze.bi_valid&65535,Ue(ze,ze.bi_buf),ze.bi_buf=Oe>>se-ze.bi_valid,ze.bi_valid+=Fe-se):(ze.bi_buf|=Oe<<ze.bi_valid&65535,ze.bi_valid+=Fe)}function Ke(ze,Oe,Fe){$e(ze,Fe[2*Oe],Fe[2*Oe+1])}function Pe(ze,Oe){var Fe=0;do Fe|=1&ze,ze>>>=1,Fe<<=1;while(--Oe>0);return Fe>>>1}function He(ze,Oe,Fe){var Ze,et,ve=new Array(ae+1),Ae=0;for(Ze=1;Ze<=ae;Ze++)ve[Ze]=Ae=Ae+Fe[Ze-1]<<1;for(et=0;et<=Oe;et++){var De=ze[2*et+1];De!==0&&(ze[2*et]=Pe(ve[De]++,De))}}function it(ze){var Oe;for(Oe=0;Oe<te;Oe++)ze.dyn_ltree[2*Oe]=0;for(Oe=0;Oe<re;Oe++)ze.dyn_dtree[2*Oe]=0;for(Oe=0;Oe<ne;Oe++)ze.bl_tree[2*Oe]=0;ze.dyn_ltree[2*ue]=1,ze.opt_len=ze.static_len=0,ze.last_lit=ze.matches=0}function Je(ze){ze.bi_valid>8?Ue(ze,ze.bi_buf):ze.bi_valid>0&&(ze.pending_buf[ze.pending++]=ze.bi_buf),ze.bi_buf=0,ze.bi_valid=0}function Ge(ze,Oe,Fe,Ze){var et=2*Oe,ve=2*Fe;return ze[et]<ze[ve]||ze[et]===ze[ve]&&Ze[Oe]<=Ze[Fe]}function Qe(ze,Oe,Fe){for(var Ze=ze.heap[Fe],et=Fe<<1;et<=ze.heap_len&&(et<ze.heap_len&&Ge(Oe,ze.heap[et+1],ze.heap[et],ze.depth)&&et++,!Ge(Oe,Ze,ze.heap[et],ze.depth));)ze.heap[Fe]=ze.heap[et],Fe=et,et<<=1;ze.heap[Fe]=Ze}function ut(ze,Oe,Fe){var Ze,et,ve,Ae,De=0;if(ze.last_lit!==0)do Ze=ze.pending_buf[ze.d_buf+2*De]<<8|ze.pending_buf[ze.d_buf+2*De+1],et=ze.pending_buf[ze.l_buf+De],De++,Ze===0?Ke(ze,et,Oe):(Ke(ze,(ve=we[et])+q+1,Oe),(Ae=pe[ve])!==0&&$e(ze,et-=Te[ve],Ae),Ke(ze,ve=Ye(--Ze),Fe),(Ae=me[ve])!==0&&$e(ze,Ze-=Be[ve],Ae));while(De<ze.last_lit);Ke(ze,ue,Oe)}function dt(ze,Oe){var Fe,Ze,et,ve=Oe.dyn_tree,Ae=Oe.stat_desc.static_tree,De=Oe.stat_desc.has_stree,je=Oe.stat_desc.elems,St=-1;for(ze.heap_len=0,ze.heap_max=ie,Fe=0;Fe<je;Fe++)ve[2*Fe]!==0?(ze.heap[++ze.heap_len]=St=Fe,ze.depth[Fe]=0):ve[2*Fe+1]=0;for(;ze.heap_len<2;)ve[2*(et=ze.heap[++ze.heap_len]=St<2?++St:0)]=1,ze.depth[et]=0,ze.opt_len--,De&&(ze.static_len-=Ae[2*et+1]);for(Oe.max_code=St,Fe=ze.heap_len>>1;Fe>=1;Fe--)Qe(ze,ve,Fe);et=je;do Fe=ze.heap[1],ze.heap[1]=ze.heap[ze.heap_len--],Qe(ze,ve,1),Ze=ze.heap[1],ze.heap[--ze.heap_max]=Fe,ze.heap[--ze.heap_max]=Ze,ve[2*et]=ve[2*Fe]+ve[2*Ze],ze.depth[et]=(ze.depth[Fe]>=ze.depth[Ze]?ze.depth[Fe]:ze.depth[Ze])+1,ve[2*Fe+1]=ve[2*Ze+1]=et,ze.heap[1]=et++,Qe(ze,ve,1);while(ze.heap_len>=2);ze.heap[--ze.heap_max]=ze.heap[1],function(Bt,tr){var ir,Yt,ar,rr,gr,dr,hr=tr.dyn_tree,kr=tr.max_code,fr=tr.stat_desc.static_tree,ot=tr.stat_desc.has_stree,nr=tr.stat_desc.extra_bits,Tt=tr.stat_desc.extra_base,jt=tr.stat_desc.max_length,We=0;for(rr=0;rr<=ae;rr++)Bt.bl_count[rr]=0;for(hr[2*Bt.heap[Bt.heap_max]+1]=0,ir=Bt.heap_max+1;ir<ie;ir++)(rr=hr[2*hr[2*(Yt=Bt.heap[ir])+1]+1]+1)>jt&&(rr=jt,We++),hr[2*Yt+1]=rr,Yt>kr||(Bt.bl_count[rr]++,gr=0,Yt>=Tt&&(gr=nr[Yt-Tt]),dr=hr[2*Yt],Bt.opt_len+=dr*(rr+gr),ot&&(Bt.static_len+=dr*(fr[2*Yt+1]+gr)));if(We!==0){do{for(rr=jt-1;Bt.bl_count[rr]===0;)rr--;Bt.bl_count[rr]--,Bt.bl_count[rr+1]+=2,Bt.bl_count[jt]--,We-=2}while(We>0);for(rr=jt;rr!==0;rr--)for(Yt=Bt.bl_count[rr];Yt!==0;)(ar=Bt.heap[--ir])>kr||(hr[2*ar+1]!==rr&&(Bt.opt_len+=(rr-hr[2*ar+1])*hr[2*ar],hr[2*ar+1]=rr),Yt--)}}(ze,Oe),He(ve,St,ze.bl_count)}function kt(ze,Oe,Fe){var Ze,et,ve=-1,Ae=Oe[1],De=0,je=7,St=4;for(Ae===0&&(je=138,St=3),Oe[2*(Fe+1)+1]=65535,Ze=0;Ze<=Fe;Ze++)et=Ae,Ae=Oe[2*(Ze+1)+1],++De<je&&et===Ae||(De<St?ze.bl_tree[2*et]+=De:et!==0?(et!==ve&&ze.bl_tree[2*et]++,ze.bl_tree[2*ce]++):De<=10?ze.bl_tree[2*de]++:ze.bl_tree[2*he]++,De=0,ve=et,Ae===0?(je=138,St=3):et===Ae?(je=6,St=3):(je=7,St=4))}function Xe(ze,Oe,Fe){var Ze,et,ve=-1,Ae=Oe[1],De=0,je=7,St=4;for(Ae===0&&(je=138,St=3),Ze=0;Ze<=Fe;Ze++)if(et=Ae,Ae=Oe[2*(Ze+1)+1],!(++De<je&&et===Ae)){if(De<St)do Ke(ze,et,ze.bl_tree);while(--De!=0);else et!==0?(et!==ve&&(Ke(ze,et,ze.bl_tree),De--),Ke(ze,ce,ze.bl_tree),$e(ze,De-3,2)):De<=10?(Ke(ze,de,ze.bl_tree),$e(ze,De-3,3)):(Ke(ze,he,ze.bl_tree),$e(ze,De-11,7));De=0,ve=et,Ae===0?(je=138,St=3):et===Ae?(je=6,St=3):(je=7,St=4)}}w(Be);var xe=!1;function qe(ze,Oe,Fe,Ze){$e(ze,(D<<1)+(Ze?1:0),3),function(et,ve,Ae,De){Je(et),Ue(et,Ae),Ue(et,~Ae),d.arraySet(et.pending_buf,et.window,ve,Ae,et.pending),et.pending+=Ae}(ze,Oe,Fe)}return trees._tr_init=function(ze){xe||(function(){var Oe,Fe,Ze,et,ve,Ae=new Array(ae+1);for(Ze=0,et=0;et<j-1;et++)for(Te[et]=Ze,Oe=0;Oe<1<<pe[et];Oe++)we[Ze++]=et;for(we[Ze-1]=et,ve=0,et=0;et<16;et++)for(Be[et]=ve,Oe=0;Oe<1<<me[et];Oe++)Se[ve++]=et;for(ve>>=7;et<re;et++)for(Be[et]=ve<<7,Oe=0;Oe<1<<me[et]-7;Oe++)Se[256+ve++]=et;for(Fe=0;Fe<=ae;Fe++)Ae[Fe]=0;for(Oe=0;Oe<=143;)ke[2*Oe+1]=8,Oe++,Ae[8]++;for(;Oe<=255;)ke[2*Oe+1]=9,Oe++,Ae[9]++;for(;Oe<=279;)ke[2*Oe+1]=7,Oe++,Ae[7]++;for(;Oe<=287;)ke[2*Oe+1]=8,Oe++,Ae[8]++;for(He(ke,te+1,Ae),Oe=0;Oe<re;Oe++)ye[2*Oe+1]=5,ye[2*Oe]=Pe(Oe,5);_e=new Me(ke,pe,q+1,te,ae),Ie=new Me(ye,me,0,re,ae),Le=new Me(new Array(0),ge,0,ne,le)}(),xe=!0),ze.l_desc=new Ne(ze.dyn_ltree,_e),ze.d_desc=new Ne(ze.dyn_dtree,Ie),ze.bl_desc=new Ne(ze.bl_tree,Le),ze.bi_buf=0,ze.bi_valid=0,it(ze)},trees._tr_stored_block=qe,trees._tr_flush_block=function(ze,Oe,Fe,Ze){var et,ve,Ae=0;ze.level>0?(ze.strm.data_type===2&&(ze.strm.data_type=function(De){var je,St=4093624447;for(je=0;je<=31;je++,St>>>=1)if(1&St&&De.dyn_ltree[2*je]!==0)return m;if(De.dyn_ltree[18]!==0||De.dyn_ltree[20]!==0||De.dyn_ltree[26]!==0)return g;for(je=32;je<q;je++)if(De.dyn_ltree[2*je]!==0)return g;return m}(ze)),dt(ze,ze.l_desc),dt(ze,ze.d_desc),Ae=function(De){var je;for(kt(De,De.dyn_ltree,De.l_desc.max_code),kt(De,De.dyn_dtree,De.d_desc.max_code),dt(De,De.bl_desc),je=ne-1;je>=3&&De.bl_tree[2*be[je]+1]===0;je--);return De.opt_len+=3*(je+1)+5+5+4,je}(ze),et=ze.opt_len+3+7>>>3,(ve=ze.static_len+3+7>>>3)<=et&&(et=ve)):et=ve=Fe+5,Fe+4<=et&&Oe!==-1?qe(ze,Oe,Fe,Ze):ze.strategy===4||ve===et?($e(ze,2+(Ze?1:0),3),ut(ze,ke,ye)):($e(ze,4+(Ze?1:0),3),function(De,je,St,Bt){var tr;for($e(De,je-257,5),$e(De,St-1,5),$e(De,Bt-4,4),tr=0;tr<Bt;tr++)$e(De,De.bl_tree[2*be[tr]+1],3);Xe(De,De.dyn_ltree,je-1),Xe(De,De.dyn_dtree,St-1)}(ze,ze.l_desc.max_code+1,ze.d_desc.max_code+1,Ae+1),ut(ze,ze.dyn_ltree,ze.dyn_dtree)),it(ze),Ze&&Je(ze)},trees._tr_tally=function(ze,Oe,Fe){return ze.pending_buf[ze.d_buf+2*ze.last_lit]=Oe>>>8&255,ze.pending_buf[ze.d_buf+2*ze.last_lit+1]=255&Oe,ze.pending_buf[ze.l_buf+ze.last_lit]=255&Fe,ze.last_lit++,Oe===0?ze.dyn_ltree[2*Fe]++:(ze.matches++,Oe--,ze.dyn_ltree[2*(we[Fe]+q+1)]++,ze.dyn_dtree[2*Ye(Oe)]++),ze.last_lit===ze.lit_bufsize-1},trees._tr_align=function(ze){$e(ze,2,3),Ke(ze,ue,ke),function(Oe){Oe.bi_valid===16?(Ue(Oe,Oe.bi_buf),Oe.bi_buf=0,Oe.bi_valid=0):Oe.bi_valid>=8&&(Oe.pending_buf[Oe.pending++]=255&Oe.bi_buf,Oe.bi_buf>>=8,Oe.bi_valid-=8)}(ze)},trees}function requireAdler32(){return hasRequiredAdler32||(hasRequiredAdler32=1,adler32_1=function(d,m,g,w){for(var D=65535&d,j=d>>>16&65535,q=0;g!==0;){g-=q=g>2e3?2e3:g;do j=j+(D=D+m[w++]|0)|0;while(--q);D%=65521,j%=65521}return D|j<<16}),adler32_1}function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;var d=function(){for(var m,g=[],w=0;w<256;w++){m=w;for(var D=0;D<8;D++)m=1&m?3988292384^m>>>1:m>>>1;g[w]=m}return g}();return crc32_1=function(m,g,w,D){var j=d,q=D+w;m^=-1;for(var te=D;te<q;te++)m=m>>>8^j[255&(m^g[te])];return~m},crc32_1}function requireMessages(){return hasRequiredMessages?messages:(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"})}function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var d,m=requireCommon(),g=requireTrees(),w=requireAdler32(),D=requireCrc32(),j=requireMessages(),q=0,te=4,re=0,ne=-2,ie=-1,ae=4,se=2,le=8,ue=9,ce=286,de=30,he=19,pe=2*ce+1,me=15,ge=3,be=258,ke=be+ge+1,ye=42,Se=103,we=113,Te=666,_e=1,Ie=2,Le=3,Be=4;function Me(xe,qe){return xe.msg=j[qe],qe}function Ne(xe){return(xe<<1)-(xe>4?9:0)}function Ye(xe){for(var qe=xe.length;--qe>=0;)xe[qe]=0}function Ue(xe){var qe=xe.state,ze=qe.pending;ze>xe.avail_out&&(ze=xe.avail_out),ze!==0&&(m.arraySet(xe.output,qe.pending_buf,qe.pending_out,ze,xe.next_out),xe.next_out+=ze,qe.pending_out+=ze,xe.total_out+=ze,xe.avail_out-=ze,qe.pending-=ze,qe.pending===0&&(qe.pending_out=0))}function $e(xe,qe){g._tr_flush_block(xe,xe.block_start>=0?xe.block_start:-1,xe.strstart-xe.block_start,qe),xe.block_start=xe.strstart,Ue(xe.strm)}function Ke(xe,qe){xe.pending_buf[xe.pending++]=qe}function Pe(xe,qe){xe.pending_buf[xe.pending++]=qe>>>8&255,xe.pending_buf[xe.pending++]=255&qe}function He(xe,qe){var ze,Oe,Fe=xe.max_chain_length,Ze=xe.strstart,et=xe.prev_length,ve=xe.nice_match,Ae=xe.strstart>xe.w_size-ke?xe.strstart-(xe.w_size-ke):0,De=xe.window,je=xe.w_mask,St=xe.prev,Bt=xe.strstart+be,tr=De[Ze+et-1],ir=De[Ze+et];xe.prev_length>=xe.good_match&&(Fe>>=2),ve>xe.lookahead&&(ve=xe.lookahead);do if(De[(ze=qe)+et]===ir&&De[ze+et-1]===tr&&De[ze]===De[Ze]&&De[++ze]===De[Ze+1]){Ze+=2,ze++;do;while(De[++Ze]===De[++ze]&&De[++Ze]===De[++ze]&&De[++Ze]===De[++ze]&&De[++Ze]===De[++ze]&&De[++Ze]===De[++ze]&&De[++Ze]===De[++ze]&&De[++Ze]===De[++ze]&&De[++Ze]===De[++ze]&&Ze<Bt);if(Oe=be-(Bt-Ze),Ze=Bt-be,Oe>et){if(xe.match_start=qe,et=Oe,Oe>=ve)break;tr=De[Ze+et-1],ir=De[Ze+et]}}while((qe=St[qe&je])>Ae&&--Fe!=0);return et<=xe.lookahead?et:xe.lookahead}function it(xe){var qe,ze,Oe,Fe,Ze,et,ve,Ae,De,je,St=xe.w_size;do{if(Fe=xe.window_size-xe.lookahead-xe.strstart,xe.strstart>=St+(St-ke)){m.arraySet(xe.window,xe.window,St,St,0),xe.match_start-=St,xe.strstart-=St,xe.block_start-=St,qe=ze=xe.hash_size;do Oe=xe.head[--qe],xe.head[qe]=Oe>=St?Oe-St:0;while(--ze);qe=ze=St;do Oe=xe.prev[--qe],xe.prev[qe]=Oe>=St?Oe-St:0;while(--ze);Fe+=St}if(xe.strm.avail_in===0)break;if(et=xe.strm,ve=xe.window,Ae=xe.strstart+xe.lookahead,De=Fe,je=void 0,(je=et.avail_in)>De&&(je=De),ze=je===0?0:(et.avail_in-=je,m.arraySet(ve,et.input,et.next_in,je,Ae),et.state.wrap===1?et.adler=w(et.adler,ve,je,Ae):et.state.wrap===2&&(et.adler=D(et.adler,ve,je,Ae)),et.next_in+=je,et.total_in+=je,je),xe.lookahead+=ze,xe.lookahead+xe.insert>=ge)for(Ze=xe.strstart-xe.insert,xe.ins_h=xe.window[Ze],xe.ins_h=(xe.ins_h<<xe.hash_shift^xe.window[Ze+1])&xe.hash_mask;xe.insert&&(xe.ins_h=(xe.ins_h<<xe.hash_shift^xe.window[Ze+ge-1])&xe.hash_mask,xe.prev[Ze&xe.w_mask]=xe.head[xe.ins_h],xe.head[xe.ins_h]=Ze,Ze++,xe.insert--,!(xe.lookahead+xe.insert<ge)););}while(xe.lookahead<ke&&xe.strm.avail_in!==0)}function Je(xe,qe){for(var ze,Oe;;){if(xe.lookahead<ke){if(it(xe),xe.lookahead<ke&&qe===q)return _e;if(xe.lookahead===0)break}if(ze=0,xe.lookahead>=ge&&(xe.ins_h=(xe.ins_h<<xe.hash_shift^xe.window[xe.strstart+ge-1])&xe.hash_mask,ze=xe.prev[xe.strstart&xe.w_mask]=xe.head[xe.ins_h],xe.head[xe.ins_h]=xe.strstart),ze!==0&&xe.strstart-ze<=xe.w_size-ke&&(xe.match_length=He(xe,ze)),xe.match_length>=ge)if(Oe=g._tr_tally(xe,xe.strstart-xe.match_start,xe.match_length-ge),xe.lookahead-=xe.match_length,xe.match_length<=xe.max_lazy_match&&xe.lookahead>=ge){xe.match_length--;do xe.strstart++,xe.ins_h=(xe.ins_h<<xe.hash_shift^xe.window[xe.strstart+ge-1])&xe.hash_mask,ze=xe.prev[xe.strstart&xe.w_mask]=xe.head[xe.ins_h],xe.head[xe.ins_h]=xe.strstart;while(--xe.match_length!=0);xe.strstart++}else xe.strstart+=xe.match_length,xe.match_length=0,xe.ins_h=xe.window[xe.strstart],xe.ins_h=(xe.ins_h<<xe.hash_shift^xe.window[xe.strstart+1])&xe.hash_mask;else Oe=g._tr_tally(xe,0,xe.window[xe.strstart]),xe.lookahead--,xe.strstart++;if(Oe&&($e(xe,!1),xe.strm.avail_out===0))return _e}return xe.insert=xe.strstart<ge-1?xe.strstart:ge-1,qe===te?($e(xe,!0),xe.strm.avail_out===0?Le:Be):xe.last_lit&&($e(xe,!1),xe.strm.avail_out===0)?_e:Ie}function Ge(xe,qe){for(var ze,Oe,Fe;;){if(xe.lookahead<ke){if(it(xe),xe.lookahead<ke&&qe===q)return _e;if(xe.lookahead===0)break}if(ze=0,xe.lookahead>=ge&&(xe.ins_h=(xe.ins_h<<xe.hash_shift^xe.window[xe.strstart+ge-1])&xe.hash_mask,ze=xe.prev[xe.strstart&xe.w_mask]=xe.head[xe.ins_h],xe.head[xe.ins_h]=xe.strstart),xe.prev_length=xe.match_length,xe.prev_match=xe.match_start,xe.match_length=ge-1,ze!==0&&xe.prev_length<xe.max_lazy_match&&xe.strstart-ze<=xe.w_size-ke&&(xe.match_length=He(xe,ze),xe.match_length<=5&&(xe.strategy===1||xe.match_length===ge&&xe.strstart-xe.match_start>4096)&&(xe.match_length=ge-1)),xe.prev_length>=ge&&xe.match_length<=xe.prev_length){Fe=xe.strstart+xe.lookahead-ge,Oe=g._tr_tally(xe,xe.strstart-1-xe.prev_match,xe.prev_length-ge),xe.lookahead-=xe.prev_length-1,xe.prev_length-=2;do++xe.strstart<=Fe&&(xe.ins_h=(xe.ins_h<<xe.hash_shift^xe.window[xe.strstart+ge-1])&xe.hash_mask,ze=xe.prev[xe.strstart&xe.w_mask]=xe.head[xe.ins_h],xe.head[xe.ins_h]=xe.strstart);while(--xe.prev_length!=0);if(xe.match_available=0,xe.match_length=ge-1,xe.strstart++,Oe&&($e(xe,!1),xe.strm.avail_out===0))return _e}else if(xe.match_available){if((Oe=g._tr_tally(xe,0,xe.window[xe.strstart-1]))&&$e(xe,!1),xe.strstart++,xe.lookahead--,xe.strm.avail_out===0)return _e}else xe.match_available=1,xe.strstart++,xe.lookahead--}return xe.match_available&&(Oe=g._tr_tally(xe,0,xe.window[xe.strstart-1]),xe.match_available=0),xe.insert=xe.strstart<ge-1?xe.strstart:ge-1,qe===te?($e(xe,!0),xe.strm.avail_out===0?Le:Be):xe.last_lit&&($e(xe,!1),xe.strm.avail_out===0)?_e:Ie}function Qe(xe,qe,ze,Oe,Fe){this.good_length=xe,this.max_lazy=qe,this.nice_length=ze,this.max_chain=Oe,this.func=Fe}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=le,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*pe),this.dyn_dtree=new m.Buf16(2*(2*de+1)),this.bl_tree=new m.Buf16(2*(2*he+1)),Ye(this.dyn_ltree),Ye(this.dyn_dtree),Ye(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(me+1),this.heap=new m.Buf16(2*ce+1),Ye(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*ce+1),Ye(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function dt(xe){var qe;return xe&&xe.state?(xe.total_in=xe.total_out=0,xe.data_type=se,(qe=xe.state).pending=0,qe.pending_out=0,qe.wrap<0&&(qe.wrap=-qe.wrap),qe.status=qe.wrap?ye:we,xe.adler=qe.wrap===2?0:1,qe.last_flush=q,g._tr_init(qe),re):Me(xe,ne)}function kt(xe){var qe=dt(xe);return qe===re&&function(ze){ze.window_size=2*ze.w_size,Ye(ze.head),ze.max_lazy_match=d[ze.level].max_lazy,ze.good_match=d[ze.level].good_length,ze.nice_match=d[ze.level].nice_length,ze.max_chain_length=d[ze.level].max_chain,ze.strstart=0,ze.block_start=0,ze.lookahead=0,ze.insert=0,ze.match_length=ze.prev_length=ge-1,ze.match_available=0,ze.ins_h=0}(xe.state),qe}function Xe(xe,qe,ze,Oe,Fe,Ze){if(!xe)return ne;var et=1;if(qe===ie&&(qe=6),Oe<0?(et=0,Oe=-Oe):Oe>15&&(et=2,Oe-=16),Fe<1||Fe>ue||ze!==le||Oe<8||Oe>15||qe<0||qe>9||Ze<0||Ze>ae)return Me(xe,ne);Oe===8&&(Oe=9);var ve=new ut;return xe.state=ve,ve.strm=xe,ve.wrap=et,ve.gzhead=null,ve.w_bits=Oe,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=Fe+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+ge-1)/ge),ve.window=new m.Buf8(2*ve.w_size),ve.head=new m.Buf16(ve.hash_size),ve.prev=new m.Buf16(ve.w_size),ve.lit_bufsize=1<<Fe+6,ve.pending_buf_size=4*ve.lit_bufsize,ve.pending_buf=new m.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=3*ve.lit_bufsize,ve.level=qe,ve.strategy=Ze,ve.method=ze,kt(xe)}return d=[new Qe(0,0,0,0,function(xe,qe){var ze=65535;for(ze>xe.pending_buf_size-5&&(ze=xe.pending_buf_size-5);;){if(xe.lookahead<=1){if(it(xe),xe.lookahead===0&&qe===q)return _e;if(xe.lookahead===0)break}xe.strstart+=xe.lookahead,xe.lookahead=0;var Oe=xe.block_start+ze;if((xe.strstart===0||xe.strstart>=Oe)&&(xe.lookahead=xe.strstart-Oe,xe.strstart=Oe,$e(xe,!1),xe.strm.avail_out===0)||xe.strstart-xe.block_start>=xe.w_size-ke&&($e(xe,!1),xe.strm.avail_out===0))return _e}return xe.insert=0,qe===te?($e(xe,!0),xe.strm.avail_out===0?Le:Be):(xe.strstart>xe.block_start&&($e(xe,!1),xe.strm.avail_out),_e)}),new Qe(4,4,8,4,Je),new Qe(4,5,16,8,Je),new Qe(4,6,32,32,Je),new Qe(4,4,16,16,Ge),new Qe(8,16,32,32,Ge),new Qe(8,16,128,128,Ge),new Qe(8,32,128,256,Ge),new Qe(32,128,258,1024,Ge),new Qe(32,258,258,4096,Ge)],deflate.deflateInit=function(xe,qe){return Xe(xe,qe,le,15,8,0)},deflate.deflateInit2=Xe,deflate.deflateReset=kt,deflate.deflateResetKeep=dt,deflate.deflateSetHeader=function(xe,qe){return xe&&xe.state?xe.state.wrap!==2?ne:(xe.state.gzhead=qe,re):ne},deflate.deflate=function(xe,qe){var ze,Oe,Fe,Ze;if(!xe||!xe.state||qe>5||qe<0)return xe?Me(xe,ne):ne;if(Oe=xe.state,!xe.output||!xe.input&&xe.avail_in!==0||Oe.status===Te&&qe!==te)return Me(xe,xe.avail_out===0?-5:ne);if(Oe.strm=xe,ze=Oe.last_flush,Oe.last_flush=qe,Oe.status===ye)if(Oe.wrap===2)xe.adler=0,Ke(Oe,31),Ke(Oe,139),Ke(Oe,8),Oe.gzhead?(Ke(Oe,(Oe.gzhead.text?1:0)+(Oe.gzhead.hcrc?2:0)+(Oe.gzhead.extra?4:0)+(Oe.gzhead.name?8:0)+(Oe.gzhead.comment?16:0)),Ke(Oe,255&Oe.gzhead.time),Ke(Oe,Oe.gzhead.time>>8&255),Ke(Oe,Oe.gzhead.time>>16&255),Ke(Oe,Oe.gzhead.time>>24&255),Ke(Oe,Oe.level===9?2:Oe.strategy>=2||Oe.level<2?4:0),Ke(Oe,255&Oe.gzhead.os),Oe.gzhead.extra&&Oe.gzhead.extra.length&&(Ke(Oe,255&Oe.gzhead.extra.length),Ke(Oe,Oe.gzhead.extra.length>>8&255)),Oe.gzhead.hcrc&&(xe.adler=D(xe.adler,Oe.pending_buf,Oe.pending,0)),Oe.gzindex=0,Oe.status=69):(Ke(Oe,0),Ke(Oe,0),Ke(Oe,0),Ke(Oe,0),Ke(Oe,0),Ke(Oe,Oe.level===9?2:Oe.strategy>=2||Oe.level<2?4:0),Ke(Oe,3),Oe.status=we);else{var et=le+(Oe.w_bits-8<<4)<<8;et|=(Oe.strategy>=2||Oe.level<2?0:Oe.level<6?1:Oe.level===6?2:3)<<6,Oe.strstart!==0&&(et|=32),et+=31-et%31,Oe.status=we,Pe(Oe,et),Oe.strstart!==0&&(Pe(Oe,xe.adler>>>16),Pe(Oe,65535&xe.adler)),xe.adler=1}if(Oe.status===69)if(Oe.gzhead.extra){for(Fe=Oe.pending;Oe.gzindex<(65535&Oe.gzhead.extra.length)&&(Oe.pending!==Oe.pending_buf_size||(Oe.gzhead.hcrc&&Oe.pending>Fe&&(xe.adler=D(xe.adler,Oe.pending_buf,Oe.pending-Fe,Fe)),Ue(xe),Fe=Oe.pending,Oe.pending!==Oe.pending_buf_size));)Ke(Oe,255&Oe.gzhead.extra[Oe.gzindex]),Oe.gzindex++;Oe.gzhead.hcrc&&Oe.pending>Fe&&(xe.adler=D(xe.adler,Oe.pending_buf,Oe.pending-Fe,Fe)),Oe.gzindex===Oe.gzhead.extra.length&&(Oe.gzindex=0,Oe.status=73)}else Oe.status=73;if(Oe.status===73)if(Oe.gzhead.name){Fe=Oe.pending;do{if(Oe.pending===Oe.pending_buf_size&&(Oe.gzhead.hcrc&&Oe.pending>Fe&&(xe.adler=D(xe.adler,Oe.pending_buf,Oe.pending-Fe,Fe)),Ue(xe),Fe=Oe.pending,Oe.pending===Oe.pending_buf_size)){Ze=1;break}Ze=Oe.gzindex<Oe.gzhead.name.length?255&Oe.gzhead.name.charCodeAt(Oe.gzindex++):0,Ke(Oe,Ze)}while(Ze!==0);Oe.gzhead.hcrc&&Oe.pending>Fe&&(xe.adler=D(xe.adler,Oe.pending_buf,Oe.pending-Fe,Fe)),Ze===0&&(Oe.gzindex=0,Oe.status=91)}else Oe.status=91;if(Oe.status===91)if(Oe.gzhead.comment){Fe=Oe.pending;do{if(Oe.pending===Oe.pending_buf_size&&(Oe.gzhead.hcrc&&Oe.pending>Fe&&(xe.adler=D(xe.adler,Oe.pending_buf,Oe.pending-Fe,Fe)),Ue(xe),Fe=Oe.pending,Oe.pending===Oe.pending_buf_size)){Ze=1;break}Ze=Oe.gzindex<Oe.gzhead.comment.length?255&Oe.gzhead.comment.charCodeAt(Oe.gzindex++):0,Ke(Oe,Ze)}while(Ze!==0);Oe.gzhead.hcrc&&Oe.pending>Fe&&(xe.adler=D(xe.adler,Oe.pending_buf,Oe.pending-Fe,Fe)),Ze===0&&(Oe.status=Se)}else Oe.status=Se;if(Oe.status===Se&&(Oe.gzhead.hcrc?(Oe.pending+2>Oe.pending_buf_size&&Ue(xe),Oe.pending+2<=Oe.pending_buf_size&&(Ke(Oe,255&xe.adler),Ke(Oe,xe.adler>>8&255),xe.adler=0,Oe.status=we)):Oe.status=we),Oe.pending!==0){if(Ue(xe),xe.avail_out===0)return Oe.last_flush=-1,re}else if(xe.avail_in===0&&Ne(qe)<=Ne(ze)&&qe!==te)return Me(xe,-5);if(Oe.status===Te&&xe.avail_in!==0)return Me(xe,-5);if(xe.avail_in!==0||Oe.lookahead!==0||qe!==q&&Oe.status!==Te){var ve=Oe.strategy===2?function(Ae,De){for(var je;;){if(Ae.lookahead===0&&(it(Ae),Ae.lookahead===0)){if(De===q)return _e;break}if(Ae.match_length=0,je=g._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++,je&&($e(Ae,!1),Ae.strm.avail_out===0))return _e}return Ae.insert=0,De===te?($e(Ae,!0),Ae.strm.avail_out===0?Le:Be):Ae.last_lit&&($e(Ae,!1),Ae.strm.avail_out===0)?_e:Ie}(Oe,qe):Oe.strategy===3?function(Ae,De){for(var je,St,Bt,tr,ir=Ae.window;;){if(Ae.lookahead<=be){if(it(Ae),Ae.lookahead<=be&&De===q)return _e;if(Ae.lookahead===0)break}if(Ae.match_length=0,Ae.lookahead>=ge&&Ae.strstart>0&&(St=ir[Bt=Ae.strstart-1])===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]){tr=Ae.strstart+be;do;while(St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&Bt<tr);Ae.match_length=be-(tr-Bt),Ae.match_length>Ae.lookahead&&(Ae.match_length=Ae.lookahead)}if(Ae.match_length>=ge?(je=g._tr_tally(Ae,1,Ae.match_length-ge),Ae.lookahead-=Ae.match_length,Ae.strstart+=Ae.match_length,Ae.match_length=0):(je=g._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++),je&&($e(Ae,!1),Ae.strm.avail_out===0))return _e}return Ae.insert=0,De===te?($e(Ae,!0),Ae.strm.avail_out===0?Le:Be):Ae.last_lit&&($e(Ae,!1),Ae.strm.avail_out===0)?_e:Ie}(Oe,qe):d[Oe.level].func(Oe,qe);if(ve!==Le&&ve!==Be||(Oe.status=Te),ve===_e||ve===Le)return xe.avail_out===0&&(Oe.last_flush=-1),re;if(ve===Ie&&(qe===1?g._tr_align(Oe):qe!==5&&(g._tr_stored_block(Oe,0,0,!1),qe===3&&(Ye(Oe.head),Oe.lookahead===0&&(Oe.strstart=0,Oe.block_start=0,Oe.insert=0))),Ue(xe),xe.avail_out===0))return Oe.last_flush=-1,re}return qe!==te?re:Oe.wrap<=0?1:(Oe.wrap===2?(Ke(Oe,255&xe.adler),Ke(Oe,xe.adler>>8&255),Ke(Oe,xe.adler>>16&255),Ke(Oe,xe.adler>>24&255),Ke(Oe,255&xe.total_in),Ke(Oe,xe.total_in>>8&255),Ke(Oe,xe.total_in>>16&255),Ke(Oe,xe.total_in>>24&255)):(Pe(Oe,xe.adler>>>16),Pe(Oe,65535&xe.adler)),Ue(xe),Oe.wrap>0&&(Oe.wrap=-Oe.wrap),Oe.pending!==0?re:1)},deflate.deflateEnd=function(xe){var qe;return xe&&xe.state?(qe=xe.state.status)!==ye&&qe!==69&&qe!==73&&qe!==91&&qe!==Se&&qe!==we&&qe!==Te?Me(xe,ne):(xe.state=null,qe===we?Me(xe,-3):re):ne},deflate.deflateSetDictionary=function(xe,qe){var ze,Oe,Fe,Ze,et,ve,Ae,De,je=qe.length;if(!xe||!xe.state||(Ze=(ze=xe.state).wrap)===2||Ze===1&&ze.status!==ye||ze.lookahead)return ne;for(Ze===1&&(xe.adler=w(xe.adler,qe,je,0)),ze.wrap=0,je>=ze.w_size&&(Ze===0&&(Ye(ze.head),ze.strstart=0,ze.block_start=0,ze.insert=0),De=new m.Buf8(ze.w_size),m.arraySet(De,qe,je-ze.w_size,ze.w_size,0),qe=De,je=ze.w_size),et=xe.avail_in,ve=xe.next_in,Ae=xe.input,xe.avail_in=je,xe.next_in=0,xe.input=qe,it(ze);ze.lookahead>=ge;){Oe=ze.strstart,Fe=ze.lookahead-(ge-1);do ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[Oe+ge-1])&ze.hash_mask,ze.prev[Oe&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=Oe,Oe++;while(--Fe);ze.strstart=Oe,ze.lookahead=ge-1,it(ze)}return ze.strstart+=ze.lookahead,ze.block_start=ze.strstart,ze.insert=ze.lookahead,ze.lookahead=0,ze.match_length=ze.prev_length=ge-1,ze.match_available=0,xe.next_in=ve,xe.input=Ae,xe.avail_in=et,ze.wrap=Ze,re},deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings,zstream,hasRequiredZstream,hasRequiredDeflate;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var d=requireCommon(),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var w=new d.Buf8(256),D=0;D<256;D++)w[D]=D>=252?6:D>=248?5:D>=240?4:D>=224?3:D>=192?2:1;function j(q,te){if(te<65534&&(q.subarray&&g||!q.subarray&&m))return String.fromCharCode.apply(null,d.shrinkBuf(q,te));for(var re="",ne=0;ne<te;ne++)re+=String.fromCharCode(q[ne]);return re}return w[254]=w[254]=1,strings.string2buf=function(q){var te,re,ne,ie,ae,se=q.length,le=0;for(ie=0;ie<se;ie++)(64512&(re=q.charCodeAt(ie)))==55296&&ie+1<se&&(64512&(ne=q.charCodeAt(ie+1)))==56320&&(re=65536+(re-55296<<10)+(ne-56320),ie++),le+=re<128?1:re<2048?2:re<65536?3:4;for(te=new d.Buf8(le),ae=0,ie=0;ae<le;ie++)(64512&(re=q.charCodeAt(ie)))==55296&&ie+1<se&&(64512&(ne=q.charCodeAt(ie+1)))==56320&&(re=65536+(re-55296<<10)+(ne-56320),ie++),re<128?te[ae++]=re:re<2048?(te[ae++]=192|re>>>6,te[ae++]=128|63&re):re<65536?(te[ae++]=224|re>>>12,te[ae++]=128|re>>>6&63,te[ae++]=128|63&re):(te[ae++]=240|re>>>18,te[ae++]=128|re>>>12&63,te[ae++]=128|re>>>6&63,te[ae++]=128|63&re);return te},strings.buf2binstring=function(q){return j(q,q.length)},strings.binstring2buf=function(q){for(var te=new d.Buf8(q.length),re=0,ne=te.length;re<ne;re++)te[re]=q.charCodeAt(re);return te},strings.buf2string=function(q,te){var re,ne,ie,ae,se=te||q.length,le=new Array(2*se);for(ne=0,re=0;re<se;)if((ie=q[re++])<128)le[ne++]=ie;else if((ae=w[ie])>4)le[ne++]=65533,re+=ae-1;else{for(ie&=ae===2?31:ae===3?15:7;ae>1&&re<se;)ie=ie<<6|63&q[re++],ae--;ae>1?le[ne++]=65533:ie<65536?le[ne++]=ie:(ie-=65536,le[ne++]=55296|ie>>10&1023,le[ne++]=56320|1023&ie)}return j(le,ne)},strings.utf8border=function(q,te){var re;for((te=te||q.length)>q.length&&(te=q.length),re=te-1;re>=0&&(192&q[re])==128;)re--;return re<0||re===0?te:re+w[q[re]]>te?re:te},strings}function requireZstream(){return hasRequiredZstream?zstream:(hasRequiredZstream=1,zstream=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0})}function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var d=requireDeflate$1(),m=requireCommon(),g=requireStrings(),w=requireMessages(),D=requireZstream(),j=Object.prototype.toString,q=0,te=-1,re=0,ne=8;function ie(se){if(!(this instanceof ie))return new ie(se);this.options=m.assign({level:te,method:ne,chunkSize:16384,windowBits:15,memLevel:8,strategy:re,to:""},se||{});var le=this.options;le.raw&&le.windowBits>0?le.windowBits=-le.windowBits:le.gzip&&le.windowBits>0&&le.windowBits<16&&(le.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var ue=d.deflateInit2(this.strm,le.level,le.method,le.windowBits,le.memLevel,le.strategy);if(ue!==q)throw new Error(w[ue]);if(le.header&&d.deflateSetHeader(this.strm,le.header),le.dictionary){var ce;if(ce=typeof le.dictionary=="string"?g.string2buf(le.dictionary):j.call(le.dictionary)==="[object ArrayBuffer]"?new Uint8Array(le.dictionary):le.dictionary,(ue=d.deflateSetDictionary(this.strm,ce))!==q)throw new Error(w[ue]);this._dict_set=!0}}function ae(se,le){var ue=new ie(le);if(ue.push(se,!0),ue.err)throw ue.msg||w[ue.err];return ue.result}return ie.prototype.push=function(se,le){var ue,ce,de=this.strm,he=this.options.chunkSize;if(this.ended)return!1;ce=le===~~le?le:le===!0?4:0,typeof se=="string"?de.input=g.string2buf(se):j.call(se)==="[object ArrayBuffer]"?de.input=new Uint8Array(se):de.input=se,de.next_in=0,de.avail_in=de.input.length;do{if(de.avail_out===0&&(de.output=new m.Buf8(he),de.next_out=0,de.avail_out=he),(ue=d.deflate(de,ce))!==1&&ue!==q)return this.onEnd(ue),this.ended=!0,!1;de.avail_out!==0&&(de.avail_in!==0||ce!==4&&ce!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(de.output,de.next_out))):this.onData(m.shrinkBuf(de.output,de.next_out)))}while((de.avail_in>0||de.avail_out===0)&&ue!==1);return ce===4?(ue=d.deflateEnd(this.strm),this.onEnd(ue),this.ended=!0,ue===q):ce!==2||(this.onEnd(q),de.avail_out=0,!0)},ie.prototype.onData=function(se){this.chunks.push(se)},ie.prototype.onEnd=function(se){se===q&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=se,this.msg=this.strm.msg},deflate$1.Deflate=ie,deflate$1.deflate=ae,deflate$1.deflateRaw=function(se,le){return(le=le||{}).raw=!0,ae(se,le)},deflate$1.gzip=function(se,le){return(le=le||{}).gzip=!0,ae(se,le)},deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast,inftrees,hasRequiredInftrees,hasRequiredInflate$1,constants,hasRequiredConstants,gzheader,hasRequiredGzheader,hasRequiredInflate,pako_1,hasRequiredPako;function requireInffast(){return hasRequiredInffast?inffast:(hasRequiredInffast=1,inffast=function(d,m){var g,w,D,j,q,te,re,ne,ie,ae,se,le,ue,ce,de,he,pe,me,ge,be,ke,ye,Se,we,Te;g=d.state,w=d.next_in,we=d.input,D=w+(d.avail_in-5),j=d.next_out,Te=d.output,q=j-(m-d.avail_out),te=j+(d.avail_out-257),re=g.dmax,ne=g.wsize,ie=g.whave,ae=g.wnext,se=g.window,le=g.hold,ue=g.bits,ce=g.lencode,de=g.distcode,he=(1<<g.lenbits)-1,pe=(1<<g.distbits)-1;e:do{ue<15&&(le+=we[w++]<<ue,ue+=8,le+=we[w++]<<ue,ue+=8),me=ce[le&he];t:for(;;){if(le>>>=ge=me>>>24,ue-=ge,(ge=me>>>16&255)===0)Te[j++]=65535&me;else{if(!(16&ge)){if(64&ge){if(32&ge){g.mode=12;break e}d.msg="invalid literal/length code",g.mode=30;break e}me=ce[(65535&me)+(le&(1<<ge)-1)];continue t}for(be=65535&me,(ge&=15)&&(ue<ge&&(le+=we[w++]<<ue,ue+=8),be+=le&(1<<ge)-1,le>>>=ge,ue-=ge),ue<15&&(le+=we[w++]<<ue,ue+=8,le+=we[w++]<<ue,ue+=8),me=de[le&pe];;){if(le>>>=ge=me>>>24,ue-=ge,16&(ge=me>>>16&255)){if(ke=65535&me,ue<(ge&=15)&&(le+=we[w++]<<ue,(ue+=8)<ge&&(le+=we[w++]<<ue,ue+=8)),(ke+=le&(1<<ge)-1)>re){d.msg="invalid distance too far back",g.mode=30;break e}if(le>>>=ge,ue-=ge,ke>(ge=j-q)){if((ge=ke-ge)>ie&&g.sane){d.msg="invalid distance too far back",g.mode=30;break e}if(ye=0,Se=se,ae===0){if(ye+=ne-ge,ge<be){be-=ge;do Te[j++]=se[ye++];while(--ge);ye=j-ke,Se=Te}}else if(ae<ge){if(ye+=ne+ae-ge,(ge-=ae)<be){be-=ge;do Te[j++]=se[ye++];while(--ge);if(ye=0,ae<be){be-=ge=ae;do Te[j++]=se[ye++];while(--ge);ye=j-ke,Se=Te}}}else if(ye+=ae-ge,ge<be){be-=ge;do Te[j++]=se[ye++];while(--ge);ye=j-ke,Se=Te}for(;be>2;)Te[j++]=Se[ye++],Te[j++]=Se[ye++],Te[j++]=Se[ye++],be-=3;be&&(Te[j++]=Se[ye++],be>1&&(Te[j++]=Se[ye++]))}else{ye=j-ke;do Te[j++]=Te[ye++],Te[j++]=Te[ye++],Te[j++]=Te[ye++],be-=3;while(be>2);be&&(Te[j++]=Te[ye++],be>1&&(Te[j++]=Te[ye++]))}break}if(64&ge){d.msg="invalid distance code",g.mode=30;break e}me=de[(65535&me)+(le&(1<<ge)-1)]}}break}}while(w<D&&j<te);w-=be=ue>>3,le&=(1<<(ue-=be<<3))-1,d.next_in=w,d.next_out=j,d.avail_in=w<D?D-w+5:5-(w-D),d.avail_out=j<te?te-j+257:257-(j-te),g.hold=le,g.bits=ue},inffast)}function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var d=requireCommon(),m=15,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],w=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],D=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],j=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(q,te,re,ne,ie,ae,se,le){var ue,ce,de,he,pe,me,ge,be,ke,ye=le.bits,Se=0,we=0,Te=0,_e=0,Ie=0,Le=0,Be=0,Me=0,Ne=0,Ye=0,Ue=null,$e=0,Ke=new d.Buf16(16),Pe=new d.Buf16(16),He=null,it=0;for(Se=0;Se<=m;Se++)Ke[Se]=0;for(we=0;we<ne;we++)Ke[te[re+we]]++;for(Ie=ye,_e=m;_e>=1&&Ke[_e]===0;_e--);if(Ie>_e&&(Ie=_e),_e===0)return ie[ae++]=20971520,ie[ae++]=20971520,le.bits=1,0;for(Te=1;Te<_e&&Ke[Te]===0;Te++);for(Ie<Te&&(Ie=Te),Me=1,Se=1;Se<=m;Se++)if(Me<<=1,(Me-=Ke[Se])<0)return-1;if(Me>0&&(q===0||_e!==1))return-1;for(Pe[1]=0,Se=1;Se<m;Se++)Pe[Se+1]=Pe[Se]+Ke[Se];for(we=0;we<ne;we++)te[re+we]!==0&&(se[Pe[te[re+we]]++]=we);if(q===0?(Ue=He=se,me=19):q===1?(Ue=g,$e-=257,He=w,it-=257,me=256):(Ue=D,He=j,me=-1),Ye=0,we=0,Se=Te,pe=ae,Le=Ie,Be=0,de=-1,he=(Ne=1<<Ie)-1,q===1&&Ne>852||q===2&&Ne>592)return 1;for(;;){ge=Se-Be,se[we]<me?(be=0,ke=se[we]):se[we]>me?(be=He[it+se[we]],ke=Ue[$e+se[we]]):(be=96,ke=0),ue=1<<Se-Be,Te=ce=1<<Le;do ie[pe+(Ye>>Be)+(ce-=ue)]=ge<<24|be<<16|ke;while(ce!==0);for(ue=1<<Se-1;Ye&ue;)ue>>=1;if(ue!==0?(Ye&=ue-1,Ye+=ue):Ye=0,we++,--Ke[Se]==0){if(Se===_e)break;Se=te[re+se[we]]}if(Se>Ie&&(Ye&he)!==de){for(Be===0&&(Be=Ie),pe+=Te,Me=1<<(Le=Se-Be);Le+Be<_e&&!((Me-=Ke[Le+Be])<=0);)Le++,Me<<=1;if(Ne+=1<<Le,q===1&&Ne>852||q===2&&Ne>592)return 1;ie[de=Ye&he]=Ie<<24|Le<<16|pe-ae}}return Ye!==0&&(ie[pe+Ye]=Se-Be<<24|64<<16),le.bits=Ie,0}}function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var d=requireCommon(),m=requireAdler32(),g=requireCrc32(),w=requireInffast(),D=requireInftrees(),j=1,q=2,te=0,re=-2,ne=1,ie=12,ae=30,se=852,le=592;function ue(we){return(we>>>24&255)+(we>>>8&65280)+((65280&we)<<8)+((255&we)<<24)}function ce(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function de(we){var Te;return we&&we.state?(Te=we.state,we.total_in=we.total_out=Te.total=0,we.msg="",Te.wrap&&(we.adler=1&Te.wrap),Te.mode=ne,Te.last=0,Te.havedict=0,Te.dmax=32768,Te.head=null,Te.hold=0,Te.bits=0,Te.lencode=Te.lendyn=new d.Buf32(se),Te.distcode=Te.distdyn=new d.Buf32(le),Te.sane=1,Te.back=-1,te):re}function he(we){var Te;return we&&we.state?((Te=we.state).wsize=0,Te.whave=0,Te.wnext=0,de(we)):re}function pe(we,Te){var _e,Ie;return we&&we.state?(Ie=we.state,Te<0?(_e=0,Te=-Te):(_e=1+(Te>>4),Te<48&&(Te&=15)),Te&&(Te<8||Te>15)?re:(Ie.window!==null&&Ie.wbits!==Te&&(Ie.window=null),Ie.wrap=_e,Ie.wbits=Te,he(we))):re}function me(we,Te){var _e,Ie;return we?(Ie=new ce,we.state=Ie,Ie.window=null,(_e=pe(we,Te))!==te&&(we.state=null),_e):re}var ge,be,ke=!0;function ye(we){if(ke){var Te;for(ge=new d.Buf32(512),be=new d.Buf32(32),Te=0;Te<144;)we.lens[Te++]=8;for(;Te<256;)we.lens[Te++]=9;for(;Te<280;)we.lens[Te++]=7;for(;Te<288;)we.lens[Te++]=8;for(D(j,we.lens,0,288,ge,0,we.work,{bits:9}),Te=0;Te<32;)we.lens[Te++]=5;D(q,we.lens,0,32,be,0,we.work,{bits:5}),ke=!1}we.lencode=ge,we.lenbits=9,we.distcode=be,we.distbits=5}function Se(we,Te,_e,Ie){var Le,Be=we.state;return Be.window===null&&(Be.wsize=1<<Be.wbits,Be.wnext=0,Be.whave=0,Be.window=new d.Buf8(Be.wsize)),Ie>=Be.wsize?(d.arraySet(Be.window,Te,_e-Be.wsize,Be.wsize,0),Be.wnext=0,Be.whave=Be.wsize):((Le=Be.wsize-Be.wnext)>Ie&&(Le=Ie),d.arraySet(Be.window,Te,_e-Ie,Le,Be.wnext),(Ie-=Le)?(d.arraySet(Be.window,Te,_e-Ie,Ie,0),Be.wnext=Ie,Be.whave=Be.wsize):(Be.wnext+=Le,Be.wnext===Be.wsize&&(Be.wnext=0),Be.whave<Be.wsize&&(Be.whave+=Le))),0}return inflate.inflateReset=he,inflate.inflateReset2=pe,inflate.inflateResetKeep=de,inflate.inflateInit=function(we){return me(we,15)},inflate.inflateInit2=me,inflate.inflate=function(we,Te){var _e,Ie,Le,Be,Me,Ne,Ye,Ue,$e,Ke,Pe,He,it,Je,Ge,Qe,ut,dt,kt,Xe,xe,qe,ze,Oe,Fe=0,Ze=new d.Buf8(4),et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!we||!we.state||!we.output||!we.input&&we.avail_in!==0)return re;(_e=we.state).mode===ie&&(_e.mode=13),Me=we.next_out,Le=we.output,Ye=we.avail_out,Be=we.next_in,Ie=we.input,Ne=we.avail_in,Ue=_e.hold,$e=_e.bits,Ke=Ne,Pe=Ye,qe=te;e:for(;;)switch(_e.mode){case ne:if(_e.wrap===0){_e.mode=13;break}for(;$e<16;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}if(2&_e.wrap&&Ue===35615){_e.check=0,Ze[0]=255&Ue,Ze[1]=Ue>>>8&255,_e.check=g(_e.check,Ze,2,0),Ue=0,$e=0,_e.mode=2;break}if(_e.flags=0,_e.head&&(_e.head.done=!1),!(1&_e.wrap)||(((255&Ue)<<8)+(Ue>>8))%31){we.msg="incorrect header check",_e.mode=ae;break}if((15&Ue)!=8){we.msg="unknown compression method",_e.mode=ae;break}if($e-=4,xe=8+(15&(Ue>>>=4)),_e.wbits===0)_e.wbits=xe;else if(xe>_e.wbits){we.msg="invalid window size",_e.mode=ae;break}_e.dmax=1<<xe,we.adler=_e.check=1,_e.mode=512&Ue?10:ie,Ue=0,$e=0;break;case 2:for(;$e<16;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}if(_e.flags=Ue,(255&_e.flags)!=8){we.msg="unknown compression method",_e.mode=ae;break}if(57344&_e.flags){we.msg="unknown header flags set",_e.mode=ae;break}_e.head&&(_e.head.text=Ue>>8&1),512&_e.flags&&(Ze[0]=255&Ue,Ze[1]=Ue>>>8&255,_e.check=g(_e.check,Ze,2,0)),Ue=0,$e=0,_e.mode=3;case 3:for(;$e<32;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}_e.head&&(_e.head.time=Ue),512&_e.flags&&(Ze[0]=255&Ue,Ze[1]=Ue>>>8&255,Ze[2]=Ue>>>16&255,Ze[3]=Ue>>>24&255,_e.check=g(_e.check,Ze,4,0)),Ue=0,$e=0,_e.mode=4;case 4:for(;$e<16;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}_e.head&&(_e.head.xflags=255&Ue,_e.head.os=Ue>>8),512&_e.flags&&(Ze[0]=255&Ue,Ze[1]=Ue>>>8&255,_e.check=g(_e.check,Ze,2,0)),Ue=0,$e=0,_e.mode=5;case 5:if(1024&_e.flags){for(;$e<16;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}_e.length=Ue,_e.head&&(_e.head.extra_len=Ue),512&_e.flags&&(Ze[0]=255&Ue,Ze[1]=Ue>>>8&255,_e.check=g(_e.check,Ze,2,0)),Ue=0,$e=0}else _e.head&&(_e.head.extra=null);_e.mode=6;case 6:if(1024&_e.flags&&((He=_e.length)>Ne&&(He=Ne),He&&(_e.head&&(xe=_e.head.extra_len-_e.length,_e.head.extra||(_e.head.extra=new Array(_e.head.extra_len)),d.arraySet(_e.head.extra,Ie,Be,He,xe)),512&_e.flags&&(_e.check=g(_e.check,Ie,He,Be)),Ne-=He,Be+=He,_e.length-=He),_e.length))break e;_e.length=0,_e.mode=7;case 7:if(2048&_e.flags){if(Ne===0)break e;He=0;do xe=Ie[Be+He++],_e.head&&xe&&_e.length<65536&&(_e.head.name+=String.fromCharCode(xe));while(xe&&He<Ne);if(512&_e.flags&&(_e.check=g(_e.check,Ie,He,Be)),Ne-=He,Be+=He,xe)break e}else _e.head&&(_e.head.name=null);_e.length=0,_e.mode=8;case 8:if(4096&_e.flags){if(Ne===0)break e;He=0;do xe=Ie[Be+He++],_e.head&&xe&&_e.length<65536&&(_e.head.comment+=String.fromCharCode(xe));while(xe&&He<Ne);if(512&_e.flags&&(_e.check=g(_e.check,Ie,He,Be)),Ne-=He,Be+=He,xe)break e}else _e.head&&(_e.head.comment=null);_e.mode=9;case 9:if(512&_e.flags){for(;$e<16;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}if(Ue!==(65535&_e.check)){we.msg="header crc mismatch",_e.mode=ae;break}Ue=0,$e=0}_e.head&&(_e.head.hcrc=_e.flags>>9&1,_e.head.done=!0),we.adler=_e.check=0,_e.mode=ie;break;case 10:for(;$e<32;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}we.adler=_e.check=ue(Ue),Ue=0,$e=0,_e.mode=11;case 11:if(_e.havedict===0)return we.next_out=Me,we.avail_out=Ye,we.next_in=Be,we.avail_in=Ne,_e.hold=Ue,_e.bits=$e,2;we.adler=_e.check=1,_e.mode=ie;case ie:if(Te===5||Te===6)break e;case 13:if(_e.last){Ue>>>=7&$e,$e-=7&$e,_e.mode=27;break}for(;$e<3;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}switch(_e.last=1&Ue,$e-=1,3&(Ue>>>=1)){case 0:_e.mode=14;break;case 1:if(ye(_e),_e.mode=20,Te===6){Ue>>>=2,$e-=2;break e}break;case 2:_e.mode=17;break;case 3:we.msg="invalid block type",_e.mode=ae}Ue>>>=2,$e-=2;break;case 14:for(Ue>>>=7&$e,$e-=7&$e;$e<32;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}if((65535&Ue)!=(Ue>>>16^65535)){we.msg="invalid stored block lengths",_e.mode=ae;break}if(_e.length=65535&Ue,Ue=0,$e=0,_e.mode=15,Te===6)break e;case 15:_e.mode=16;case 16:if(He=_e.length){if(He>Ne&&(He=Ne),He>Ye&&(He=Ye),He===0)break e;d.arraySet(Le,Ie,Be,He,Me),Ne-=He,Be+=He,Ye-=He,Me+=He,_e.length-=He;break}_e.mode=ie;break;case 17:for(;$e<14;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}if(_e.nlen=257+(31&Ue),Ue>>>=5,$e-=5,_e.ndist=1+(31&Ue),Ue>>>=5,$e-=5,_e.ncode=4+(15&Ue),Ue>>>=4,$e-=4,_e.nlen>286||_e.ndist>30){we.msg="too many length or distance symbols",_e.mode=ae;break}_e.have=0,_e.mode=18;case 18:for(;_e.have<_e.ncode;){for(;$e<3;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}_e.lens[et[_e.have++]]=7&Ue,Ue>>>=3,$e-=3}for(;_e.have<19;)_e.lens[et[_e.have++]]=0;if(_e.lencode=_e.lendyn,_e.lenbits=7,ze={bits:_e.lenbits},qe=D(0,_e.lens,0,19,_e.lencode,0,_e.work,ze),_e.lenbits=ze.bits,qe){we.msg="invalid code lengths set",_e.mode=ae;break}_e.have=0,_e.mode=19;case 19:for(;_e.have<_e.nlen+_e.ndist;){for(;Qe=(Fe=_e.lencode[Ue&(1<<_e.lenbits)-1])>>>16&255,ut=65535&Fe,!((Ge=Fe>>>24)<=$e);){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}if(ut<16)Ue>>>=Ge,$e-=Ge,_e.lens[_e.have++]=ut;else{if(ut===16){for(Oe=Ge+2;$e<Oe;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}if(Ue>>>=Ge,$e-=Ge,_e.have===0){we.msg="invalid bit length repeat",_e.mode=ae;break}xe=_e.lens[_e.have-1],He=3+(3&Ue),Ue>>>=2,$e-=2}else if(ut===17){for(Oe=Ge+3;$e<Oe;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}$e-=Ge,xe=0,He=3+(7&(Ue>>>=Ge)),Ue>>>=3,$e-=3}else{for(Oe=Ge+7;$e<Oe;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}$e-=Ge,xe=0,He=11+(127&(Ue>>>=Ge)),Ue>>>=7,$e-=7}if(_e.have+He>_e.nlen+_e.ndist){we.msg="invalid bit length repeat",_e.mode=ae;break}for(;He--;)_e.lens[_e.have++]=xe}}if(_e.mode===ae)break;if(_e.lens[256]===0){we.msg="invalid code -- missing end-of-block",_e.mode=ae;break}if(_e.lenbits=9,ze={bits:_e.lenbits},qe=D(j,_e.lens,0,_e.nlen,_e.lencode,0,_e.work,ze),_e.lenbits=ze.bits,qe){we.msg="invalid literal/lengths set",_e.mode=ae;break}if(_e.distbits=6,_e.distcode=_e.distdyn,ze={bits:_e.distbits},qe=D(q,_e.lens,_e.nlen,_e.ndist,_e.distcode,0,_e.work,ze),_e.distbits=ze.bits,qe){we.msg="invalid distances set",_e.mode=ae;break}if(_e.mode=20,Te===6)break e;case 20:_e.mode=21;case 21:if(Ne>=6&&Ye>=258){we.next_out=Me,we.avail_out=Ye,we.next_in=Be,we.avail_in=Ne,_e.hold=Ue,_e.bits=$e,w(we,Pe),Me=we.next_out,Le=we.output,Ye=we.avail_out,Be=we.next_in,Ie=we.input,Ne=we.avail_in,Ue=_e.hold,$e=_e.bits,_e.mode===ie&&(_e.back=-1);break}for(_e.back=0;Qe=(Fe=_e.lencode[Ue&(1<<_e.lenbits)-1])>>>16&255,ut=65535&Fe,!((Ge=Fe>>>24)<=$e);){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}if(Qe&&!(240&Qe)){for(dt=Ge,kt=Qe,Xe=ut;Qe=(Fe=_e.lencode[Xe+((Ue&(1<<dt+kt)-1)>>dt)])>>>16&255,ut=65535&Fe,!(dt+(Ge=Fe>>>24)<=$e);){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}Ue>>>=dt,$e-=dt,_e.back+=dt}if(Ue>>>=Ge,$e-=Ge,_e.back+=Ge,_e.length=ut,Qe===0){_e.mode=26;break}if(32&Qe){_e.back=-1,_e.mode=ie;break}if(64&Qe){we.msg="invalid literal/length code",_e.mode=ae;break}_e.extra=15&Qe,_e.mode=22;case 22:if(_e.extra){for(Oe=_e.extra;$e<Oe;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}_e.length+=Ue&(1<<_e.extra)-1,Ue>>>=_e.extra,$e-=_e.extra,_e.back+=_e.extra}_e.was=_e.length,_e.mode=23;case 23:for(;Qe=(Fe=_e.distcode[Ue&(1<<_e.distbits)-1])>>>16&255,ut=65535&Fe,!((Ge=Fe>>>24)<=$e);){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}if(!(240&Qe)){for(dt=Ge,kt=Qe,Xe=ut;Qe=(Fe=_e.distcode[Xe+((Ue&(1<<dt+kt)-1)>>dt)])>>>16&255,ut=65535&Fe,!(dt+(Ge=Fe>>>24)<=$e);){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}Ue>>>=dt,$e-=dt,_e.back+=dt}if(Ue>>>=Ge,$e-=Ge,_e.back+=Ge,64&Qe){we.msg="invalid distance code",_e.mode=ae;break}_e.offset=ut,_e.extra=15&Qe,_e.mode=24;case 24:if(_e.extra){for(Oe=_e.extra;$e<Oe;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}_e.offset+=Ue&(1<<_e.extra)-1,Ue>>>=_e.extra,$e-=_e.extra,_e.back+=_e.extra}if(_e.offset>_e.dmax){we.msg="invalid distance too far back",_e.mode=ae;break}_e.mode=25;case 25:if(Ye===0)break e;if(He=Pe-Ye,_e.offset>He){if((He=_e.offset-He)>_e.whave&&_e.sane){we.msg="invalid distance too far back",_e.mode=ae;break}He>_e.wnext?(He-=_e.wnext,it=_e.wsize-He):it=_e.wnext-He,He>_e.length&&(He=_e.length),Je=_e.window}else Je=Le,it=Me-_e.offset,He=_e.length;He>Ye&&(He=Ye),Ye-=He,_e.length-=He;do Le[Me++]=Je[it++];while(--He);_e.length===0&&(_e.mode=21);break;case 26:if(Ye===0)break e;Le[Me++]=_e.length,Ye--,_e.mode=21;break;case 27:if(_e.wrap){for(;$e<32;){if(Ne===0)break e;Ne--,Ue|=Ie[Be++]<<$e,$e+=8}if(Pe-=Ye,we.total_out+=Pe,_e.total+=Pe,Pe&&(we.adler=_e.check=_e.flags?g(_e.check,Le,Pe,Me-Pe):m(_e.check,Le,Pe,Me-Pe)),Pe=Ye,(_e.flags?Ue:ue(Ue))!==_e.check){we.msg="incorrect data check",_e.mode=ae;break}Ue=0,$e=0}_e.mode=28;case 28:if(_e.wrap&&_e.flags){for(;$e<32;){if(Ne===0)break e;Ne--,Ue+=Ie[Be++]<<$e,$e+=8}if(Ue!==(4294967295&_e.total)){we.msg="incorrect length check",_e.mode=ae;break}Ue=0,$e=0}_e.mode=29;case 29:qe=1;break e;case ae:qe=-3;break e;case 31:return-4;default:return re}return we.next_out=Me,we.avail_out=Ye,we.next_in=Be,we.avail_in=Ne,_e.hold=Ue,_e.bits=$e,(_e.wsize||Pe!==we.avail_out&&_e.mode<ae&&(_e.mode<27||Te!==4))&&Se(we,we.output,we.next_out,Pe-we.avail_out),Ke-=we.avail_in,Pe-=we.avail_out,we.total_in+=Ke,we.total_out+=Pe,_e.total+=Pe,_e.wrap&&Pe&&(we.adler=_e.check=_e.flags?g(_e.check,Le,Pe,we.next_out-Pe):m(_e.check,Le,Pe,we.next_out-Pe)),we.data_type=_e.bits+(_e.last?64:0)+(_e.mode===ie?128:0)+(_e.mode===20||_e.mode===15?256:0),(Ke===0&&Pe===0||Te===4)&&qe===te&&(qe=-5),qe},inflate.inflateEnd=function(we){if(!we||!we.state)return re;var Te=we.state;return Te.window&&(Te.window=null),we.state=null,te},inflate.inflateGetHeader=function(we,Te){var _e;return we&&we.state&&2&(_e=we.state).wrap?(_e.head=Te,Te.done=!1,te):re},inflate.inflateSetDictionary=function(we,Te){var _e,Ie=Te.length;return we&&we.state?(_e=we.state).wrap!==0&&_e.mode!==11?re:_e.mode===11&&m(1,Te,Ie,0)!==_e.check?-3:Se(we,Te,Ie,Ie)?(_e.mode=31,-4):(_e.havedict=1,te):re},inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}function requireConstants(){return hasRequiredConstants?constants:(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8})}function requireGzheader(){return hasRequiredGzheader?gzheader:(hasRequiredGzheader=1,gzheader=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1})}function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var d=requireInflate$1(),m=requireCommon(),g=requireStrings(),w=requireConstants(),D=requireMessages(),j=requireZstream(),q=requireGzheader(),te=Object.prototype.toString;function re(ie){if(!(this instanceof re))return new re(ie);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},ie||{});var ae=this.options;ae.raw&&ae.windowBits>=0&&ae.windowBits<16&&(ae.windowBits=-ae.windowBits,ae.windowBits===0&&(ae.windowBits=-15)),!(ae.windowBits>=0&&ae.windowBits<16)||ie&&ie.windowBits||(ae.windowBits+=32),ae.windowBits>15&&ae.windowBits<48&&(15&ae.windowBits||(ae.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var se=d.inflateInit2(this.strm,ae.windowBits);if(se!==w.Z_OK)throw new Error(D[se]);if(this.header=new q,d.inflateGetHeader(this.strm,this.header),ae.dictionary&&(typeof ae.dictionary=="string"?ae.dictionary=g.string2buf(ae.dictionary):te.call(ae.dictionary)==="[object ArrayBuffer]"&&(ae.dictionary=new Uint8Array(ae.dictionary)),ae.raw&&(se=d.inflateSetDictionary(this.strm,ae.dictionary))!==w.Z_OK))throw new Error(D[se])}function ne(ie,ae){var se=new re(ae);if(se.push(ie,!0),se.err)throw se.msg||D[se.err];return se.result}return re.prototype.push=function(ie,ae){var se,le,ue,ce,de,he=this.strm,pe=this.options.chunkSize,me=this.options.dictionary,ge=!1;if(this.ended)return!1;le=ae===~~ae?ae:ae===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof ie=="string"?he.input=g.binstring2buf(ie):te.call(ie)==="[object ArrayBuffer]"?he.input=new Uint8Array(ie):he.input=ie,he.next_in=0,he.avail_in=he.input.length;do{if(he.avail_out===0&&(he.output=new m.Buf8(pe),he.next_out=0,he.avail_out=pe),(se=d.inflate(he,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&me&&(se=d.inflateSetDictionary(this.strm,me)),se===w.Z_BUF_ERROR&&ge===!0&&(se=w.Z_OK,ge=!1),se!==w.Z_STREAM_END&&se!==w.Z_OK)return this.onEnd(se),this.ended=!0,!1;he.next_out&&(he.avail_out!==0&&se!==w.Z_STREAM_END&&(he.avail_in!==0||le!==w.Z_FINISH&&le!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(ue=g.utf8border(he.output,he.next_out),ce=he.next_out-ue,de=g.buf2string(he.output,ue),he.next_out=ce,he.avail_out=pe-ce,ce&&m.arraySet(he.output,he.output,ue,ce,0),this.onData(de)):this.onData(m.shrinkBuf(he.output,he.next_out)))),he.avail_in===0&&he.avail_out===0&&(ge=!0)}while((he.avail_in>0||he.avail_out===0)&&se!==w.Z_STREAM_END);return se===w.Z_STREAM_END&&(le=w.Z_FINISH),le===w.Z_FINISH?(se=d.inflateEnd(this.strm),this.onEnd(se),this.ended=!0,se===w.Z_OK):le!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),he.avail_out=0,!0)},re.prototype.onData=function(ie){this.chunks.push(ie)},re.prototype.onEnd=function(ie){ie===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=ie,this.msg=this.strm.msg},inflate$1.Inflate=re,inflate$1.inflate=ne,inflate$1.inflateRaw=function(ie,ae){return(ae=ae||{}).raw=!0,ne(ie,ae)},inflate$1.ungzip=ne,inflate$1}function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var d={};return(0,requireCommon().assign)(d,requireDeflate(),requireInflate(),requireConstants()),pako_1=d}(function(d){(function(){var m={};function g(){typeof process<"u"||console.log.apply(console,arguments)}d.exports=m,function(w,D){(function(){var j=function(){function re(ne){this.message="JPEG error: "+ne}return re.prototype=new Error,re.prototype.name="JpegError",re.constructor=re,re}(),q=function(){var re=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),ne=4017,ie=799,ae=3406,se=2276,le=1567,ue=3784,ce=5793,de=2896;function he(Se){Se==null&&(Se={}),Se.w==null&&(Se.w=-1),this.V=Se.n,this.N=Se.w}function pe(Se,we){for(var Te,_e,Ie,Le=0,Be=[],Me=16;Me>0&&!Se[Me-1];)Me--;Be.push({children:[],index:0});var Ne=Be[0];for(Te=0;Te<Me;Te++){for(_e=0;_e<Se[Te];_e++){for((Ne=Be.pop()).children[Ne.index]=we[Le];Ne.index>0;)Ne=Be.pop();for(Ne.index++,Be.push(Ne);Be.length<=Te;)Be.push(Ie={children:[],index:0}),Ne.children[Ne.index]=Ie.children,Ne=Ie;Le++}Te+1<Me&&(Be.push(Ie={children:[],index:0}),Ne.children[Ne.index]=Ie.children,Ne=Ie)}return Be[0].children}function me(Se,we,Te){return 64*((Se.P+1)*we+Te)}function ge(Se,we,Te,_e,Ie,Le,Be,Me,Ne,Ye){Ye==null&&(Ye=!1);var Ue,$e,Ke,Pe,He,it,Je,Ge,Qe,ut,dt,kt=Te.m,Xe=Te.Z,xe=we,qe=0,ze=0,Oe=0,Fe=0,Ze=0,et=0;function ve(){if(ze>0)return ze--,qe>>ze&1;if((qe=Se[we++])===255){var Yt=Se[we++];if(Yt){if(Yt===220&&Ye){var ar=te(Se,we+=2);if(we+=2,ar>0&&ar!==Te.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",ar)}else if(Yt===217){if(Ye){var rr=8*Ze;if(rr>0&&rr<Te.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",rr)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new j("unexpected marker")}}return ze=7,qe>>>7}function Ae(Yt){for(var ar=Yt;;){switch(typeof(ar=ar[ve()])){case"number":return ar;case"object":continue}throw new j("invalid huffman sequence")}}function De(Yt){for(var ar=0;Yt>0;)ar=ar<<1|ve(),Yt--;return ar}function je(Yt){if(Yt===1)return ve()===1?1:-1;var ar=De(Yt);return ar>=1<<Yt-1?ar:ar+(-1<<Yt)+1}function St(Yt,ar,rr,gr,dr){var hr=rr%kt;Ze=(rr/kt|0)*Yt.A+gr;var kr=hr*Yt.h+dr;ar(Yt,me(Yt,Ze,kr))}function Bt(Yt,ar,rr){Ze=rr/Yt.P|0;var gr=rr%Yt.P;ar(Yt,me(Yt,Ze,gr))}var tr=_e.length;for(Je=Xe?Le===0?Me===0?function(Yt,ar){var rr=Ae(Yt.J),gr=rr===0?0:je(rr)<<Ne;Yt.D[ar]=Yt.Q+=gr}:function(Yt,ar){Yt.D[ar]|=ve()<<Ne}:Me===0?function(Yt,ar){if(Oe>0)Oe--;else for(var rr=Le,gr=Be;rr<=gr;){var dr=Ae(Yt.i),hr=15&dr,kr=dr>>4;if(hr!==0){var fr=re[rr+=kr];Yt.D[ar+fr]=je(hr)*(1<<Ne),rr++}else{if(kr<15){Oe=De(kr)+(1<<kr)-1;break}rr+=16}}}:function(Yt,ar){for(var rr,gr,dr=Le,hr=Be,kr=0;dr<=hr;){var fr=ar+re[dr],ot=Yt.D[fr]<0?-1:1;switch(Fe){case 0:if(kr=(gr=Ae(Yt.i))>>4,(rr=15&gr)==0)kr<15?(Oe=De(kr)+(1<<kr),Fe=4):(kr=16,Fe=1);else{if(rr!==1)throw new j("invalid ACn encoding");Ue=je(rr),Fe=kr?2:3}continue;case 1:case 2:Yt.D[fr]?Yt.D[fr]+=ot*(ve()<<Ne):--kr==0&&(Fe=Fe===2?3:0);break;case 3:Yt.D[fr]?Yt.D[fr]+=ot*(ve()<<Ne):(Yt.D[fr]=Ue<<Ne,Fe=0);break;case 4:Yt.D[fr]&&(Yt.D[fr]+=ot*(ve()<<Ne))}dr++}Fe===4&&--Oe==0&&(Fe=0)}:function(Yt,ar){var rr=Ae(Yt.J),gr=rr===0?0:je(rr),dr=1;for(Yt.D[ar]=Yt.Q+=gr;dr<64;){var hr=Ae(Yt.i),kr=15&hr,fr=hr>>4;if(kr!==0){var ot=re[dr+=fr];Yt.D[ar+ot]=je(kr),dr++}else{if(fr<15)break;dr+=16}}},Qe=tr===1?_e[0].P*_e[0].c:kt*Te.R;et<=Qe;){var ir=Ie?Math.min(Qe-et,Ie):Qe;if(ir>0){for(Ke=0;Ke<tr;Ke++)_e[Ke].Q=0;if(Oe=0,tr===1)for($e=_e[0],it=0;it<ir;it++)Bt($e,Je,et),et++;else for(it=0;it<ir;it++){for(Ke=0;Ke<tr;Ke++)for(ut=($e=_e[Ke]).h,dt=$e.A,Pe=0;Pe<dt;Pe++)for(He=0;He<ut;He++)St($e,Je,et,Pe,He);et++}}if(ze=0,!(Ge=ye(Se,we))||(Ge.u&&(we=Ge.offset),!(Ge.M>=65488&&Ge.M<=65495)))break;we+=2}return we-xe}function be(Se,we,Te){var _e,Ie,Le,Be,Me,Ne,Ye,Ue,$e,Ke,Pe,He,it,Je,Ge,Qe,ut,dt=Se.$,kt=Se.D;if(!dt)throw new j("missing required Quantization Table.");for(var Xe=0;Xe<64;Xe+=8)$e=kt[we+Xe],Ke=kt[we+Xe+1],Pe=kt[we+Xe+2],He=kt[we+Xe+3],it=kt[we+Xe+4],Je=kt[we+Xe+5],Ge=kt[we+Xe+6],Qe=kt[we+Xe+7],$e*=dt[Xe],Ke|Pe|He|it|Je|Ge|Qe?(Ke*=dt[Xe+1],Pe*=dt[Xe+2],He*=dt[Xe+3],it*=dt[Xe+4],Je*=dt[Xe+5],Ge*=dt[Xe+6],Qe*=dt[Xe+7],Ie=(_e=(_e=ce*$e+128>>8)+(Ie=ce*it+128>>8)+1>>1)-Ie,ut=(Le=Pe)*ue+(Be=Ge)*le+128>>8,Le=Le*le-Be*ue+128>>8,Ye=(Me=(Me=de*(Ke-Qe)+128>>8)+(Ye=Je<<4)+1>>1)-Ye,Ne=(Ue=(Ue=de*(Ke+Qe)+128>>8)+(Ne=He<<4)+1>>1)-Ne,Be=(_e=_e+(Be=ut)+1>>1)-Be,Le=(Ie=Ie+Le+1>>1)-Le,ut=Me*se+Ue*ae+2048>>12,Me=Me*ae-Ue*se+2048>>12,Ue=ut,ut=Ne*ie+Ye*ne+2048>>12,Ne=Ne*ne-Ye*ie+2048>>12,Ye=ut,Te[Xe]=_e+Ue,Te[Xe+7]=_e-Ue,Te[Xe+1]=Ie+Ye,Te[Xe+6]=Ie-Ye,Te[Xe+2]=Le+Ne,Te[Xe+5]=Le-Ne,Te[Xe+3]=Be+Me,Te[Xe+4]=Be-Me):(ut=ce*$e+512>>10,Te[Xe]=ut,Te[Xe+1]=ut,Te[Xe+2]=ut,Te[Xe+3]=ut,Te[Xe+4]=ut,Te[Xe+5]=ut,Te[Xe+6]=ut,Te[Xe+7]=ut);for(var xe=0;xe<8;++xe)$e=Te[xe],(Ke=Te[xe+8])|(Pe=Te[xe+16])|(He=Te[xe+24])|(it=Te[xe+32])|(Je=Te[xe+40])|(Ge=Te[xe+48])|(Qe=Te[xe+56])?(Ie=(_e=4112+((_e=ce*$e+2048>>12)+(Ie=ce*it+2048>>12)+1>>1))-Ie,ut=(Le=Pe)*ue+(Be=Ge)*le+2048>>12,Le=Le*le-Be*ue+2048>>12,Be=ut,Ye=(Me=(Me=de*(Ke-Qe)+2048>>12)+(Ye=Je)+1>>1)-Ye,Ne=(Ue=(Ue=de*(Ke+Qe)+2048>>12)+(Ne=He)+1>>1)-Ne,ut=Me*se+Ue*ae+2048>>12,Me=Me*ae-Ue*se+2048>>12,Ue=ut,ut=Ne*ie+Ye*ne+2048>>12,Ne=Ne*ne-Ye*ie+2048>>12,($e=(_e=_e+Be+1>>1)+Ue)<16?$e=0:$e>=4080?$e=255:$e>>=4,(Ke=(Ie=Ie+Le+1>>1)+(Ye=ut))<16?Ke=0:Ke>=4080?Ke=255:Ke>>=4,(Pe=(Le=Ie-Le)+Ne)<16?Pe=0:Pe>=4080?Pe=255:Pe>>=4,(He=(Be=_e-Be)+Me)<16?He=0:He>=4080?He=255:He>>=4,(it=Be-Me)<16?it=0:it>=4080?it=255:it>>=4,(Je=Le-Ne)<16?Je=0:Je>=4080?Je=255:Je>>=4,(Ge=Ie-Ye)<16?Ge=0:Ge>=4080?Ge=255:Ge>>=4,(Qe=_e-Ue)<16?Qe=0:Qe>=4080?Qe=255:Qe>>=4,kt[we+xe]=$e,kt[we+xe+8]=Ke,kt[we+xe+16]=Pe,kt[we+xe+24]=He,kt[we+xe+32]=it,kt[we+xe+40]=Je,kt[we+xe+48]=Ge,kt[we+xe+56]=Qe):(ut=(ut=ce*$e+8192>>14)<-2040?0:ut>=2024?255:ut+2056>>4,kt[we+xe]=ut,kt[we+xe+8]=ut,kt[we+xe+16]=ut,kt[we+xe+24]=ut,kt[we+xe+32]=ut,kt[we+xe+40]=ut,kt[we+xe+48]=ut,kt[we+xe+56]=ut)}function ke(Se,we){for(var Te=we.P,_e=we.c,Ie=new Int16Array(64),Le=0;Le<_e;Le++)for(var Be=0;Be<Te;Be++)be(we,me(we,Le,Be),Ie);return we.D}function ye(Se,we,Te){Te==null&&(Te=we);var _e=Se.length-1,Ie=Te<we?Te:we;if(we>=_e)return null;var Le=te(Se,we);if(Le>=65472&&Le<=65534)return{u:null,M:Le,offset:we};for(var Be=te(Se,Ie);!(Be>=65472&&Be<=65534);){if(++Ie>=_e)return null;Be=te(Se,Ie)}return{u:Le.toString(16),M:Be,offset:Ie}}return he.prototype={parse(Se,we){we==null&&(we={});var Te,_e,Ie=we.F,Le=0,Be=null,Me=null,Ne=0;function Ye(){var Tt=te(Se,Le),jt=(Le+=2)+Tt-2,We=ye(Se,jt,Le);We&&We.u&&(jt=We.offset);var er=Se.subarray(Le,jt);return Le+=er.length,er}function Ue(Tt){for(var jt=Math.ceil(Tt.o/8/Tt.X),We=Math.ceil(Tt.s/8/Tt.B),er=0;er<Tt.W.length;er++){Bt=Tt.W[er];var br=Math.ceil(Math.ceil(Tt.o/8)*Bt.h/Tt.X),Ce=Math.ceil(Math.ceil(Tt.s/8)*Bt.A/Tt.B),Zt=jt*Bt.h,zt=64*(We*Bt.A)*(Zt+1);Bt.D=new Int16Array(zt),Bt.P=br,Bt.c=Ce}Tt.m=jt,Tt.R=We}var $e=[],Ke=[],Pe=[],He=te(Se,Le);if(Le+=2,He!==65496)throw new j("SOI not found");He=te(Se,Le),Le+=2;e:for(;He!==65497;){var it,Je,Ge;switch(He){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Qe=Ye();He===65504&&Qe[0]===74&&Qe[1]===70&&Qe[2]===73&&Qe[3]===70&&Qe[4]===0&&(Be={version:{d:Qe[5],T:Qe[6]},K:Qe[7],j:Qe[8]<<8|Qe[9],H:Qe[10]<<8|Qe[11],S:Qe[12],I:Qe[13],C:Qe.subarray(14,14+3*Qe[12]*Qe[13])}),He===65518&&Qe[0]===65&&Qe[1]===100&&Qe[2]===111&&Qe[3]===98&&Qe[4]===101&&(Me={version:Qe[5]<<8|Qe[6],k:Qe[7]<<8|Qe[8],q:Qe[9]<<8|Qe[10],a:Qe[11]});break;case 65499:for(var ut=te(Se,Le)+(Le+=2)-2;Le<ut;){var dt=Se[Le++],kt=new Uint16Array(64);if(dt>>4){if(dt>>4!=1)throw new j("DQT - invalid table spec");for(Je=0;Je<64;Je++)kt[re[Je]]=te(Se,Le),Le+=2}else for(Je=0;Je<64;Je++)kt[re[Je]]=Se[Le++];$e[15&dt]=kt}break;case 65472:case 65473:case 65474:if(Te)throw new j("Only single frame JPEGs supported");Le+=2,(Te={}).G=He===65473,Te.Z=He===65474,Te.precision=Se[Le++];var Xe,xe=te(Se,Le),qe=0,ze=0;Le+=2,Te.s=Ie||xe,Te.o=te(Se,Le),Le+=2,Te.W=[],Te._={};var Oe=Se[Le++];for(it=0;it<Oe;it++){Xe=Se[Le];var Fe=Se[Le+1]>>4,Ze=15&Se[Le+1];qe<Fe&&(qe=Fe),ze<Ze&&(ze=Ze);var et=Se[Le+2];Ge=Te.W.push({h:Fe,A:Ze,L:et,$:null}),Te._[Xe]=Ge-1,Le+=3}Te.X=qe,Te.B=ze,Ue(Te);break;case 65476:var ve=te(Se,Le);for(Le+=2,it=2;it<ve;){var Ae=Se[Le++],De=new Uint8Array(16),je=0;for(Je=0;Je<16;Je++,Le++)je+=De[Je]=Se[Le];var St=new Uint8Array(je);for(Je=0;Je<je;Je++,Le++)St[Je]=Se[Le];it+=17+je,(Ae>>4?Ke:Pe)[15&Ae]=pe(De,St)}break;case 65501:_e=te(Se,Le+=2),Le+=2;break;case 65498:var Bt,tr=++Ne==1&&!Ie;Le+=2;var ir=Se[Le++],Yt=[];for(it=0;it<ir;it++){var ar=Se[Le++],rr=Te._[ar];(Bt=Te.W[rr]).index=ar;var gr=Se[Le++];Bt.J=Pe[gr>>4],Bt.i=Ke[15&gr],Yt.push(Bt)}var dr=Se[Le++],hr=Se[Le++],kr=Se[Le++];try{var fr=ge(Se,Le,Te,Yt,_e,dr,hr,kr>>4,15&kr,tr);Le+=fr}catch(Tt){if(Tt instanceof DNLMarkerError)return this.parse(Se,{F:Tt.s});if(Tt instanceof EOIMarkerError)break e;throw Tt}break;case 65500:Le+=4;break;case 65535:Se[Le]!==255&&Le--;break;default:var ot=ye(Se,Le-2,Le-3);if(ot&&ot.u){Le=ot.offset;break}if(Le>=Se.length-1)break e;throw new j("JpegImage.parse - unknown marker: "+He.toString(16))}He=te(Se,Le),Le+=2}for(this.width=Te.o,this.height=Te.s,this.g=Be,this.b=Me,this.W=[],it=0;it<Te.W.length;it++){var nr=$e[(Bt=Te.W[it]).L];nr&&(Bt.$=nr),this.W.push({index:Bt.index,e:ke(0,Bt),l:Bt.h/Te.X,t:Bt.A/Te.B,P:Bt.P,c:Bt.c})}this.p=this.W.length},Y(Se,we,Te){Te==null&&(Te=!1);var _e,Ie,Le,Be,Me,Ne,Ye,Ue,$e,Ke,Pe,He,it=this.width/Se,Je=this.height/we,Ge=0,Qe=this.W.length,ut=Se*we*Qe,dt=new Uint8ClampedArray(ut),kt=new Uint32Array(Se),Xe=4294967288;for(Ye=0;Ye<Qe;Ye++){if(Ie=(_e=this.W[Ye]).l*it,Le=_e.t*Je,Ge=Ye,Pe=_e.e,Be=_e.P+1<<3,Ie!==He){for(Me=0;Me<Se;Me++)Ue=0|Me*Ie,kt[Me]=(Ue&Xe)<<3|7&Ue;He=Ie}for(Ne=0;Ne<we;Ne++)for(Ke=Be*((Ue=0|Ne*Le)&Xe)|(7&Ue)<<3,Me=0;Me<Se;Me++)dt[Ge]=Pe[Ke+kt[Me]],Ge+=Qe}var xe=this.V;if(Te||Qe!==4||xe||(xe=new Int32Array([-256,255,-256,255,-256,255,-256,255])),xe)for(Ye=0;Ye<ut;)for(Ue=0,$e=0;Ue<Qe;Ue++,Ye++,$e+=2)dt[Ye]=(dt[Ye]*xe[$e]>>8)+xe[$e+1];return dt},get f(){return this.b?!!this.b.a:this.p===3?this.N!==0&&(this.W[0].index!==82||this.W[1].index!==71||this.W[2].index!==66):this.N===1},z:function(Se){for(var we,Te,_e,Ie=0,Le=Se.length;Ie<Le;Ie+=3)we=Se[Ie],Te=Se[Ie+1],_e=Se[Ie+2],Se[Ie]=we-179.456+1.402*_e,Se[Ie+1]=we+135.459-.344*Te-.714*_e,Se[Ie+2]=we-226.816+1.772*Te;return Se},O:function(Se){for(var we,Te,_e,Ie,Le=0,Be=0,Me=Se.length;Be<Me;Be+=4)we=Se[Be],Te=Se[Be+1],_e=Se[Be+2],Ie=Se[Be+3],Se[Le++]=Te*(-660635669420364e-19*Te+.000437130475926232*_e-54080610064599e-18*we+.00048449797120281*Ie-.154362151871126)-122.67195406894+_e*(-.000957964378445773*_e+.000817076911346625*we-.00477271405408747*Ie+1.53380253221734)+we*(.000961250184130688*we-.00266257332283933*Ie+.48357088451265)+Ie*(-.000336197177618394*Ie+.484791561490776),Se[Le++]=107.268039397724+Te*(219927104525741e-19*Te-.000640992018297945*_e+.000659397001245577*we+.000426105652938837*Ie-.176491792462875)+_e*(-.000778269941513683*_e+.00130872261408275*we+.000770482631801132*Ie-.151051492775562)+we*(.00126935368114843*we-.00265090189010898*Ie+.25802910206845)+Ie*(-.000318913117588328*Ie-.213742400323665),Se[Le++]=Te*(-.000570115196973677*Te-263409051004589e-19*_e+.0020741088115012*we-.00288260236853442*Ie+.814272968359295)-20.810012546947+_e*(-153496057440975e-19*_e-.000132689043961446*we+.000560833691242812*Ie-.195152027534049)+we*(.00174418132927582*we-.00255243321439347*Ie+.116935020465145)+Ie*(-.000343531996510555*Ie+.24165260232407);return Se.subarray(0,Le)},r:function(Se){for(var we,Te,_e,Ie=0,Le=Se.length;Ie<Le;Ie+=4)we=Se[Ie],Te=Se[Ie+1],_e=Se[Ie+2],Se[Ie]=434.456-we-1.402*_e,Se[Ie+1]=119.541-we+.344*Te+.714*_e,Se[Ie+2]=481.816-we-1.772*Te;return Se},U:function(Se){for(var we,Te,_e,Ie,Le=0,Be=0,Me=Se.length;Be<Me;Be+=4)we=Se[Be],Te=Se[Be+1],_e=Se[Be+2],Ie=Se[Be+3],Se[Le++]=255+we*(-6747147073602441e-20*we+.0008379262121013727*Te+.0002894718188643294*_e+.003264231057537806*Ie-1.1185611867203937)+Te*(26374107616089405e-21*Te-8626949158638572e-20*_e-.0002748769067499491*Ie-.02155688794978967)+_e*(-3878099212869363e-20*_e-.0003267808279485286*Ie+.0686742238595345)-Ie*(.0003361971776183937*Ie+.7430659151342254),Se[Le++]=255+we*(.00013596372813588848*we+.000924537132573585*Te+.00010567359618683593*_e+.0004791864687436512*Ie-.3109689587515875)+Te*(-.00023545346108370344*Te+.0002702845253534714*_e+.0020200308977307156*Ie-.7488052167015494)+_e*(6834815998235662e-20*_e+.00015168452363460973*Ie-.09751927774728933)-Ie*(.0003189131175883281*Ie+.7364883807733168),Se[Le++]=255+we*(13598650411385307e-21*we+.00012423956175490851*Te+.0004751985097583589*_e-36729317476630422e-22*Ie-.05562186980264034)+Te*(.00016141380598724676*Te+.0009692239130725186*_e+.0007782692450036253*Ie-.44015232367526463)+_e*(5068882914068769e-22*_e+.0017778369011375071*Ie-.7591454649749609)-Ie*(.0003435319965105553*Ie+.7063770186160144);return Se.subarray(0,Le)},getData:function(Se){var we=Se.width,Te=Se.height,_e=Se.forceRGB,Ie=Se.isSourcePDF;if(this.p>4)throw new j("Unsupported color mode");var Le=this.Y(we,Te,Ie);if(this.p===1&&_e){for(var Be=Le.length,Me=new Uint8ClampedArray(3*Be),Ne=0,Ye=0;Ye<Be;Ye++){var Ue=Le[Ye];Me[Ne++]=Ue,Me[Ne++]=Ue,Me[Ne++]=Ue}return Me}if(this.p===3&&this.f)return this.z(Le);if(this.p===4){if(this.f)return _e?this.O(Le):this.r(Le);if(_e)return this.U(Le)}return Le}},he}();function te(re,ne){return re[ne]<<8|re[ne+1]}w.JpegDecoder=q})(),w.encodeImage=function(j,q,te,re){var ne={t256:[q],t257:[te],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[te],t279:[q*te*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(re)for(var ie in re)ne[ie]=re[ie];var ae=new Uint8Array(w.encode([ne])),se=new Uint8Array(j),le=new Uint8Array(1e3+q*te*4);for(ie=0;ie<ae.length;ie++)le[ie]=ae[ie];for(ie=0;ie<se.length;ie++)le[1e3+ie]=se[ie];return le.buffer},w.encode=function(j){var q=new Uint8Array(2e4),te=4,re=w._binBE;q[0]=q[1]=77,re.writeUshort(q,2,42);var ne=8;re.writeUint(q,te,ne),te+=4;for(var ie=0;ie<j.length;ie++){var ae=w._writeIFD(re,w._types.basic,q,ne,j[ie]);ne=ae[1],ie<j.length-1&&(3&ne&&(ne+=4-(3&ne)),re.writeUint(q,ae[0],ne))}return q.slice(0,ne).buffer},w.decode=function(j,q){q==null&&(q={parseMN:!0,debug:!1});var te=new Uint8Array(j),re=0,ne=w._binBE.readASCII(te,re,2);re+=2;var ie=ne=="II"?w._binLE:w._binBE;ie.readUshort(te,re),re+=2;var ae=ie.readUint(te,re);re+=4;for(var se=[];;){var le=ie.readUshort(te,ae),ue=ie.readUshort(te,ae+4);if(le!=0&&(ue<1||13<ue)){g("error in TIFF");break}if(w._readIFD(ie,te,ae,se,0,q),(ae=ie.readUint(te,ae+2+12*le))==0)break}return se},w.decodeImage=function(j,q,te){if(!q.data){var re=new Uint8Array(j),ne=w._binBE.readASCII(re,0,2);if(q.t256!=null){q.isLE=ne=="II",q.width=q.t256[0],q.height=q.t257[0];var ie=q.t259?q.t259[0]:1,ae=q.t266?q.t266[0]:1;q.t284&&q.t284[0]==2&&g("PlanarConfiguration 2 should not be used!"),ie==7&&q.t258&&q.t258.length>3&&(q.t258=q.t258.slice(0,3));var se=q.t277?q.t277[0]:1,le=(q.t258?q.t258[0]:1)*se;ie==1&&q.t279!=null&&q.t278&&q.t262[0]==32803&&(le=Math.round(8*q.t279[0]/(q.width*q.t278[0]))),q.t50885&&q.t50885[0]==4&&(le=3*q.t258[0]);var ue=8*Math.ceil(q.width*le/8),ce=q.t273;(ce==null||q.t322)&&(ce=q.t324);var de=q.t279;ie==1&&ce.length==1&&(de=[q.height*(ue>>>3)]),(de==null||q.t322)&&(de=q.t325);var he=new Uint8Array(q.height*(ue>>>3)),pe=0;if(q.t322!=null){var me=q.t322[0],ge=q.t323[0],be=Math.floor((q.width+me-1)/me),ke=Math.floor((q.height+ge-1)/ge),ye=new Uint8Array(0|Math.ceil(me*ge*le/8));console.log("====",be,ke);for(var Se=0;Se<ke;Se++)for(var we=0;we<be;we++){var Te=Se*be+we;ye.fill(0),w.decode._decompress(q,te,re,ce[Te],de[Te],ie,ye,0,ae,me,ge),ie==6?he=ye:w._copyTile(ye,0|Math.ceil(me*le/8),ge,he,0|Math.ceil(q.width*le/8),q.height,0|Math.ceil(we*me*le/8),Se*ge)}pe=8*he.length}else{if(ce==null)return;var _e=q.t278?q.t278[0]:q.height;for(_e=Math.min(_e,q.height),Te=0;Te<ce.length;Te++)w.decode._decompress(q,te,re,ce[Te],de[Te],ie,he,0|Math.ceil(pe/8),ae,q.width,_e),pe+=ue*_e;pe=Math.min(pe,8*he.length)}q.data=new Uint8Array(he.buffer,0,0|Math.ceil(pe/8))}}},w.decode._decompress=function(j,q,te,re,ne,ie,ae,se,le,ue,ce){if(j.t271&&j.t271[0]=="Panasonic"&&j.t45&&j.t45[0]==6&&(ie=34316),ie==1)for(var de=0;de<ne;de++)ae[se+de]=te[re+de];else if(ie==2)w.decode._decodeG2(te,re,ne,ae,se,ue,le);else if(ie==3)w.decode._decodeG3(te,re,ne,ae,se,ue,le,!!j.t292&&!(1&~j.t292[0]));else if(ie==4)w.decode._decodeG4(te,re,ne,ae,se,ue,le);else if(ie==5)w.decode._decodeLZW(te,re,ne,ae,se,8);else if(ie==6)w.decode._decodeOldJPEG(j,te,re,ne,ae,se);else if(ie==7||ie==34892)w.decode._decodeNewJPEG(j,te,re,ne,ae,se);else if(ie==8||ie==32946){var he=new Uint8Array(te.buffer,re+2,ne-6),pe=D.inflateRaw(he);se+pe.length<=ae.length&&ae.set(pe,se)}else ie==9?w.decode._decodeVC5(te,re,ne,ae,se,j.t33422):ie==32767?w.decode._decodeARW(j,te,re,ne,ae,se):ie==32773?w.decode._decodePackBits(te,re,ne,ae,se):ie==32809?w.decode._decodeThunder(te,re,ne,ae,se):ie==34316?w.decode._decodePanasonic(j,te,re,ne,ae,se):ie==34713?w.decode._decodeNikon(j,q,te,re,ne,ae,se):ie==34676?w.decode._decodeLogLuv32(j,te,re,ne,ae,se):g("Unknown compression",ie);var me=j.t258?Math.min(32,j.t258[0]):1,ge=j.t277?j.t277[0]:1,be=me*ge>>>3,ke=Math.ceil(me*ge*ue/8);if(me==16&&!j.isLE&&j.t33422==null)for(var ye=0;ye<ce;ye++)for(var Se=se+ye*ke,we=1;we<ke;we+=2){var Te=ae[Se+we];ae[Se+we]=ae[Se+we-1],ae[Se+we-1]=Te}if(j.t317&&j.t317[0]==2)for(ye=0;ye<ce;ye++){var _e=se+ye*ke;if(me==16)for(de=be;de<ke;de+=2){var Ie=(ae[_e+de+1]<<8|ae[_e+de])+(ae[_e+de-be+1]<<8|ae[_e+de-be]);ae[_e+de]=255&Ie,ae[_e+de+1]=Ie>>>8&255}else if(ge==3)for(de=3;de<ke;de+=3)ae[_e+de]=ae[_e+de]+ae[_e+de-3]&255,ae[_e+de+1]=ae[_e+de+1]+ae[_e+de-2]&255,ae[_e+de+2]=ae[_e+de+2]+ae[_e+de-1]&255;else for(de=be;de<ke;de++)ae[_e+de]=ae[_e+de]+ae[_e+de-be]&255}},w.decode._decodePanasonic=function(j,q,te,re,ne,ie){var ae,se,le,ue,ce,de,he,pe,me=q.buffer,ge=j.t2[0],be=j.t3[0],ke=j.t10[0],ye=j.t45[0],Se=0,we=0,Te=0,_e=0,Ie=ye==6?new Uint32Array(18):new Uint8Array(16),Le=[0,0],Be=[0,0],Me=0,Ne=new Uint8Array(16384),Ye=new Uint16Array(ne.buffer);function Ue(et){if(Te==0){var ve=new Uint8Array(me,te+we+8184,8200),Ae=new Uint8Array(me,te+we,8184);Ne.set(ve),Ne.set(Ae,ve.length),we+=16384}if(ye!=5)return(Ne[_e=(Te=Te-et&131071)>>3^16368]|Ne[_e+1]<<8)>>(7&Te)&~(-1<<et);for(ae=0;ae<16;ae++)Ie[ae]=Ne[Te++],Te&=16383}function $e(et){return Ne[Te+15-et]}function Ke(){Le[0]=0,Le[1]=0,Be[0]=0,Be[1]=0}if(ye==7)throw ye;if(ye==6){var Pe=ke==12,He=Pe?function(){Ie[0]=$e(0)<<4|$e(1)>>4,Ie[1]=4095&((15&$e(1))<<8|$e(2)),Ie[2]=$e(3)>>6&3,Ie[3]=(63&$e(3))<<2|$e(4)>>6,Ie[4]=(63&$e(4))<<2|$e(5)>>6,Ie[5]=(63&$e(5))<<2|$e(6)>>6,Ie[6]=$e(6)>>4&3,Ie[7]=(15&$e(6))<<4|$e(7)>>4,Ie[8]=(15&$e(7))<<4|$e(8)>>4,Ie[9]=(15&$e(8))<<4|$e(9)>>4,Ie[10]=$e(9)>>2&3,Ie[11]=(3&$e(9))<<6|$e(10)>>2,Ie[12]=(3&$e(10))<<6|$e(11)>>2,Ie[13]=(3&$e(11))<<6|$e(12)>>2,Ie[14]=3&$e(12),Ie[15]=$e(13),Ie[16]=$e(14),Ie[17]=$e(15),Te+=16,_e=0}:function(){Ie[0]=$e(0)<<6|$e(1)>>2,Ie[1]=16383&((3&$e(1))<<12|$e(2)<<4|$e(3)>>4),Ie[2]=$e(3)>>2&3,Ie[3]=(3&$e(3))<<8|$e(4),Ie[4]=$e(5)<<2|$e(6)>>6,Ie[5]=(63&$e(6))<<4|$e(7)>>4,Ie[6]=$e(7)>>2&3,Ie[7]=(3&$e(7))<<8|$e(8),Ie[8]=$e(9)<<2&1020|$e(10)>>6,Ie[9]=1023&($e(10)<<4|$e(11)>>4),Ie[10]=$e(11)>>2&3,Ie[11]=(3&$e(11))<<8|$e(12),Ie[12]=1023&($e(13)<<2&1020|$e(14)>>6),Ie[13]=1023&($e(14)<<4|$e(15)>>4),Te+=16,_e=0},it=Pe?14:11,Je=Pe?128:512,Ge=Pe?2048:8192,Qe=Pe?16383:65535,ut=Pe?4095:16383,dt=ge/it,kt=16*dt,Xe=Pe?18:14;for(de=0;de<be-15;de+=16){var xe=Math.min(16,be-de),qe=kt*xe;for(Ne=new Uint8Array(me,te+Se,qe),Te=0,Se+=qe,pe=0,he=0;pe<xe;pe++,he=0){Me=(de+pe)*ge;for(var ze=0;ze<dt;ze++)for(He(),Ke(),le=0,ce=0,ae=0;ae<it;ae++){if(ue=1&ae,ae%3==2){var Oe=_e<Xe?Ie[_e++]:0;Oe==3&&(Oe=4),ce=Je<<Oe,le=1<<Oe}var Fe=_e<Xe?Ie[_e++]:0;Le[ue]?(Fe*=le,ce<Ge&&Be[ue]>ce&&(Fe+=Be[ue]-ce),Be[ue]=Fe):(Le[ue]=Fe,Fe?Be[ue]=Fe:Fe=Be[ue]),Ye[Me+he++]=Fe-15<=Qe?Fe-15&Qe:Fe+2147483633>>31&ut}}}}else if(ye==5){var Ze=ke==12?10:9;for(de=0;de<be;de++)for(he=0;he<ge;he+=Ze)Ue(0),ke==12?(Ye[Me++]=((15&Ie[1])<<8)+Ie[0],Ye[Me++]=16*Ie[2]+(Ie[1]>>4),Ye[Me++]=((15&Ie[4])<<8)+Ie[3],Ye[Me++]=16*Ie[5]+(Ie[4]>>4),Ye[Me++]=((15&Ie[7])<<8)+Ie[6],Ye[Me++]=16*Ie[8]+(Ie[7]>>4),Ye[Me++]=((15&Ie[10])<<8)+Ie[9],Ye[Me++]=16*Ie[11]+(Ie[10]>>4),Ye[Me++]=((15&Ie[13])<<8)+Ie[12],Ye[Me++]=16*Ie[14]+(Ie[13]>>4)):ke==14&&(Ye[Me++]=Ie[0]+((63&Ie[1])<<8),Ye[Me++]=(Ie[1]>>6)+4*Ie[2]+((15&Ie[3])<<10),Ye[Me++]=(Ie[3]>>4)+16*Ie[4]+((3&Ie[5])<<12),Ye[Me++]=((252&Ie[5])>>2)+(Ie[6]<<6),Ye[Me++]=Ie[7]+((63&Ie[8])<<8),Ye[Me++]=(Ie[8]>>6)+4*Ie[9]+((15&Ie[10])<<10),Ye[Me++]=(Ie[10]>>4)+16*Ie[11]+((3&Ie[12])<<12),Ye[Me++]=((252&Ie[12])>>2)+(Ie[13]<<6),Ye[Me++]=Ie[14]+((63&Ie[15])<<8))}else{if(ye!=4)throw ye;for(de=0;de<be;de++)for(he=0;he<ge;he++)ue=1&(ae=he%14),ae==0&&Ke(),ae%3==2&&(le=4>>3-Ue(2)),Be[ue]?(se=Ue(8))!=0&&(Le[ue]-=128<<le,(Le[ue]<0||le==4)&&(Le[ue]&=~(-1<<le)),Le[ue]+=se<<le):(Be[ue]=Ue(8),(Be[ue]||ae>11)&&(Le[ue]=Be[ue]<<4|Ue(4))),Ye[Me++]=Le[1&he]}},w.decode._decodeVC5=function(){var j,q,te,re=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],ne=[3,3,3,3,2,2,2,1,1,1];function ie(pe){var me=pe[1],ge=pe[0][me>>>3]>>>7-(7&me)&1;return pe[1]++,ge}function ae(pe,me){if(j==null){j={};for(var ge=0;ge<re.length;ge+=4)j[re[ge+1]]=re.slice(ge,ge+4)}for(var be=ie(pe),ke=j[be];ke==null;)be=be<<1|ie(pe),ke=j[be];var ye=ke[3];ye!=0&&(ye=ie(pe)==0?ye:-ye),me[0]=ke[2],me[1]=ye}function se(pe,me){for(var ge=0;ge<me;ge++)1&~pe||pe++,pe>>>=1;return pe}function le(pe,me){return pe>>me}function ue(pe,me,ge,be,ke,ye){me[ge]=le(le(11*pe[ke]-4*pe[ke+ye]+pe[ke+ye+ye]+4,3)+pe[be],1),me[ge+ye]=le(le(5*pe[ke]+4*pe[ke+ye]-pe[ke+ye+ye]+4,3)-pe[be],1)}function ce(pe,me,ge,be,ke,ye){var Se=pe[ke-ye]-pe[ke+ye],we=pe[ke],Te=pe[be];me[ge]=le(le(Se+4,3)+we+Te,1),me[ge+ye]=le(le(4-Se,3)+we-Te,1)}function de(pe,me,ge,be,ke,ye){me[ge]=le(le(5*pe[ke]+4*pe[ke-ye]-pe[ke-ye-ye]+4,3)+pe[be],1),me[ge+ye]=le(le(11*pe[ke]-4*pe[ke-ye]+pe[ke-ye-ye]+4,3)-pe[be],1)}function he(pe){return pe=te[pe=pe<0?0:pe>4095?4095:pe]>>>2}return function(pe,me,ge,be,ke,ye){be=new Uint16Array(be.buffer);var Se,we,Te,_e,Ie,Le,Be,Me,Ne=Date.now(),Ye=w._binBE,Ue=me+ge;me+=4;for(var $e=ye[0]==1;me<Ue;){var Ke=Ye.readShort(pe,me),Pe=Ye.readUshort(pe,me+2);if(me+=4,Ke==12)dt=Pe;else if(Ke==20)Se=Pe;else if(Ke==21)we=Pe;else if(Ke==48)Te=Pe;else if(Ke==53)_e=Pe;else if(Ke!=35){if(Ke==62)Ie=Pe;else if(Ke!=101){if(Ke==109)Le=Pe;else if(Ke!=84){if(Ke!=106){if(Ke!=107){if(Ke!=108){if(Ke!=102){if(Ke==104)rr=Pe;else if(Ke!=105){var He=Ke<0?-Ke:Ke,it=65280&He,Je=0;if(24576&He&&(8192&He?(Je=65535&Pe,Je+=(255&He)<<16):Je=65535&Pe),24576&~He){if(He==16388)me+=4*Je;else if(it!=8192&&it!=8448&&it!=9216)throw He.toString(16)}else{if(Be==null){Be=[];for(var Ge=0;Ge<4;Ge++)Be[Ge]=new Int16Array((Se>>>1)*(we>>>1));for(Me=new Int16Array((Se>>>1)*(we>>>1)),q=new Int16Array(1024),Ge=0;Ge<1024;Ge++){var Qe=Ge-512,ut=Math.abs(Qe),dt=Math.floor(768*ut*ut*ut/16581375)+ut;q[Ge]=Math.sign(Qe)*dt}for(te=new Uint16Array(4096),Ge=0;Ge<4096;Ge++){var kt=Ge,Xe=65535*(Math.pow(113,kt/4095)-1)/112;te[Ge]=Math.min(Xe,65535)}}var xe=Be[Ie],qe=se(Se,1+ne[Te]),ze=se(we,1+ne[Te]);if(Te==0)for(var Oe=0;Oe<ze;Oe++)for(var Fe=0;Fe<qe;Fe++){var Ze=me+2*(Oe*qe+Fe);xe[Oe*(Se>>>1)+Fe]=pe[Ze]<<8|pe[Ze+1]}else{var et=[pe,8*me],ve=[],Ae=0,De=qe*ze,je=[0,0],St=0;for(Pe=0;Ae<De;)for(ae(et,je),St=je[0],Pe=je[1];St>0;)ve[Ae++]=Pe,St--;var Bt=(Te-1)%3,tr=Bt!=1?qe:0,ir=Bt!=0?ze:0;for(Oe=0;Oe<ze;Oe++){var Yt=(Oe+ir)*(Se>>>1)+tr,ar=Oe*qe;for(Fe=0;Fe<qe;Fe++)xe[Yt+Fe]=q[ve[ar+Fe]+512]*_e}if(Bt==2){var rr=Se>>>1,gr=2*qe,dr=2*ze;for(Oe=0;Oe<ze;Oe++)for(Fe=0;Fe<gr;Fe++){Ge=2*Oe*rr+Fe;var hr=ze*rr+(fr=Oe*rr+Fe);Oe==0?ue(xe,Me,Ge,hr,fr,rr):Oe==ze-1?de(xe,Me,Ge,hr,fr,rr):ce(xe,Me,Ge,hr,fr,rr)}var kr=xe;for(xe=Me,Me=kr,Oe=0;Oe<dr;Oe++)for(Fe=0;Fe<qe;Fe++){var fr;Ge=Oe*rr+2*Fe,hr=qe+(fr=Oe*rr+Fe),Fe==0?ue(xe,Me,Ge,hr,fr,1):Fe==qe-1?de(xe,Me,Ge,hr,fr,1):ce(xe,Me,Ge,hr,fr,1)}kr=xe,xe=Me,Me=kr;for(var ot=[],nr=2-~~((Te-1)/3),Tt=0;Tt<3;Tt++)ot[Tt]=Le>>14-2*Tt&3;var jt=ot[nr];if(jt!=0)for(Oe=0;Oe<dr;Oe++)for(Fe=0;Fe<gr;Fe++)xe[Ge=Oe*rr+Fe]=xe[Ge]<<jt}}if(Te==9&&Ie==3){var We=Be[0],er=Be[1],br=Be[2],Ce=Be[3];for(Oe=0;Oe<we;Oe+=2)for(Fe=0;Fe<Se;Fe+=2){var Zt=Oe*Se+Fe,zt=We[Ze=(Oe>>>1)*(Se>>>1)+(Fe>>>1)],ft=er[Ze]-2048,$t=br[Ze]-2048,Ut=Ce[Ze]-2048,_r=(ft<<1)+zt,cr=($t<<1)+zt,pr=zt+Ut,Ir=zt-Ut;$e?(be[Zt]=he(pr),be[Zt+1]=he(cr),be[Zt+Se]=he(_r),be[Zt+Se+1]=he(Ir)):(be[Zt]=he(_r),be[Zt+1]=he(pr),be[Zt+Se]=he(Ir),be[Zt+Se+1]=he(cr))}}me+=4*Je}}}}}}}}}}console.log(Date.now()-Ne)}}(),w.decode._decodeLogLuv32=function(j,q,te,re,ne,ie){for(var ae=j.width,se=4*ae,le=0,ue=new Uint8Array(se);le<re;){for(var ce=0;ce<se;){var de=q[te+le];if(le++,de<128){for(var he=0;he<de;he++)ue[ce+he]=q[te+le+he];ce+=de,le+=de}else{for(de-=126,he=0;he<de;he++)ue[ce+he]=q[te+le];ce+=de,le++}}for(var pe=0;pe<ae;pe++)ne[ie+0]=ue[pe],ne[ie+1]=ue[pe+ae],ne[ie+2]=ue[pe+2*ae],ne[ie+4]=ue[pe+3*ae],ie+=6}},w.decode._ljpeg_diff=function(j,q,te){var re,ne,ie=w.decode._getbithuff;return re=ie(j,q,te[0],te),(ne=ie(j,q,re,0))&1<<re-1||(ne-=(1<<re)-1),ne},w.decode._decodeARW=function(j,q,te,re,ne,ie){var ae=j.t256[0],se=j.t257[0],le=j.t258[0],ue=j.isLE?w._binLE:w._binBE;if(ae*se==re||ae*se*1.5==re)if(ae*se*1.5!=re){var ce,de,he,pe,me,ge,be,ke,ye=new Uint16Array(16),Se=new Uint8Array(ae+1);for(Ne=0;Ne<se;Ne++){for(var we=0;we<ae;we++)Se[we]=q[te++];for(ke=0,Me=0;Me<ae-30;ke+=16){for(de=2047&(ce=ue.readUint(Se,ke)),he=2047&ce>>>11,pe=15&ce>>>22,me=15&ce>>>26,ge=0;ge<4&&128<<ge<=de-he;ge++);for(be=30,Te=0;Te<16;Te++)Te==pe?ye[Te]=de:Te==me?ye[Te]=he:(ye[Te]=((ue.readUshort(Se,ke+(be>>3))>>>(7&be)&127)<<ge)+he,ye[Te]>2047&&(ye[Te]=2047),be+=7);for(Te=0;Te<16;Te++,Me+=2)Je=ye[Te]<<1,w.decode._putsF(ne,(Ne*ae+Me)*le,Je<<16-le);Me-=1&Me?1:31}}}else for(var Te=0;Te<re;Te+=3){var _e=q[te+Te+0],Ie=q[te+Te+1],Le=q[te+Te+2];ne[ie+Te]=Ie<<4|_e>>>4,ne[ie+Te+1]=_e<<4|Le>>>4,ne[ie+Te+2]=Le<<4|Ie>>>4}else{se+=8;var Be,Me,Ne,Ye=[te,0,0,0],Ue=new Uint16Array(32770),$e=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],Ke=0,Pe=w.decode._ljpeg_diff;for(Ue[0]=15,Be=Te=0;Te<18;Te++)for(var He=32768>>>($e[Te]>>>8),it=0;it<He;it++)Ue[++Be]=$e[Te];for(Me=ae;Me--;)for(Ne=0;Ne<se+1;Ne+=2)if(Ne==se&&(Ne=1),Ke+=Pe(q,Ye,Ue),Ne<se){var Je=4095&Ke;w.decode._putsF(ne,(Ne*ae+Me)*le,Je<<16-le)}}},w.decode._decodeNikon=function(j,q,te,re,ne,ie,ae){var se=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],le=j.t256[0],ue=j.t257[0],ce=j.t258[0],de=0,he=0,pe=w.decode._make_decoder,me=w.decode._getbithuff,ge=q[0].exifIFD.makerNote,be=ge.t150?ge.t150:ge.t140,ke=0,ye=be[ke++],Se=be[ke++];ye!=73&&Se!=88||(ke+=2110),ye==70&&(de=2),ce==14&&(de+=3);for(var we=[[0,0],[0,0]],Te=j.isLE?w._binLE:w._binBE,_e=0;_e<2;_e++)for(var Ie=0;Ie<2;Ie++)we[_e][Ie]=Te.readShort(be,ke),ke+=2;var Le,Be,Me,Ne,Ye,Ue=1<<ce&32767,$e=0,Ke=Te.readShort(be,ke);ke+=2,Ke>1&&($e=Math.floor(Ue/(Ke-1))),ye==68&&Se==32&&$e>0&&(he=Te.readShort(be,562));var Pe=[0,0],He=pe(se[de]),it=[re,0,0,0];for(Le=0;Le<ue;Le++)for(he&&Le==he&&(He=pe(se[de+1])),Be=0;Be<le;Be++){_e=me(te,it,He[0],He),(Ye=1+(me(te,it,(Me=15&_e)-(Ne=_e>>>4),0)<<1)<<Ne>>>1)&1<<Me-1||(Ye-=(1<<Me)-(Ne==0?1:0)),Be<2?Pe[Be]=we[1&Le][Be]+=Ye:Pe[1&Be]+=Ye;var Je=Math.min(Math.max(Pe[1&Be],0),(1<<ce)-1),Ge=(Le*le+Be)*ce;w.decode._putsF(ie,Ge,Je<<16-ce)}},w.decode._putsF=function(j,q,te){te<<=8-(7&q);var re=q>>>3;j[re]|=te>>>16,j[re+1]|=te>>>8,j[re+2]|=te},w.decode._getbithuff=function(j,q,te,re){var ne;w.decode._get_byte;var ie=q[0],ae=q[1],se=q[2],le=q[3];if(te==0||se<0)return 0;for(;!le&&se<te&&(ne=j[ie++])!=-1&&!(le=0);)ae=(ae<<8)+ne,se+=8;if(ne=ae<<32-se>>>32-te,re?(se-=re[ne+1]>>>8,ne=255&re[ne+1]):se-=te,se<0)throw"e";return q[0]=ie,q[1]=ae,q[2]=se,q[3]=le,ne},w.decode._make_decoder=function(j){var q,te,re,ne,ie,ae=[];for(q=16;q!=0&&!j[q];q--);var se=17;for(ae[0]=q,re=te=1;te<=q;te++)for(ne=0;ne<j[te];ne++,++se)for(ie=0;ie<1<<q-te;ie++)re<=1<<q&&(ae[re++]=te<<8|j[se]);return ae},w.decode._decodeNewJPEG=function(j,q,te,re,ne,ie){re=Math.min(re,q.length-te);var ae=j.t347,se=ae?ae.length:0,le=new Uint8Array(se+re);if(ae){for(var ue=0,ce=0;ce<se-1&&(ae[ce]!=255||ae[ce+1]!=217);ce++)le[ue++]=ae[ce];var de=q[te],he=q[te+1];for(de==255&&he==216||(le[ue++]=de,le[ue++]=he),ce=2;ce<re;ce++)le[ue++]=q[te+ce]}else for(ce=0;ce<re;ce++)le[ce]=q[te+ce];if(j.t262[0]==32803||j.t259[0]==7&&j.t262[0]==34892){var pe=j.t258[0],me=w.LosslessJpegDecode(le),ge=me.length;if(pe==16)if(j.isLE)for(ce=0;ce<ge;ce++)ne[ie+(ce<<1)]=255&me[ce],ne[ie+(ce<<1)+1]=me[ce]>>>8;else for(ce=0;ce<ge;ce++)ne[ie+(ce<<1)]=me[ce]>>>8,ne[ie+(ce<<1)+1]=255&me[ce];else if(pe==14||pe==12||pe==10){var be=16-pe;for(ce=0;ce<ge;ce++)w.decode._putsF(ne,ce*pe,me[ce]<<be)}else{if(pe!=8)throw new Error("unsupported bit depth "+pe);for(ce=0;ce<ge;ce++)ne[ie+ce]=me[ce]}}else{var ke=new w.JpegDecoder;ke.parse(le);var ye=ke.getData({width:ke.width,height:ke.height,forceRGB:!0,isSourcePDF:!1});for(ce=0;ce<ye.length;ce++)ne[ie+ce]=ye[ce]}j.t262[0]==6&&(j.t262[0]=2)},w.decode._decodeOldJPEGInit=function(j,q,te,re){var ne,ie,ae,se,le,ue=216,ce=0,de=0,he=!1,pe=j.t513,me=pe?pe[0]:0,ge=j.t514,be=ge?ge[0]:0,ke=j.t324||j.t273||pe,ye=j.t530,Se=0,we=0,Te=j.t277?j.t277[0]:1,_e=j.t515;if(ke&&(de=ke[0],he=ke.length>1),!he){if(q[te]==255&&q[te+1]==ue)return{jpegOffset:te};if(pe!=null&&(q[te+me]==255&&q[te+me+1]==ue?ce=te+me:g("JPEGInterchangeFormat does not point to SOI"),ge==null?g("JPEGInterchangeFormatLength field is missing"):(me>=de||me+be<=de)&&g("JPEGInterchangeFormatLength field value is invalid"),ce!=null))return{jpegOffset:ce}}if(ye!=null&&(Se=ye[0],we=ye[1]),pe!=null&&ge!=null)if(be>=2&&me+be<=de){for(ne=q[te+me+be-2]==255&&q[te+me+be-1]==ue?new Uint8Array(be-2):new Uint8Array(be),ae=0;ae<ne.length;ae++)ne[ae]=q[te+me+ae];g("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else g("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(ne==null){var Ie=0,Le=[];Le[Ie++]=255,Le[Ie++]=ue;var Be=j.t519;if(Be==null)throw new Error("JPEGQTables tag is missing");for(ae=0;ae<Be.length;ae++)for(Le[Ie++]=255,Le[Ie++]=219,Le[Ie++]=0,Le[Ie++]=67,Le[Ie++]=ae,se=0;se<64;se++)Le[Ie++]=q[te+Be[ae]+se];for(le=0;le<2;le++){var Me=j[le==0?"t520":"t521"];if(Me==null)throw new Error((le==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(ae=0;ae<Me.length;ae++){Le[Ie++]=255,Le[Ie++]=196;var Ne=19;for(se=0;se<16;se++)Ne+=q[te+Me[ae]+se];for(Le[Ie++]=Ne>>>8,Le[Ie++]=255&Ne,Le[Ie++]=ae|le<<4,se=0;se<16;se++)Le[Ie++]=q[te+Me[ae]+se];for(se=0;se<Ne;se++)Le[Ie++]=q[te+Me[ae]+16+se]}}if(Le[Ie++]=255,Le[Ie++]=192,Le[Ie++]=0,Le[Ie++]=8+3*Te,Le[Ie++]=8,Le[Ie++]=j.height>>>8&255,Le[Ie++]=255&j.height,Le[Ie++]=j.width>>>8&255,Le[Ie++]=255&j.width,Le[Ie++]=Te,Te==1)Le[Ie++]=1,Le[Ie++]=17,Le[Ie++]=0;else for(ae=0;ae<3;ae++)Le[Ie++]=ae+1,Le[Ie++]=ae!=0?17:(15&Se)<<4|15&we,Le[Ie++]=ae;_e!=null&&_e[0]!=0&&(Le[Ie++]=255,Le[Ie++]=221,Le[Ie++]=0,Le[Ie++]=4,Le[Ie++]=_e[0]>>>8&255,Le[Ie++]=255&_e[0]),ne=new Uint8Array(Le)}var Ye=-1;for(ae=0;ae<ne.length-1;){if(ne[ae]==255&&ne[ae+1]==192){Ye=ae;break}ae++}if(Ye==-1){var Ue=new Uint8Array(ne.length+10+3*Te);Ue.set(ne);var $e=ne.length;if(Ye=ne.length,(ne=Ue)[$e++]=255,ne[$e++]=192,ne[$e++]=0,ne[$e++]=8+3*Te,ne[$e++]=8,ne[$e++]=j.height>>>8&255,ne[$e++]=255&j.height,ne[$e++]=j.width>>>8&255,ne[$e++]=255&j.width,ne[$e++]=Te,Te==1)ne[$e++]=1,ne[$e++]=17,ne[$e++]=0;else for(ae=0;ae<3;ae++)ne[$e++]=ae+1,ne[$e++]=ae!=0?17:(15&Se)<<4|15&we,ne[$e++]=ae}if(q[de]==255&&q[de+1]==218){var Ke=q[de+2]<<8|q[de+3];for((ie=new Uint8Array(Ke+2))[0]=q[de],ie[1]=q[de+1],ie[2]=q[de+2],ie[3]=q[de+3],ae=0;ae<Ke-2;ae++)ie[ae+4]=q[de+ae+4]}else{var Pe=0;if((ie=new Uint8Array(8+2*Te))[Pe++]=255,ie[Pe++]=218,ie[Pe++]=0,ie[Pe++]=6+2*Te,ie[Pe++]=Te,Te==1)ie[Pe++]=1,ie[Pe++]=0;else for(ae=0;ae<3;ae++)ie[Pe++]=ae+1,ie[Pe++]=ae<<4|ae;ie[Pe++]=0,ie[Pe++]=63,ie[Pe++]=0}return{jpegOffset:te,tables:ne,sosMarker:ie,sofPosition:Ye}},w.decode._decodeOldJPEG=function(j,q,te,re,ne,ie){var ae,se,le,ue,ce=w.decode._decodeOldJPEGInit(j,q,te,re);if(ce.jpegOffset!=null)for(ae=te+re-ce.jpegOffset,le=new Uint8Array(ae),pe=0;pe<ae;pe++)le[pe]=q[ce.jpegOffset+pe];else{for(se=ce.tables.length,(le=new Uint8Array(se+ce.sosMarker.length+re+2)).set(ce.tables),ue=se,le[ce.sofPosition+5]=j.height>>>8&255,le[ce.sofPosition+6]=255&j.height,le[ce.sofPosition+7]=j.width>>>8&255,le[ce.sofPosition+8]=255&j.width,q[te]==255&&q[te+1]==SOS||(le.set(ce.sosMarker,ue),ue+=sosMarker.length),pe=0;pe<re;pe++)le[ue++]=q[te+pe];le[ue++]=255,le[ue++]=EOI}var de=new w.JpegDecoder;de.parse(le);for(var he=de.getData({width:de.width,height:de.height,forceRGB:!0,isSourcePDF:!1}),pe=0;pe<he.length;pe++)ne[ie+pe]=he[pe];j.t262&&j.t262[0]==6&&(j.t262[0]=2)},w.decode._decodePackBits=function(j,q,te,re,ne){for(var ie=new Int8Array(j.buffer),ae=new Int8Array(re.buffer),se=q+te;q<se;){var le=ie[q];if(q++,le>=0&&le<128)for(var ue=0;ue<le+1;ue++)ae[ne]=ie[q],ne++,q++;if(le>=-127&&le<0){for(ue=0;ue<1-le;ue++)ae[ne]=ie[q],ne++;q++}}return ne},w.decode._decodeThunder=function(j,q,te,re,ne){for(var ie=[0,1,0,-1],ae=[0,1,2,3,0,-3,-2,-1],se=q+te,le=2*ne,ue=0;q<se;){var ce=j[q],de=ce>>>6,he=63&ce;if(q++,de==3&&(ue=15&he,re[le>>>1]|=ue<<4*(1-le&1),le++),de==0)for(var pe=0;pe<he;pe++)re[le>>>1]|=ue<<4*(1-le&1),le++;if(de==2)for(pe=0;pe<2;pe++)(me=he>>>3*(1-pe)&7)!=4&&(ue+=ae[me],re[le>>>1]|=ue<<4*(1-le&1),le++);if(de==1)for(pe=0;pe<3;pe++){var me;(me=he>>>2*(2-pe)&3)!=2&&(ue+=ie[me],re[le>>>1]|=ue<<4*(1-le&1),le++)}}},w.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},w.decode._lens=function(){var j=function(le,ue,ce,de){for(var he=0;he<ue.length;he++)le[ue[he]]=ce+he*de},q="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",te="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",re="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",ne="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",ie="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";q=q.split(","),te=te.split(","),re=re.split(","),ne=ne.split(","),ie=ie.split(",");var ae={},se={};return j(ae,q,0,1),j(ae,re,64,64),j(ae,ie,1792,64),j(se,te,0,1),j(se,ne,64,64),j(se,ie,1792,64),[ae,se]}(),w.decode._decodeG4=function(j,q,te,re,ne,ie,ae){for(var se=w.decode,le=q<<3,ue=0,ce="",de=[],he=[],pe=0;pe<ie;pe++)he.push(0);he=se._makeDiff(he);for(var me=0,ge=0,be=0,ke=0,ye=0,Se=0,we="",Te=0,_e=8*Math.ceil(ie/8);le>>>3<q+te;){be=se._findDiff(he,me+(me==0?0:1),1-ye),ke=se._findDiff(he,be,ye);var Ie=0;if(ae==1&&(Ie=j[le>>>3]>>>7-(7&le)&1),ae==2&&(Ie=j[le>>>3]>>>(7&le)&1),le++,ce+=Ie,we=="H"){if(se._lens[ye][ce]!=null){var Le=se._lens[ye][ce];ce="",ue+=Le,Le<64&&(se._addNtimes(de,ue,ye),me+=ue,ye=1-ye,ue=0,--Te==0&&(we=""))}}else ce=="0001"&&(ce="",se._addNtimes(de,ke-me,ye),me=ke),ce=="001"&&(ce="",we="H",Te=2),se._dmap[ce]!=null&&(ge=be+se._dmap[ce],se._addNtimes(de,ge-me,ye),me=ge,ce="",ye=1-ye);de.length==ie&&we==""&&(se._writeBits(de,re,8*ne+Se*_e),ye=0,Se++,me=0,he=se._makeDiff(de),de=[])}},w.decode._findDiff=function(j,q,te){for(var re=0;re<j.length;re+=2)if(j[re]>=q&&j[re+1]==te)return j[re]},w.decode._makeDiff=function(j){var q=[];j[0]==1&&q.push(0,1);for(var te=1;te<j.length;te++)j[te-1]!=j[te]&&q.push(te,j[te]);return q.push(j.length,0,j.length,1),q},w.decode._decodeG2=function(j,q,te,re,ne,ie,ae){for(var se=w.decode,le=q<<3,ue=0,ce="",de=[],he=0,pe=0,me=8*Math.ceil(ie/8);le>>>3<q+te;){var ge=0;ae==1&&(ge=j[le>>>3]>>>7-(7&le)&1),ae==2&&(ge=j[le>>>3]>>>(7&le)&1),le++,ce+=ge,(ue=se._lens[he][ce])!=null&&(se._addNtimes(de,ue,he),ce="",ue<64&&(he=1-he),de.length==ie&&(se._writeBits(de,re,8*ne+pe*me),de=[],pe++,he=0,7&le&&(le+=8-(7&le)),ue>=64&&(le+=8)))}},w.decode._decodeG3=function(j,q,te,re,ne,ie,ae,se){for(var le=w.decode,ue=q<<3,ce=0,de="",he=[],pe=[],me=0;me<ie;me++)he.push(0);for(var ge=0,be=0,ke=0,ye=0,Se=0,we=-1,Te="",_e=0,Ie=!0,Le=8*Math.ceil(ie/8);ue>>>3<q+te;){ke=le._findDiff(pe,ge+(ge==0?0:1),1-Se),ye=le._findDiff(pe,ke,Se);var Be=0;if(ae==1&&(Be=j[ue>>>3]>>>7-(7&ue)&1),ae==2&&(Be=j[ue>>>3]>>>(7&ue)&1),ue++,de+=Be,Ie){if(le._lens[Se][de]!=null){var Me=le._lens[Se][de];de="",ce+=Me,Me<64&&(le._addNtimes(he,ce,Se),Se=1-Se,ce=0)}}else Te=="H"?le._lens[Se][de]!=null&&(Me=le._lens[Se][de],de="",ce+=Me,Me<64&&(le._addNtimes(he,ce,Se),ge+=ce,Se=1-Se,ce=0,--_e==0&&(Te=""))):(de=="0001"&&(de="",le._addNtimes(he,ye-ge,Se),ge=ye),de=="001"&&(de="",Te="H",_e=2),le._dmap[de]!=null&&(be=ke+le._dmap[de],le._addNtimes(he,be-ge,Se),ge=be,de="",Se=1-Se));de.endsWith("000000000001")&&(we>=0&&le._writeBits(he,re,8*ne+we*Le),se&&(ae==1&&(Ie=(j[ue>>>3]>>>7-(7&ue)&1)==1),ae==2&&(Ie=(j[ue>>>3]>>>(7&ue)&1)==1),ue++),de="",Se=0,we++,ge=0,pe=le._makeDiff(he),he=[])}he.length==ie&&le._writeBits(he,re,8*ne+we*Le)},w.decode._addNtimes=function(j,q,te){for(var re=0;re<q;re++)j.push(te)},w.decode._writeBits=function(j,q,te){for(var re=0;re<j.length;re++)q[te+re>>>3]|=j[re]<<7-(te+re&7)},w.decode._decodeLZW=w.decode._decodeLZW=function(){var j,q,te,re,ne=0,ie=0,ae=0,se=0,le=function(){var me=j>>>3,ge=(q[me]<<16|q[me+1]<<8|q[me+2])>>>24-(7&j)-ie&(1<<ie)-1;return j+=ie,ge},ue=new Uint32Array(16384),ce=0,de=function(me){ie=me+1,ne=se+1},he=function(me){for(var ge=me<<2,be=ue[ge+2],ke=re+be-1;ge!=65535;)te[ke--]=ue[ge],ge=ue[ge+1];re+=be},pe=function(me,ge){var be=ne<<2,ke=me<<2;ue[be]=ue[3+(ge<<2)],ue[be+1]=ke,ue[be+2]=ue[ke+2]+1,ue[be+3]=ue[ke+3],++ne+1==1<<ie&&ie!=12&&ie++};return function(me,ge,be,ke,ye,Se){j=ge<<3,q=me,te=ke,re=ye;var we=ge+be<<3,Te=0,_e=0;for(function(Ie){if(Ie!=ce){ce=Ie,se=1+(ae=1<<Ie);for(var Le=0;Le<se+1;Le++)ue[4*Le]=ue[4*Le+3]=Le,ue[4*Le+1]=65535,ue[4*Le+2]=1}}(Se),de(Se);j<we&&(Te=le())!=se;){if(Te==ae){if(de(Se),(Te=le())==se)break;he(Te)}else Te<ne?(he(Te),pe(_e,Te)):(pe(_e,_e),he(ne-1));_e=Te}return re}}(),w.tags={},w._types=function(){var j=new Array(250);return j.fill(0),{basic:{main:j=j.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),w._readIFD=function(j,q,te,re,ne,ie){var ae=j.readUshort(q,te);te+=2;var se={};ie.debug&&g("   ".repeat(ne),re.length-1,">>>----------------");for(var le=0;le<ae;le++){var ue=j.readUshort(q,te);te+=2;var ce=j.readUshort(q,te);te+=2;var de=j.readUint(q,te);te+=4;var he=j.readUint(q,te);te+=4;var pe=[];if(ce==1||ce==7){var me=de<5?te-4:he;me+de>q.buffer.byteLength&&(de=q.buffer.byteLength-me),pe=new Uint8Array(q.buffer,me,de)}if(ce==2){var ge=de<5?te-4:he,be=q[ge],ke=Math.max(0,Math.min(de-1,q.length-ge));be<128||ke==0?pe.push(j.readASCII(q,ge,ke)):pe=new Uint8Array(q.buffer,ge,ke)}if(ce==3)for(var ye=0;ye<de;ye++)pe.push(j.readUshort(q,(de<3?te-4:he)+2*ye));if(ce==4||ce==13)for(ye=0;ye<de;ye++)pe.push(j.readUint(q,(de<2?te-4:he)+4*ye));if(ce==5||ce==10){var Se=ce==5?j.readUint:j.readInt;for(ye=0;ye<de;ye++)pe.push([Se(q,he+8*ye),Se(q,he+8*ye+4)])}if(ce==8)for(ye=0;ye<de;ye++)pe.push(j.readShort(q,(de<3?te-4:he)+2*ye));if(ce==9)for(ye=0;ye<de;ye++)pe.push(j.readInt(q,(de<2?te-4:he)+4*ye));if(ce==11)for(ye=0;ye<de;ye++)pe.push(j.readFloat(q,he+4*ye));if(ce==12)for(ye=0;ye<de;ye++)pe.push(j.readDouble(q,he+8*ye));if(de==0||pe.length!=0){if(ie.debug&&g("   ".repeat(ne),ue,ce,w.tags[ue],pe),se["t"+ue]=pe,!(ue==330&&se.t272&&se.t272[0]=="DSLR-A100")){if(ue==330||ue==34665||ue==34853||ue==50740&&j.readUshort(q,j.readUint(pe,0))<300||ue==61440){var we=ue==50740?[j.readUint(pe,0)]:pe,Te=[];for(ye=0;ye<we.length;ye++)w._readIFD(j,q,we[ye],Te,ne+1,ie);ue==330&&(se.subIFD=Te),ue==34665&&(se.exifIFD=Te[0]),ue==34853&&(se.gpsiIFD=Te[0]),ue==50740&&(se.dngPrvt=Te[0]),ue==61440&&(se.fujiIFD=Te[0])}}if(ue==37500&&ie.parseMN){var _e=pe;if(j.readASCII(_e,0,5)=="Nikon")se.makerNote=w.decode(_e.slice(10).buffer)[0];else if(j.readASCII(_e,0,5)=="OLYMP"||j.readASCII(_e,0,9)=="OM SYSTEM"){var Ie=[8208,8224,8240,8256,8272],Le=[];w._readIFD(j,_e,_e[1]==77?16:_e[5]==85?12:8,Le,ne+1,ie);var Be=se.makerNote=Le.pop();for(ye=0;ye<Ie.length;ye++){var Me="t"+Ie[ye];Be[Me]!=null&&(w._readIFD(j,_e,Be[Me][0],Le,ne+1,ie),Be[Me]=Le.pop())}Be.t12288&&(w._readIFD(j,Be.t12288,0,Le,ne+1,ie),Be.t12288=Le.pop())}else j.readUshort(q,he)<300&&j.readUshort(q,he+4)<=12&&(Le=[],w._readIFD(j,q,he,Le,ne+1,ie),se.makerNote=Le[0])}}else if(g(ue,"unknown TIFF tag type: ",ce,"num:",de),le==0)return}return re.push(se),ie.debug&&g("   ".repeat(ne),"<<<---------------"),te},w._writeIFD=function(j,q,te,re,ne){var ie=Object.keys(ne),ae=ie.length;ne.exifIFD&&ae--,ne.gpsiIFD&&ae--,j.writeUshort(te,re,ae);for(var se=(re+=2)+12*ae+4,le=0;le<ie.length;le++){var ue=ie[le];if(ue!="t34665"&&ue!="t34853"){ue=="exifIFD"&&(ue="t34665"),ue=="gpsiIFD"&&(ue="t34853");var ce=parseInt(ue.slice(1)),de=q.main[ce];if(de==null&&(de=q.rest[ce]),de==null||de==0)throw new Error("unknown type of tag: "+ce);var he=ne[ue];ce==34665&&(he=[se],se=w._writeIFD(j,q,te,se,ne.exifIFD)[1]),ce==34853&&(he=[se],se=w._writeIFD(j,w._types.gps,te,se,ne.gpsiIFD)[1]),de==2&&(he=he[0]+"\0");var pe=he.length;j.writeUshort(te,re,ce),re+=2,j.writeUshort(te,re,de),re+=2,j.writeUint(te,re,pe);var me=[-1,1,1,2,4,8,0,1,0,4,8,0,8][de]*pe,ge=re+=4;if(me>4&&(j.writeUint(te,re,se),ge=se),de==1||de==7)for(var be=0;be<pe;be++)te[ge+be]=he[be];else if(de==2)j.writeASCII(te,ge,he);else if(de==3)for(be=0;be<pe;be++)j.writeUshort(te,ge+2*be,he[be]);else if(de==4)for(be=0;be<pe;be++)j.writeUint(te,ge+4*be,he[be]);else if(de==5||de==10){var ke=de==5?j.writeUint:j.writeInt;for(be=0;be<pe;be++){var ye=he[be],Se=ye[0],we=ye[1];if(Se==null)throw"e";ke(te,ge+8*be,Se),ke(te,ge+8*be+4,we)}}else if(de==9)for(be=0;be<pe;be++)j.writeInt(te,ge+4*be,he[be]);else{if(de!=12)throw de;for(be=0;be<pe;be++)j.writeDouble(te,ge+8*be,he[be])}me>4&&(se+=me+=1&me),re+=4}}return[re,se]},w.toRGBA8=function(j,q){function te(tr){return tr<.0031308?12.92*tr:1.055*Math.pow(tr,1/2.4)-.055}var re=j.width,ne=j.height,ie=re*ne,ae=j.data,se=new Uint8Array(4*ie),le=j.t262?j.t262[0]:2,ue=j.t258?Math.min(32,j.t258[0]):1;j.t262==null&&ue==1&&(le=0);var ce=j.t277?j.t277[0]:j.t258?j.t258.length:[1,1,3,1,1,4,3][le],de=j.t339?j.t339[0]:null;if(le==1&&ue==32&&de!=3)throw"e";var he=Math.ceil(ce*ue*re/8);if(le==0){q=1/256;for(var pe=0;pe<ne;pe++){var me=pe*he,ge=pe*re;if(ue==1)for(var be=0;be<re;be++){var ke=ge+be<<2,ye=ae[me+(be>>3)]>>7-(7&be)&1;se[ke]=se[ke+1]=se[ke+2]=255*(1-ye),se[ke+3]=255}if(ue==4)for(be=0;be<re;be++)ke=ge+be<<2,ye=ae[me+(be>>1)]>>4-4*(1&be)&15,se[ke]=se[ke+1]=se[ke+2]=17*(15-ye),se[ke+3]=255;if(ue==8)for(be=0;be<re;be++)ke=ge+be<<2,ye=ae[me+be],se[ke]=se[ke+1]=se[ke+2]=255-ye,se[ke+3]=255;if(ue==16)for(be=0;be<re;be++)ke=ge+be<<2,ye=ae[(we=me+2*be)+1]<<8|ae[we],se[ke]=se[ke+1]=se[ke+2]=Math.min(255,255-~~(ye*q)),se[ke+3]=255}}else if(le==1){q==null&&(q=1/256);var Se=3&ae.length?null:new Float32Array(ae.buffer);for(pe=0;pe<ne;pe++){if(me=pe*he,ge=pe*re,ue==1)for(be=0;be<re;be++)ke=ge+be<<2,ye=ae[me+(be>>3)]>>7-(7&be)&1,se[ke]=se[ke+1]=se[ke+2]=255*ye,se[ke+3]=255;if(ue==2)for(be=0;be<re;be++)ke=ge+be<<2,ye=ae[me+(be>>2)]>>6-2*(3&be)&3,se[ke]=se[ke+1]=se[ke+2]=85*ye,se[ke+3]=255;if(ue==8)for(be=0;be<re;be++)ke=ge+be<<2,ye=ae[me+be*ce],se[ke]=se[ke+1]=se[ke+2]=ye,se[ke+3]=255;if(ue==16)for(be=0;be<re;be++)ke=ge+be<<2,ye=ae[(we=me+2*be)+1]<<8|ae[we],se[ke]=se[ke+1]=se[ke+2]=Math.min(255,~~(ye*q)),se[ke+3]=255;if(ue==32)for(be=0;be<re;be++){var we;ke=ge+be<<2,ye=Se[we=(me>>>2)+be],se[ke]=se[ke+1]=se[ke+2]=~~(.5+255*ye),se[ke+3]=255}}}else if(le==2)if(ue==8){if(ce==1)for(be=0;be<ie;be++)se[4*be]=se[4*be+1]=se[4*be+2]=ae[be],se[4*be+3]=255;if(ce==3)for(be=0;be<ie;be++){var Te=3*be;se[ke=be<<2]=ae[Te],se[ke+1]=ae[Te+1],se[ke+2]=ae[Te+2],se[ke+3]=255}if(ce>=4)for(be=0;be<ie;be++)Te=be*ce,se[ke=be<<2]=ae[Te],se[ke+1]=ae[Te+1],se[ke+2]=ae[Te+2],se[ke+3]=ae[Te+3]}else if(ue==16){if(ce==4)for(be=0;be<ie;be++)Te=8*be+1,se[ke=be<<2]=ae[Te],se[ke+1]=ae[Te+2],se[ke+2]=ae[Te+4],se[ke+3]=ae[Te+6];if(ce==3)for(be=0;be<ie;be++)Te=6*be+1,se[ke=be<<2]=ae[Te],se[ke+1]=ae[Te+2],se[ke+2]=ae[Te+4],se[ke+3]=255}else{if(ue!=32)throw ue;var _e=new Float32Array(ae.buffer),Ie=0;for(be=0;be<_e.length;be++)Ie=Math.min(Ie,_e[be]);if(Ie<0)for(be=0;be<ae.length;be+=4){var Le=ae[be];ae[be]=ae[be+3],ae[be+3]=Le,Le=ae[be+1],ae[be+1]=ae[be+2],ae[be+2]=Le}var Be=[];for(be=0;be<65536;be++)Be.push(te(be/65535));for(be=0;be<_e.length;be++){var Me=Math.max(0,Math.min(1,_e[be]));_e[be]=Be[~~(.5+65535*Me)]}if(ce==3)for(be=0;be<ie;be++)Te=3*be,se[ke=be<<2]=~~(.5+255*_e[Te]),se[ke+1]=~~(.5+255*_e[Te+1]),se[ke+2]=~~(.5+255*_e[Te+2]),se[ke+3]=255;else{if(ce!=4)throw ce;for(be=0;be<ie;be++)Te=4*be,se[ke=be<<2]=~~(.5+255*_e[Te]),se[ke+1]=~~(.5+255*_e[Te+1]),se[ke+2]=~~(.5+255*_e[Te+2]),se[ke+3]=~~(.5+255*_e[Te+3])}}else if(le==3){var Ne=j.t320,Ye=1<<ue,Ue=ue==8&&ce>1&&j.t338&&j.t338[0]!=0;for(pe=0;pe<ne;pe++)for(var $e=0;$e<re;$e++){ke=(be=pe*re+$e)<<2;var Ke=0,Pe=pe*he;if(ue==1)Ke=ae[Pe+($e>>>3)]>>>7-(7&$e)&1;else if(ue==2)Ke=ae[Pe+($e>>>2)]>>>6-2*(3&$e)&3;else if(ue==4)Ke=ae[Pe+($e>>>1)]>>>4-4*(1&$e)&15;else{if(ue!=8)throw ue;Ke=ae[Pe+$e*ce]}se[ke]=Ne[Ke]>>8,se[ke+1]=Ne[Ye+Ke]>>8,se[ke+2]=Ne[Ye+Ye+Ke]>>8,se[ke+3]=Ue?ae[Pe+$e*ce+1]:255}}else if(le==5){var He=ce>4?1:0;for(be=0;be<ie;be++){ke=be<<2;var it=be*ce;if(window.UDOC){var Je=ae[it],Ge=ae[it+1],Qe=ae[it+2],ut=ae[it+3],dt=UDOC.C.cmykToRgb([Je*(1/255),Ge*(1/255),Qe*(1/255),ut*(1/255)]);se[ke]=~~(.5+255*dt[0]),se[ke+1]=~~(.5+255*dt[1]),se[ke+2]=~~(.5+255*dt[2])}else Je=255-ae[it],Ge=255-ae[it+1],Qe=255-ae[it+2],ut=(255-ae[it+3])*(1/255),se[ke]=~~(Je*ut+.5),se[ke+1]=~~(Ge*ut+.5),se[ke+2]=~~(Qe*ut+.5);se[ke+3]=255*(1-He)+ae[it+4]*He}}else if(le==6&&j.t278){var kt=j.t278[0];for(pe=0;pe<ne;pe+=kt){be=pe*re;for(var Xe=kt*re,xe=0;xe<Xe;xe++){ke=4*(be+xe),Qe=ae[(it=3*be+4*(xe>>>1))+(1&xe)];var qe=ae[it+2]-128,ze=ae[it+3]-128,Oe=Qe+((ze>>2)+(ze>>3)+(ze>>5)),Fe=Qe-((qe>>2)+(qe>>4)+(qe>>5))-((ze>>1)+(ze>>3)+(ze>>4)+(ze>>5)),Ze=Qe+(qe+(qe>>1)+(qe>>2)+(qe>>6));se[ke]=Math.max(0,Math.min(255,Oe)),se[ke+1]=Math.max(0,Math.min(255,Fe)),se[ke+2]=Math.max(0,Math.min(255,Ze)),se[ke+3]=255}}}else if(le==32845)for(pe=0;pe<ne;pe++)for($e=0;$e<re;$e++){ke=4*(pe*re+$e);var et=ae[(it=6*(pe*re+$e))+1]<<8|ae[it],ve=(et=Math.pow(2,(et+.5)/256-64),(ae[it+3]+.5)/410),Ae=(ae[it+5]+.5)/410,De=9*ve/(6*ve-16*Ae+12),je=4*Ae/(6*ve-16*Ae+12),St=De*et/je,Bt=(1-De-je)*et/je;Oe=2.69*St-1.276*(Qe=et)-.414*Bt,Fe=-1.022*St+1.978*Qe+.044*Bt,Ze=.061*St-.224*Qe+1.163*Bt,se[ke]=255*te(Math.min(Oe,1)),se[ke+1]=255*te(Math.min(Fe,1)),se[ke+2]=255*te(Math.min(Ze,1)),se[ke+3]=255}else g("Unknown Photometric interpretation: "+le);return se},w.replaceIMG=function(j){j==null&&(j=document.getElementsByTagName("img"));for(var q=["tif","tiff","dng","cr2","nef"],te=0;te<j.length;te++){var re=j[te],ne=re.getAttribute("src");if(ne!=null){var ie=ne.split(".").pop().toLowerCase();if(q.indexOf(ie)!=-1){var ae=new XMLHttpRequest;w._xhrs.push(ae),w._imgs.push(re),ae.open("GET",ne),ae.responseType="arraybuffer",ae.onload=w._imgLoaded,ae.send()}}}},w._xhrs=[],w._imgs=[],w._imgLoaded=function(j){var q=w._xhrs.indexOf(j.target),te=w._imgs[q];w._xhrs.splice(q,1),w._imgs.splice(q,1),te.setAttribute("src",w.bufferToURI(j.target.response))},w.bufferToURI=function(j){var q=w.decode(j),te=q,re=0,ne=te[0];q[0].subIFD&&(te=te.concat(q[0].subIFD));for(var ie=0;ie<te.length;ie++){var ae=te[ie];if(!(ae.t258==null||ae.t258.length<3)){var se=ae.t256*ae.t257;se>re&&(re=se,ne=ae)}}w.decodeImage(j,ne,q);var le=w.toRGBA8(ne),ue=ne.width,ce=ne.height,de=document.createElement("canvas");de.width=ue,de.height=ce;var he=de.getContext("2d"),pe=new ImageData(new Uint8ClampedArray(le.buffer),ue,ce);return he.putImageData(pe,0,0),de.toDataURL()},w._binBE={nextZero:function(j,q){for(;j[q]!=0;)q++;return q},readUshort:function(j,q){return j[q]<<8|j[q+1]},readShort:function(j,q){var te=w._binBE.ui8;return te[0]=j[q+1],te[1]=j[q+0],w._binBE.i16[0]},readInt:function(j,q){var te=w._binBE.ui8;return te[0]=j[q+3],te[1]=j[q+2],te[2]=j[q+1],te[3]=j[q+0],w._binBE.i32[0]},readUint:function(j,q){var te=w._binBE.ui8;return te[0]=j[q+3],te[1]=j[q+2],te[2]=j[q+1],te[3]=j[q+0],w._binBE.ui32[0]},readASCII:function(j,q,te){for(var re="",ne=0;ne<te;ne++)re+=String.fromCharCode(j[q+ne]);return re},readFloat:function(j,q){for(var te=w._binBE.ui8,re=0;re<4;re++)te[re]=j[q+3-re];return w._binBE.fl32[0]},readDouble:function(j,q){for(var te=w._binBE.ui8,re=0;re<8;re++)te[re]=j[q+7-re];return w._binBE.fl64[0]},writeUshort:function(j,q,te){j[q]=te>>8&255,j[q+1]=255&te},writeInt:function(j,q,te){var re=w._binBE.ui8;w._binBE.i32[0]=te,j[q+3]=re[0],j[q+2]=re[1],j[q+1]=re[2],j[q+0]=re[3]},writeUint:function(j,q,te){j[q]=te>>24&255,j[q+1]=te>>16&255,j[q+2]=te>>8&255,j[q+3]=255&te},writeASCII:function(j,q,te){for(var re=0;re<te.length;re++)j[q+re]=te.charCodeAt(re)},writeDouble:function(j,q,te){w._binBE.fl64[0]=te;for(var re=0;re<8;re++)j[q+re]=w._binBE.ui8[7-re]}},w._binBE.ui8=new Uint8Array(8),w._binBE.i16=new Int16Array(w._binBE.ui8.buffer),w._binBE.i32=new Int32Array(w._binBE.ui8.buffer),w._binBE.ui32=new Uint32Array(w._binBE.ui8.buffer),w._binBE.fl32=new Float32Array(w._binBE.ui8.buffer),w._binBE.fl64=new Float64Array(w._binBE.ui8.buffer),w._binLE={nextZero:w._binBE.nextZero,readUshort:function(j,q){return j[q+1]<<8|j[q]},readShort:function(j,q){var te=w._binBE.ui8;return te[0]=j[q+0],te[1]=j[q+1],w._binBE.i16[0]},readInt:function(j,q){var te=w._binBE.ui8;return te[0]=j[q+0],te[1]=j[q+1],te[2]=j[q+2],te[3]=j[q+3],w._binBE.i32[0]},readUint:function(j,q){var te=w._binBE.ui8;return te[0]=j[q+0],te[1]=j[q+1],te[2]=j[q+2],te[3]=j[q+3],w._binBE.ui32[0]},readASCII:w._binBE.readASCII,readFloat:function(j,q){for(var te=w._binBE.ui8,re=0;re<4;re++)te[re]=j[q+re];return w._binBE.fl32[0]},readDouble:function(j,q){for(var te=w._binBE.ui8,re=0;re<8;re++)te[re]=j[q+re];return w._binBE.fl64[0]},writeUshort:function(j,q,te){j[q]=255&te,j[q+1]=te>>8&255},writeInt:function(j,q,te){var re=w._binBE.ui8;w._binBE.i32[0]=te,j[q+0]=re[0],j[q+1]=re[1],j[q+2]=re[2],j[q+3]=re[3]},writeUint:function(j,q,te){j[q]=te>>>0&255,j[q+1]=te>>>8&255,j[q+2]=te>>>16&255,j[q+3]=te>>>24&255},writeASCII:w._binBE.writeASCII},w._copyTile=function(j,q,te,re,ne,ie,ae,se){for(var le=Math.min(q,ne-ae),ue=Math.min(te,ie-se),ce=0;ce<ue;ce++)for(var de=(se+ce)*ne+ae,he=ce*q,pe=0;pe<le;pe++)re[de+pe]=j[he+pe]},w.LosslessJpegDecode=function(){var j,q;function te(){return j[q++]}function re(){return j[q++]<<8|j[q++]}function ne(me){for(var ge=te(),be=[0,0,0,255],ke=[],ye=0;ye<16;ye++)ke[ye]=te();for(ye=0;ye<16;ye++)for(var Se=0;Se<ke[ye];Se++)be[ie(be,0,ye+1,1)+3]=te();var we=new Uint8Array(256);for(me[ge]=[new Uint8Array(be),we],ye=0;ye<256;ye++){for(var Te=8,_e=ye,Ie=0;be[Ie+3]==255&&Te!=0;)Ie=be[Ie+(_e>>--Te&1)];we[ye]=Ie}}function ie(me,ge,be,ke){if(me[ge+3]!=255)return 0;if(be==0)return ge;for(var ye=0;ye<2;ye++){me[ge+ye]==0&&(me[ge+ye]=me.length,me.push(0,0,ke,255));var Se=ie(me,me[ge+ye],be-1,ke+1);if(Se!=0)return Se}return 0}function ae(me){for(var ge=me.b,be=me.f;ge<25&&me.a<me.d;){var ke=me.data[me.a++];ke!=255||me.c||me.a++,be=be<<8|ke,ge+=8}if(ge<0)throw"e";me.b=ge,me.f=be}function se(me,ge){return ge.b<me&&ae(ge),ge.f>>(ge.b-=me)&65535>>16-me}function le(me,ge){var be=me[0],ke=0,ye=255;ge.b<16&&ae(ge);var Se=ge.f>>ge.b-8&255;for(ye=be[(ke=me[1][Se])+3],ge.b-=be[ke+2];ye==255;)ye=be[(ke=be[ke+(ge.f>>--ge.b&1)])+3];return ye}function ue(me,ge){return me<32768>>16-ge&&(me+=1-(1<<ge)),me}function ce(me,ge){var be=le(me,ge);return be==0?0:be==16?-32768:ue(se(be,ge),be)}function de(me,ge,be,ke,ye,Se){for(var we=0,Te=0;Te<Se;Te++){for(var _e=Te*ge,Ie=0;Ie<ge;Ie+=ye){we++;for(var Le=0;Le<ye;Le++)me[_e+Ie+Le]=ce(ke[Le],be)}if(be.e!=0&&we%be.e==0&&Te!=0){for(var Be=be.a,Me=be.data;Me[Be]!=255||!(208<=Me[Be+1]&&Me[Be+1]<=215);)Be--;be.a=Be+2,be.f=0,be.b=0}}}function he(me,ge){return ue(se(me,ge),me)}function pe(me,ge,be,ke,ye,Se,we,Te){for(var _e=be*we,Ie=ye;Ie<Se;Ie++)me[Ie]+=1<<Te-1;for(var Le=we;Le<_e;Le+=we)for(Ie=ye;Ie<Se;Ie++)me[Le+Ie]+=me[Le+Ie-we];for(var Be=1;Be<ke;Be++){var Me=Be*_e;for(Ie=ye;Ie<Se;Ie++)me[Me+Ie]+=me[Me+Ie-_e];for(Le=we;Le<_e;Le+=we)for(Ie=ye;Ie<Se;Ie++){var Ne=Me+Le+Ie,Ye=Ne-_e,Ue=me[Ne-we],$e=0;if(ge==0)$e=0;else if(ge==1)$e=Ue;else if(ge==2)$e=me[Ye];else if(ge==3)$e=me[Ye-we];else if(ge==4)$e=Ue+(me[Ye]-me[Ye-we]);else if(ge==5)$e=Ue+(me[Ye]-me[Ye-we]>>>1);else if(ge==6)$e=me[Ye]+(Ue-me[Ye-we]>>>1);else{if(ge!=7)throw ge;$e=Ue+me[Ye]>>>1}me[Ne]+=$e}}}return function(me){if(j=me,q=0,re()!=65496)throw"e";for(var ge=[],be=0,ke=0,ye=0,Se=[],we=[],Te=[],_e=0,Ie=0,Le=0;;){var Be=re();if(Be!=65535){var Me=re();if(Be==65475){ke=te(),Ie=re(),Le=re(),_e=te();for(var Ne=0;Ne<_e;Ne++){var Ye=te(),Ue=te();if(te()!=0)throw"e";ge[Ye]=[Ne,Ue>>4,15&Ue]}}else if(Be==65476)for(var $e=q+Me-2;q<$e;)ne(we);else{if(Be==65498){for(q++,Ne=0;Ne<_e;Ne++){var Ke=ge[te()];Te[Ke[0]]=we[te()>>>4],Se[Ke[0]]=Ke.slice(1)}be=te(),q+=2;break}Be==65501?ye=re():q+=Me-2}}else q--}var Pe=new(ke>8?Uint16Array:Uint8Array)(Ie*Le*_e),He={b:0,f:0,c:be==8,a:q,data:j,d:j.length,e:ye};if(He.c)(function(St,Bt,tr,ir,Yt){for(var ar=j.length-q,rr=0;rr<ar;rr+=4){var gr=j[q+rr];j[q+rr]=j[q+rr+3],j[q+rr+3]=gr,gr=j[q+rr+1],j[q+rr+1]=j[q+rr+2],j[q+rr+2]=gr}for(var dr=0;dr<Yt;dr++)for(var hr=32768,kr=32768,fr=0;fr<Bt;fr+=2){var ot=le(ir,tr),nr=le(ir,tr);ot!=0&&(hr+=he(ot,tr)),nr!=0&&(kr+=he(nr,tr)),St[dr*Bt+fr]=65535&hr,St[dr*Bt+fr+1]=65535&kr}})(Pe,Le*_e,He,Te[0],Ie);else{var it=[],Je=0,Ge=0;for(Ne=0;Ne<_e;Ne++){var Qe=Se[Ne];(Ze=Qe[0])>Je&&(Je=Ze),(Fe=Qe[1])>Ge&&(Ge=Fe),it.push(Ze*Fe)}if(Je!=1||Ge!=1){if(_e!=3||it[1]!=1||it[2]!=1||Je!=2||Ge!=1&&Ge!=2)throw"e";var ut=[],dt=0;for(Ne=0;Ne<_e;Ne++){for(var kt=0;kt<it[Ne];kt++)ut.push(Te[Ne]);dt+=it[Ne]}var Xe=Le/Je,xe=Ie/Ge,qe=Xe*xe;de(Pe,Xe*dt,He,ut,dt,xe),pe(Pe,be,Xe,xe,dt-2,dt,dt,ke);var ze=new Uint16Array(qe*it[0]);if(Je==2&&Ge==2){for(Ne=0;Ne<qe;Ne++)ze[4*Ne]=Pe[6*Ne],ze[4*Ne+1]=Pe[6*Ne+1],ze[4*Ne+2]=Pe[6*Ne+2],ze[4*Ne+3]=Pe[6*Ne+3];for(pe(ze,be,4*Xe,xe,0,1,1,ke),Ne=0;Ne<qe;Ne++)Pe[6*Ne]=ze[4*Ne],Pe[6*Ne+1]=ze[4*Ne+1],Pe[6*Ne+2]=ze[4*Ne+2],Pe[6*Ne+3]=ze[4*Ne+3]}if(Je==2&&Ge==1){for(Ne=0;Ne<qe;Ne++)ze[2*Ne]=Pe[4*Ne],ze[2*Ne+1]=Pe[4*Ne+1];for(pe(ze,be,2*Xe,xe,0,1,1,ke),Ne=0;Ne<qe;Ne++)Pe[4*Ne]=ze[2*Ne],Pe[4*Ne+1]=ze[2*Ne+1]}for(var Oe=Pe.slice(0),Fe=0;Fe<Ie;Fe++)if(Ge==2)for(var Ze=0;Ze<Le;Ze++){var et=((Fe>>>1)*Xe+(Ze>>>1))*dt,ve=2*(1&Fe)+(1&Ze);Pe[Ae=(Fe*Le+Ze)*_e]=Oe[et+ve],Pe[Ae+1]=Oe[et+4],Pe[Ae+2]=Oe[et+5]}else for(Ze=0;Ze<Le;Ze++){var Ae;et=(Fe*Xe+(Ze>>>1))*dt,ve=1&Ze,Pe[Ae=(Fe*Le+Ze)*_e]=Oe[et+ve],Pe[Ae+1]=Oe[et+2],Pe[Ae+2]=Oe[et+3]}}else if(de(Pe,Le*_e,He,Te,_e,Ie),ye==0)pe(Pe,be,Le,Ie,0,_e,_e,ke);else{var De=Math.floor(ye/Le);for(Fe=0;Fe<Ie;Fe+=De){var je=Pe.slice(Fe*Le*_e,(Fe+De)*Le*_e);pe(je,be,Le,De,0,_e,_e,ke),Pe.set(je,Fe*Le*_e)}}}return Pe}}(),function(){var j=2,q=4,te=5,re=6,ne=7,ie=12,ae=13,se=14,le=15,ue=17;function ce(Se){var we={c:new Int8Array(2<<Se.u)};return function(Te,_e,Ie){var Le=[_e,3*_e+18,5*_e+67,7*_e+276,Ie];Te.o=_e,Te.w=(Le[4]+2*_e)/(2*_e+1)+1|0,Te.v=Math.ceil(Math.log2(Te.w)),Te.t=9,function(Be,Me){for(var Ne=-Me[4],Ye=0;Ne<=Me[4];Ye++,Ne++)Be[Ye]=Ne<=-Me[3]?-4:Ne<=-Me[2]?-3:Ne<=-Me[1]?-2:Ne<-Me[0]?-1:Ne<=Me[0]?0:Ne<Me[1]?1:Ne<Me[2]?2:Ne<Me[3]?3:4}(Te.c,Le)}(we,0,Se.g),we}function de(Se){for(var we=[[],[],[]],Te=Math.max(2,Se.w+32>>>6),_e=0;_e<3;_e++)for(var Ie=0;Ie<41;Ie++)we[_e][Ie]=[Te,1];return we}function he(Se,we){var Te=0,_e=8-Se.a;if(Se.j,Se.a,we){if(we>=_e)do Te<<=_e,we-=_e,Te|=Se[Se.j]&(1<<_e)-1,Se.j++,_e=8;while(we>=8);we&&(Te<<=we,_e-=we,Te|=Se[Se.j]>>>_e&(1<<we)-1),Se.a=8-_e}return Te}function pe(Se,we,Te,_e,Ie,Le,Be,Me){Me==null&&(Me=0);var Ne,Ye,Ue,$e,Ke,Pe,He=Le+1,it=He%2,Je=0,Ge=_e[Ie],Qe=_e[Ie-1],ut=_e[Ie-2][He],dt=Qe[He-1],kt=Qe[He],Xe=Qe[He+1],xe=Ge[He-1],qe=Ge[He+1],ze=Math.abs;if(it&&(Ue=ze(Xe-kt),$e=ze(ut-kt),Ke=ze(dt-kt)),it){if(Pe=(Pe=Ue>Ke&&$e<Ue?ut+dt:Ue<Ke&&$e<Ke?ut+Xe:Xe+dt)+2*kt>>>2,Me)return void(Ge[He]=Pe);Ne=we.t*we.c[Se.g+kt-ut]+we.c[Se.g+dt-kt]}else Pe=kt>dt&&kt>Xe||kt<dt&&kt<Xe?qe+xe+2*kt>>>2:xe+qe>>>1,Ne=we.t*we.c[Se.g+kt-dt]+we.c[Se.g+dt-xe];Ye=ze(Ne);var Oe=function(Ze){for(var et=-1,ve=0;!ve;et++)ve=Ze[Ze.j]>>>7-Ze.a&1,Ze.a++,Ze.a&=7,Ze.a||Ze.j++;return et}(Te);if(Oe<Se.n-we.v-1){var Fe=function(Ze,et){var ve=0;if(et<Ze)for(;ve<=14&&et<<++ve<Ze;);return ve}(Be[Ye][0],Be[Ye][1]);Je=he(Te,Fe)+(Oe<<Fe)}else Je=he(Te,we.v)+1;Je=1&Je?-1-(Je>>>1):Je>>>1,Be[Ye][0]+=ze(Je),Be[Ye][1]==Se.f&&(Be[Ye][0]>>>=1,Be[Ye][1]>>>=1),Be[Ye][1]++,Pe=Ne<0?Pe-Je:Pe+Je,Se.i&&(Pe<0?Pe+=we.w:Pe>Se.g&&(Pe-=we.w)),Ge[He]=Pe>=0?Math.min(Pe,Se.g):0}function me(Se,we,Te){for(var _e=Se[0].length,Ie=we;Ie<=Te;Ie++)Se[Ie][0]=Se[Ie-1][1],Se[Ie][_e-1]=Se[Ie-1][_e-2]}function ge(Se){me(Se,ne,ie),me(Se,j,q),me(Se,le,ue)}function be(Se,we,Te,_e,Ie,Le,Be,Me,Ne,Ye,Ue,$e,Ke){for(var Pe=0,He=1,it=Ie<ae&&Ie>q;He<Se.m;)Pe<Se.m&&(pe(Se,we,Te,_e,Ie,Pe,Be[Ne],Se.h&&(it&&Ye||!it&&(Ue||(Pe&$e)==Ke))),pe(Se,we,Te,_e,Le,Pe,Be[Ne],Se.h&&(!it&&Ye||it&&(Ue||(Pe&$e)==Ke))),Pe+=2),Pe>8&&(pe(Se,we,Te,_e,Ie,He,Me[Ne]),pe(Se,we,Te,_e,Le,He,Me[Ne]),He+=2);ge(_e)}function ke(Se,we,Te,_e,Ie,Le){be(Se,we,Te,_e,j,ne,Ie,Le,0,0,1,0,8),be(Se,we,Te,_e,8,le,Ie,Le,1,0,1,0,8),be(Se,we,Te,_e,3,9,Ie,Le,2,1,0,3,0),be(Se,we,Te,_e,10,16,Ie,Le,0,0,0,3,2),be(Se,we,Te,_e,q,11,Ie,Le,1,0,0,3,2),be(Se,we,Te,_e,ie,ue,Ie,Le,2,1,0,3,0)}function ye(Se,we,Te,_e,Ie,Le){var Be=Le.length,Me=Se.l;Ie+1==Se.s&&(Me=Se.e-Ie*Se.l);for(var Ne=6*Se.e*_e+Ie*Se.l,Ye=0;Ye<6;Ye++){for(var Ue=0;Ue<Me;Ue++){var $e,Ke=Le[Ye%Be][Ue%Be];$e=Ke==0?j+(Ye>>>1):Ke==2?le+(Ye>>>1):ne+Ye;var Pe=Se.h?(2*Ue/3&2147483646|Ue%3&1)+(Ue%3>>>1):Ue>>>1;we[Ne+Ue]=Te[$e][Pe+1]}Ne+=Se.e}}w._decompressRAF=function(Se,we){var Te=function(He){var it=w._binBE.readUshort,Je={b:it(He,0),i:He[2],C:He[3],u:He[4],q:it(He,5),k:it(He,7),e:it(He,9),l:it(He,11),s:He[13],d:it(He,14)};if(Je.b!=18771||Je.i>1||Je.q<6||Je.q%6||Je.e<768||Je.e%24||Je.l!=768||Je.k<Je.l||Je.k%Je.l||Je.k-Je.e>=Je.l||Je.s>16||Je.s!=Je.k/Je.l||Je.s!=Math.ceil(Je.e/Je.l)||Je.d!=Je.q/6||Je.u!=12&&Je.u!=14&&Je.u!=16||Je.C!=16&&Je.C!=0)throw"Invalid data";if(Je.i==0)throw"Not implemented. We need this file!";return Je.h=Je.C==16,Je.m=0|(Je.h?2*Je.l/3:Je.l>>>1),Je.A=Je.m+2,Je.f=64,Je.g=(1<<Je.u)-1,Je.n=4*Je.u,Je}(Se),_e=function(He,it){var Je=new Array(it.s),Ge=4*it.s,Qe=16+Ge;12&Ge&&(Qe+=16-(12&Ge));for(var ut=0,dt=16;ut<it.s;dt+=4){var kt=w._binBE.readUint(He,dt);Je[ut]=He.slice(Qe,Qe+kt),Je[ut].j=0,Je[ut].a=0,Qe+=kt,ut++}if(Qe!=He.length)throw"Invalid data";return Je}(Se,Te),Ie=ce(Te),Le=new Int16Array(Te.e*Te.q);we==null&&(we=Te.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var Be=[[0,3],[1,q],[te,11],[re,ie],[ae,16],[se,ue]],Me=[],Ne=0;Ne<18;Ne++)Me[Ne]=new Uint16Array(Te.A);for(var Ye=0;Ye<Te.s;Ye++){var Ue=de(Ie),$e=de(Ie);for(Ne=0;Ne<18;Ne++)for(var Ke=0;Ke<Te.A;Ke++)Me[Ne][Ke]=0;for(var Pe=0;Pe<Te.d;Pe++){for(ke(Te,Ie,_e[Ye],Me,Ue,$e),Ne=0;Ne<6;Ne++)for(Ke=0;Ke<Te.A;Ke++)Me[Be[Ne][0]][Ke]=Me[Be[Ne][1]][Ke];for(ye(Te,Le,Me,Pe,Ye,we),Ne=j;Ne<18;Ne++)if([te,re,ae,se].indexOf(Ne)==-1)for(Ke=0;Ke<Te.A;Ke++)Me[Ne][Ke]=0;ge(Me)}}return Le}}()}(m,typeof commonjsRequire=="function"?requirePako():self.pako)})()})(UTIF);var UTIFExports=UTIF.exports,utif=getDefaultExportFromCjs(UTIFExports),util$1,objectUtil;function getDimensionValue(d){return typeof d=="number"?d:d instanceof Uint8Array?d[0]:typeof d[0]=="string"?parseInt(d[0]):d[0]}function tiff(){return{mime:"image/tiff",encode:d=>{const m=utif.encodeImage(d.data,d.width,d.height);return Buffer.from(m)},decode:d=>{const m=utif.decode(d),g=m[0];if(!g)throw new Error("No page found in TIFF");if(!g.t256)throw new Error("No image width found in TIFF");if(!g.t257)throw new Error("No image height found in TIFF");m.forEach(D=>{utif.decodeImage(d,D)});const w=utif.toRGBA8(g);return{data:Buffer.from(w),width:getDimensionValue(g.t256),height:getDimensionValue(g.t257)}}}}(function(d){d.assertEqual=m=>m,d.assertIs=function(m){},d.assertNever=function(m){throw new Error},d.arrayToEnum=m=>{const g={};for(const w of m)g[w]=w;return g},d.getValidEnumValues=m=>{const g=d.objectKeys(m).filter(D=>typeof m[m[D]]!="number"),w={};for(const D of g)w[D]=m[D];return d.objectValues(w)},d.objectValues=m=>d.objectKeys(m).map(function(g){return m[g]}),d.objectKeys=typeof Object.keys=="function"?m=>Object.keys(m):m=>{const g=[];for(const w in m)Object.prototype.hasOwnProperty.call(m,w)&&g.push(w);return g},d.find=(m,g)=>{for(const w of m)if(g(w))return w},d.isInteger=typeof Number.isInteger=="function"?m=>Number.isInteger(m):m=>typeof m=="number"&&isFinite(m)&&Math.floor(m)===m,d.joinValues=function(m,g=" | "){return m.map(w=>typeof w=="string"?`'${w}'`:w).join(g)},d.jsonStringifyReplacer=(m,g)=>typeof g=="bigint"?g.toString():g})(util$1||(util$1={})),function(d){d.mergeShapes=(m,g)=>({...m,...g})}(objectUtil||(objectUtil={}));const ZodParsedType=util$1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=d=>{switch(typeof d){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(d)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(d)?ZodParsedType.array:d===null?ZodParsedType.null:d.then&&typeof d.then=="function"&&d.catch&&typeof d.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&d instanceof Map?ZodParsedType.map:typeof Set<"u"&&d instanceof Set?ZodParsedType.set:typeof Date<"u"&&d instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=d=>JSON.stringify(d,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(m){super(),this.issues=[],this.addIssue=w=>{this.issues=[...this.issues,w]},this.addIssues=(w=[])=>{this.issues=[...this.issues,...w]};const g=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,g):this.__proto__=g,this.name="ZodError",this.issues=m}get errors(){return this.issues}format(m){const g=m||function(j){return j.message},w={_errors:[]},D=j=>{for(const q of j.issues)if(q.code==="invalid_union")q.unionErrors.map(D);else if(q.code==="invalid_return_type")D(q.returnTypeError);else if(q.code==="invalid_arguments")D(q.argumentsError);else if(q.path.length===0)w._errors.push(g(q));else{let te=w,re=0;for(;re<q.path.length;){const ne=q.path[re];re===q.path.length-1?(te[ne]=te[ne]||{_errors:[]},te[ne]._errors.push(g(q))):te[ne]=te[ne]||{_errors:[]},te=te[ne],re++}}};return D(this),w}static assert(m){if(!(m instanceof ZodError))throw new Error(`Not a ZodError: ${m}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(m=g=>g.message){const g={},w=[];for(const D of this.issues)D.path.length>0?(g[D.path[0]]=g[D.path[0]]||[],g[D.path[0]].push(m(D))):w.push(m(D));return{formErrors:w,fieldErrors:g}}get formErrors(){return this.flatten()}}ZodError.create=d=>new ZodError(d);const errorMap=(d,m)=>{let g;switch(d.code){case ZodIssueCode.invalid_type:g=d.received===ZodParsedType.undefined?"Required":`Expected ${d.expected}, received ${d.received}`;break;case ZodIssueCode.invalid_literal:g=`Invalid literal value, expected ${JSON.stringify(d.expected,util$1.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:g=`Unrecognized key(s) in object: ${util$1.joinValues(d.keys,", ")}`;break;case ZodIssueCode.invalid_union:g="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:g=`Invalid discriminator value. Expected ${util$1.joinValues(d.options)}`;break;case ZodIssueCode.invalid_enum_value:g=`Invalid enum value. Expected ${util$1.joinValues(d.options)}, received '${d.received}'`;break;case ZodIssueCode.invalid_arguments:g="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:g="Invalid function return type";break;case ZodIssueCode.invalid_date:g="Invalid date";break;case ZodIssueCode.invalid_string:typeof d.validation=="object"?"includes"in d.validation?(g=`Invalid input: must include "${d.validation.includes}"`,typeof d.validation.position=="number"&&(g=`${g} at one or more positions greater than or equal to ${d.validation.position}`)):"startsWith"in d.validation?g=`Invalid input: must start with "${d.validation.startsWith}"`:"endsWith"in d.validation?g=`Invalid input: must end with "${d.validation.endsWith}"`:util$1.assertNever(d.validation):g=d.validation!=="regex"?`Invalid ${d.validation}`:"Invalid";break;case ZodIssueCode.too_small:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at least":"more than"} ${d.minimum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at least":"over"} ${d.minimum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${d.minimum}`:d.type==="date"?`Date must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(d.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at most":"less than"} ${d.maximum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at most":"under"} ${d.maximum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="bigint"?`BigInt must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="date"?`Date must be ${d.exact?"exactly":d.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(d.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:g="Invalid input";break;case ZodIssueCode.invalid_intersection_types:g="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:g=`Number must be a multiple of ${d.multipleOf}`;break;case ZodIssueCode.not_finite:g="Number must be finite";break;default:g=m.defaultError,util$1.assertNever(d)}return{message:g}};let overrideErrorMap=errorMap;function setErrorMap(d){overrideErrorMap=d}function getErrorMap(){return overrideErrorMap}const makeIssue=d=>{const{data:m,path:g,errorMaps:w,issueData:D}=d,j=[...g,...D.path||[]],q={...D,path:j};if(D.message!==void 0)return{...D,path:j,message:D.message};let te="";const re=w.filter(ne=>!!ne).slice().reverse();for(const ne of re)te=ne(q,{data:m,defaultError:te}).message;return{...D,path:j,message:te}},EMPTY_PATH=[];function addIssueToContext(d,m){const g=getErrorMap(),w=makeIssue({issueData:m,data:d.data,path:d.path,errorMaps:[d.common.contextualErrorMap,d.schemaErrorMap,g,g===errorMap?void 0:errorMap].filter(D=>!!D)});d.common.issues.push(w)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(m,g){const w=[];for(const D of g){if(D.status==="aborted")return INVALID;D.status==="dirty"&&m.dirty(),w.push(D.value)}return{status:m.value,value:w}}static async mergeObjectAsync(m,g){const w=[];for(const D of g){const j=await D.key,q=await D.value;w.push({key:j,value:q})}return ParseStatus.mergeObjectSync(m,w)}static mergeObjectSync(m,g){const w={};for(const D of g){const{key:j,value:q}=D;if(j.status==="aborted"||q.status==="aborted")return INVALID;j.status==="dirty"&&m.dirty(),q.status==="dirty"&&m.dirty(),j.value==="__proto__"||q.value===void 0&&!D.alwaysSet||(w[j.value]=q.value)}return{status:m.value,value:w}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=d=>({status:"dirty",value:d}),OK=d=>({status:"valid",value:d}),isAborted=d=>d.status==="aborted",isDirty=d=>d.status==="dirty",isValid=d=>d.status==="valid",isAsync=d=>typeof Promise<"u"&&d instanceof Promise;function __classPrivateFieldGet(d,m,g,w){if(typeof m=="function"?d!==m||!0:!m.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m.get(d)}function __classPrivateFieldSet(d,m,g,w,D){if(typeof m=="function"?d!==m||!0:!m.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m.set(d,g),g}var errorUtil,_ZodEnum_cache,_ZodNativeEnum_cache;typeof SuppressedError=="function"&&SuppressedError,function(d){d.errToObj=m=>typeof m=="string"?{message:m}:m||{},d.toString=m=>typeof m=="string"?m:m==null?void 0:m.message}(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(m,g,w,D){this._cachedPath=[],this.parent=m,this.data=g,this._path=w,this._key=D}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(d,m)=>{if(isValid(m))return{success:!0,data:m.value};if(!d.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const g=new ZodError(d.common.issues);return this._error=g,this._error}}};function processCreateParams(d){if(!d)return{};const{errorMap:m,invalid_type_error:g,required_error:w,description:D}=d;if(m&&(g||w))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return m?{errorMap:m,description:D}:{errorMap:(j,q)=>{var te,re;const{message:ne}=d;return j.code==="invalid_enum_value"?{message:ne??q.defaultError}:q.data===void 0?{message:(te=ne??w)!==null&&te!==void 0?te:q.defaultError}:j.code!=="invalid_type"?{message:q.defaultError}:{message:(re=ne??g)!==null&&re!==void 0?re:q.defaultError}},description:D}}class ZodType{constructor(m){this.spa=this.safeParseAsync,this._def=m,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(m){return getParsedType(m.data)}_getOrReturnCtx(m,g){return g||{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}_processInputParams(m){return{status:new ParseStatus,ctx:{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}}_parseSync(m){const g=this._parse(m);if(isAsync(g))throw new Error("Synchronous parse encountered promise.");return g}_parseAsync(m){const g=this._parse(m);return Promise.resolve(g)}parse(m,g){const w=this.safeParse(m,g);if(w.success)return w.data;throw w.error}safeParse(m,g){var w;const D={common:{issues:[],async:(w=g==null?void 0:g.async)!==null&&w!==void 0&&w,contextualErrorMap:g==null?void 0:g.errorMap},path:(g==null?void 0:g.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},j=this._parseSync({data:m,path:D.path,parent:D});return handleResult(D,j)}async parseAsync(m,g){const w=await this.safeParseAsync(m,g);if(w.success)return w.data;throw w.error}async safeParseAsync(m,g){const w={common:{issues:[],contextualErrorMap:g==null?void 0:g.errorMap,async:!0},path:(g==null?void 0:g.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},D=this._parse({data:m,path:w.path,parent:w}),j=await(isAsync(D)?D:Promise.resolve(D));return handleResult(w,j)}refine(m,g){const w=D=>typeof g=="string"||g===void 0?{message:g}:typeof g=="function"?g(D):g;return this._refinement((D,j)=>{const q=m(D),te=()=>j.addIssue({code:ZodIssueCode.custom,...w(D)});return typeof Promise<"u"&&q instanceof Promise?q.then(re=>!!re||(te(),!1)):!!q||(te(),!1)})}refinement(m,g){return this._refinement((w,D)=>!!m(w)||(D.addIssue(typeof g=="function"?g(w,D):g),!1))}_refinement(m){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:m}})}superRefine(m){return this._refinement(m)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(m){return ZodUnion.create([this,m],this._def)}and(m){return ZodIntersection.create(this,m,this._def)}transform(m){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:m}})}default(m){const g=typeof m=="function"?m:()=>m;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:g,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(m){const g=typeof m=="function"?m:()=>m;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:g,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(m){return new this.constructor({...this._def,description:m})}pipe(m){return ZodPipeline.create(this,m)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(d){let m="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return d.precision?m=`${m}\\.\\d{${d.precision}}`:d.precision==null&&(m=`${m}(\\.\\d+)?`),m}function timeRegex(d){return new RegExp(`^${timeRegexSource(d)}$`)}function datetimeRegex(d){let m=`${dateRegexSource}T${timeRegexSource(d)}`;const g=[];return g.push(d.local?"Z?":"Z"),d.offset&&g.push("([+-]\\d{2}:?\\d{2})"),m=`${m}(${g.join("|")})`,new RegExp(`^${m}$`)}function isValidIP(d,m){return!(m!=="v4"&&m||!ipv4Regex.test(d))||!(m!=="v6"&&m||!ipv6Regex.test(d))}class ZodString extends ZodType{_parse(m){if(this._def.coerce&&(m.data=String(m.data)),this._getType(m)!==ZodParsedType.string){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:D.parsedType}),INVALID}const g=new ParseStatus;let w;for(const D of this._def.checks)if(D.kind==="min")m.data.length<D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.value,type:"string",inclusive:!0,exact:!1,message:D.message}),g.dirty());else if(D.kind==="max")m.data.length>D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.value,type:"string",inclusive:!0,exact:!1,message:D.message}),g.dirty());else if(D.kind==="length"){const j=m.data.length>D.value,q=m.data.length<D.value;(j||q)&&(w=this._getOrReturnCtx(m,w),j?addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.value,type:"string",inclusive:!0,exact:!0,message:D.message}):q&&addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.value,type:"string",inclusive:!0,exact:!0,message:D.message}),g.dirty())}else if(D.kind==="email")emailRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"email",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"emoji",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="uuid")uuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"uuid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="nanoid")nanoidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="cuid")cuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="cuid2")cuid2Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="ulid")ulidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ulid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="url")try{new URL(m.data)}catch{w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"url",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()}else D.kind==="regex"?(D.regex.lastIndex=0,D.regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"regex",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty())):D.kind==="trim"?m.data=m.data.trim():D.kind==="includes"?m.data.includes(D.value,D.position)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{includes:D.value,position:D.position},message:D.message}),g.dirty()):D.kind==="toLowerCase"?m.data=m.data.toLowerCase():D.kind==="toUpperCase"?m.data=m.data.toUpperCase():D.kind==="startsWith"?m.data.startsWith(D.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{startsWith:D.value},message:D.message}),g.dirty()):D.kind==="endsWith"?m.data.endsWith(D.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{endsWith:D.value},message:D.message}),g.dirty()):D.kind==="datetime"?datetimeRegex(D).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"datetime",message:D.message}),g.dirty()):D.kind==="date"?dateRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"date",message:D.message}),g.dirty()):D.kind==="time"?timeRegex(D).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"time",message:D.message}),g.dirty()):D.kind==="duration"?durationRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"duration",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):D.kind==="ip"?isValidIP(m.data,D.version)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ip",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):D.kind==="base64"?base64Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"base64",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):util$1.assertNever(D);return{status:g.value,value:m.data}}_regex(m,g,w){return this.refinement(D=>m.test(D),{validation:g,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(w)})}_addCheck(m){return new ZodString({...this._def,checks:[...this._def.checks,m]})}email(m){return this._addCheck({kind:"email",...errorUtil.errToObj(m)})}url(m){return this._addCheck({kind:"url",...errorUtil.errToObj(m)})}emoji(m){return this._addCheck({kind:"emoji",...errorUtil.errToObj(m)})}uuid(m){return this._addCheck({kind:"uuid",...errorUtil.errToObj(m)})}nanoid(m){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(m)})}cuid(m){return this._addCheck({kind:"cuid",...errorUtil.errToObj(m)})}cuid2(m){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(m)})}ulid(m){return this._addCheck({kind:"ulid",...errorUtil.errToObj(m)})}base64(m){return this._addCheck({kind:"base64",...errorUtil.errToObj(m)})}ip(m){return this._addCheck({kind:"ip",...errorUtil.errToObj(m)})}datetime(m){var g,w;return typeof m=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:m}):this._addCheck({kind:"datetime",precision:(m==null?void 0:m.precision)===void 0?null:m==null?void 0:m.precision,offset:(g=m==null?void 0:m.offset)!==null&&g!==void 0&&g,local:(w=m==null?void 0:m.local)!==null&&w!==void 0&&w,...errorUtil.errToObj(m==null?void 0:m.message)})}date(m){return this._addCheck({kind:"date",message:m})}time(m){return typeof m=="string"?this._addCheck({kind:"time",precision:null,message:m}):this._addCheck({kind:"time",precision:(m==null?void 0:m.precision)===void 0?null:m==null?void 0:m.precision,...errorUtil.errToObj(m==null?void 0:m.message)})}duration(m){return this._addCheck({kind:"duration",...errorUtil.errToObj(m)})}regex(m,g){return this._addCheck({kind:"regex",regex:m,...errorUtil.errToObj(g)})}includes(m,g){return this._addCheck({kind:"includes",value:m,position:g==null?void 0:g.position,...errorUtil.errToObj(g==null?void 0:g.message)})}startsWith(m,g){return this._addCheck({kind:"startsWith",value:m,...errorUtil.errToObj(g)})}endsWith(m,g){return this._addCheck({kind:"endsWith",value:m,...errorUtil.errToObj(g)})}min(m,g){return this._addCheck({kind:"min",value:m,...errorUtil.errToObj(g)})}max(m,g){return this._addCheck({kind:"max",value:m,...errorUtil.errToObj(g)})}length(m,g){return this._addCheck({kind:"length",value:m,...errorUtil.errToObj(g)})}nonempty(m){return this.min(1,errorUtil.errToObj(m))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(m=>m.kind==="datetime")}get isDate(){return!!this._def.checks.find(m=>m.kind==="date")}get isTime(){return!!this._def.checks.find(m=>m.kind==="time")}get isDuration(){return!!this._def.checks.find(m=>m.kind==="duration")}get isEmail(){return!!this._def.checks.find(m=>m.kind==="email")}get isURL(){return!!this._def.checks.find(m=>m.kind==="url")}get isEmoji(){return!!this._def.checks.find(m=>m.kind==="emoji")}get isUUID(){return!!this._def.checks.find(m=>m.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(m=>m.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(m=>m.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(m=>m.kind==="cuid2")}get isULID(){return!!this._def.checks.find(m=>m.kind==="ulid")}get isIP(){return!!this._def.checks.find(m=>m.kind==="ip")}get isBase64(){return!!this._def.checks.find(m=>m.kind==="base64")}get minLength(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxLength(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}function floatSafeRemainder(d,m){const g=(d.toString().split(".")[1]||"").length,w=(m.toString().split(".")[1]||"").length,D=g>w?g:w;return parseInt(d.toFixed(D).replace(".",""))%parseInt(m.toFixed(D).replace(".",""))/Math.pow(10,D)}ZodString.create=d=>{var m;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(m=d==null?void 0:d.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(m){if(this._def.coerce&&(m.data=Number(m.data)),this._getType(m)!==ZodParsedType.number){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:D.parsedType}),INVALID}let g;const w=new ParseStatus;for(const D of this._def.checks)D.kind==="int"?util$1.isInteger(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:D.message}),w.dirty()):D.kind==="min"?(D.inclusive?m.data<D.value:m.data<=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:D.value,type:"number",inclusive:D.inclusive,exact:!1,message:D.message}),w.dirty()):D.kind==="max"?(D.inclusive?m.data>D.value:m.data>=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:D.value,type:"number",inclusive:D.inclusive,exact:!1,message:D.message}),w.dirty()):D.kind==="multipleOf"?floatSafeRemainder(m.data,D.value)!==0&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:D.value,message:D.message}),w.dirty()):D.kind==="finite"?Number.isFinite(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_finite,message:D.message}),w.dirty()):util$1.assertNever(D);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,D){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(D)}]})}_addCheck(m){return new ZodNumber({...this._def,checks:[...this._def.checks,m]})}int(m){return this._addCheck({kind:"int",message:errorUtil.toString(m)})}positive(m){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}finite(m){return this._addCheck({kind:"finite",message:errorUtil.toString(m)})}safe(m){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(m)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(m)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}get isInt(){return!!this._def.checks.find(m=>m.kind==="int"||m.kind==="multipleOf"&&util$1.isInteger(m.value))}get isFinite(){let m=null,g=null;for(const w of this._def.checks){if(w.kind==="finite"||w.kind==="int"||w.kind==="multipleOf")return!0;w.kind==="min"?(g===null||w.value>g)&&(g=w.value):w.kind==="max"&&(m===null||w.value<m)&&(m=w.value)}return Number.isFinite(g)&&Number.isFinite(m)}}ZodNumber.create=d=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(m){if(this._def.coerce&&(m.data=BigInt(m.data)),this._getType(m)!==ZodParsedType.bigint){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:D.parsedType}),INVALID}let g;const w=new ParseStatus;for(const D of this._def.checks)D.kind==="min"?(D.inclusive?m.data<D.value:m.data<=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,type:"bigint",minimum:D.value,inclusive:D.inclusive,message:D.message}),w.dirty()):D.kind==="max"?(D.inclusive?m.data>D.value:m.data>=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,type:"bigint",maximum:D.value,inclusive:D.inclusive,message:D.message}),w.dirty()):D.kind==="multipleOf"?m.data%D.value!==BigInt(0)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:D.value,message:D.message}),w.dirty()):util$1.assertNever(D);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,D){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(D)}]})}_addCheck(m){return new ZodBigInt({...this._def,checks:[...this._def.checks,m]})}positive(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}ZodBigInt.create=d=>{var m;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(m=d==null?void 0:d.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodBoolean extends ZodType{_parse(m){if(this._def.coerce&&(m.data=!!m.data),this._getType(m)!==ZodParsedType.boolean){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:g.parsedType}),INVALID}return OK(m.data)}}ZodBoolean.create=d=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodDate extends ZodType{_parse(m){if(this._def.coerce&&(m.data=new Date(m.data)),this._getType(m)!==ZodParsedType.date){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:D.parsedType}),INVALID}if(isNaN(m.data.getTime()))return addIssueToContext(this._getOrReturnCtx(m),{code:ZodIssueCode.invalid_date}),INVALID;const g=new ParseStatus;let w;for(const D of this._def.checks)D.kind==="min"?m.data.getTime()<D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,message:D.message,inclusive:!0,exact:!1,minimum:D.value,type:"date"}),g.dirty()):D.kind==="max"?m.data.getTime()>D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,message:D.message,inclusive:!0,exact:!1,maximum:D.value,type:"date"}),g.dirty()):util$1.assertNever(D);return{status:g.value,value:new Date(m.data.getTime())}}_addCheck(m){return new ZodDate({...this._def,checks:[...this._def.checks,m]})}min(m,g){return this._addCheck({kind:"min",value:m.getTime(),message:errorUtil.toString(g)})}max(m,g){return this._addCheck({kind:"max",value:m.getTime(),message:errorUtil.toString(g)})}get minDate(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m!=null?new Date(m):null}get maxDate(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m!=null?new Date(m):null}}ZodDate.create=d=>new ZodDate({checks:[],coerce:(d==null?void 0:d.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(d)});class ZodSymbol extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.symbol){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:g.parsedType}),INVALID}return OK(m.data)}}ZodSymbol.create=d=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(d)});class ZodUndefined extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:g.parsedType}),INVALID}return OK(m.data)}}ZodUndefined.create=d=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(d)});class ZodNull extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.null){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:g.parsedType}),INVALID}return OK(m.data)}}ZodNull.create=d=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(d)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(m){return OK(m.data)}}ZodAny.create=d=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(d)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(m){return OK(m.data)}}ZodUnknown.create=d=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(d)});class ZodNever extends ZodType{_parse(m){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:g.parsedType}),INVALID}}ZodNever.create=d=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(d)});class ZodVoid extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:g.parsedType}),INVALID}return OK(m.data)}}ZodVoid.create=d=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(d)});class ZodArray extends ZodType{_parse(m){const{ctx:g,status:w}=this._processInputParams(m),D=this._def;if(g.parsedType!==ZodParsedType.array)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:g.parsedType}),INVALID;if(D.exactLength!==null){const q=g.data.length>D.exactLength.value,te=g.data.length<D.exactLength.value;(q||te)&&(addIssueToContext(g,{code:q?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:te?D.exactLength.value:void 0,maximum:q?D.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:D.exactLength.message}),w.dirty())}if(D.minLength!==null&&g.data.length<D.minLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:D.minLength.value,type:"array",inclusive:!0,exact:!1,message:D.minLength.message}),w.dirty()),D.maxLength!==null&&g.data.length>D.maxLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:D.maxLength.value,type:"array",inclusive:!0,exact:!1,message:D.maxLength.message}),w.dirty()),g.common.async)return Promise.all([...g.data].map((q,te)=>D.type._parseAsync(new ParseInputLazyPath(g,q,g.path,te)))).then(q=>ParseStatus.mergeArray(w,q));const j=[...g.data].map((q,te)=>D.type._parseSync(new ParseInputLazyPath(g,q,g.path,te)));return ParseStatus.mergeArray(w,j)}get element(){return this._def.type}min(m,g){return new ZodArray({...this._def,minLength:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodArray({...this._def,maxLength:{value:m,message:errorUtil.toString(g)}})}length(m,g){return new ZodArray({...this._def,exactLength:{value:m,message:errorUtil.toString(g)}})}nonempty(m){return this.min(1,m)}}function deepPartialify(d){if(d instanceof ZodObject){const m={};for(const g in d.shape){const w=d.shape[g];m[g]=ZodOptional.create(deepPartialify(w))}return new ZodObject({...d._def,shape:()=>m})}return d instanceof ZodArray?new ZodArray({...d._def,type:deepPartialify(d.element)}):d instanceof ZodOptional?ZodOptional.create(deepPartialify(d.unwrap())):d instanceof ZodNullable?ZodNullable.create(deepPartialify(d.unwrap())):d instanceof ZodTuple?ZodTuple.create(d.items.map(m=>deepPartialify(m))):d}ZodArray.create=(d,m)=>new ZodArray({type:d,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(m)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const m=this._def.shape(),g=util$1.objectKeys(m);return this._cached={shape:m,keys:g}}_parse(m){if(this._getType(m)!==ZodParsedType.object){const re=this._getOrReturnCtx(m);return addIssueToContext(re,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:re.parsedType}),INVALID}const{status:g,ctx:w}=this._processInputParams(m),{shape:D,keys:j}=this._getCached(),q=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const re in w.data)j.includes(re)||q.push(re);const te=[];for(const re of j){const ne=D[re],ie=w.data[re];te.push({key:{status:"valid",value:re},value:ne._parse(new ParseInputLazyPath(w,ie,w.path,re)),alwaysSet:re in w.data})}if(this._def.catchall instanceof ZodNever){const re=this._def.unknownKeys;if(re==="passthrough")for(const ne of q)te.push({key:{status:"valid",value:ne},value:{status:"valid",value:w.data[ne]}});else if(re==="strict")q.length>0&&(addIssueToContext(w,{code:ZodIssueCode.unrecognized_keys,keys:q}),g.dirty());else if(re!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const re=this._def.catchall;for(const ne of q){const ie=w.data[ne];te.push({key:{status:"valid",value:ne},value:re._parse(new ParseInputLazyPath(w,ie,w.path,ne)),alwaysSet:ne in w.data})}}return w.common.async?Promise.resolve().then(async()=>{const re=[];for(const ne of te){const ie=await ne.key,ae=await ne.value;re.push({key:ie,value:ae,alwaysSet:ne.alwaysSet})}return re}).then(re=>ParseStatus.mergeObjectSync(g,re)):ParseStatus.mergeObjectSync(g,te)}get shape(){return this._def.shape()}strict(m){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...m!==void 0?{errorMap:(g,w)=>{var D,j,q,te;const re=(q=(j=(D=this._def).errorMap)===null||j===void 0?void 0:j.call(D,g,w).message)!==null&&q!==void 0?q:w.defaultError;return g.code==="unrecognized_keys"?{message:(te=errorUtil.errToObj(m).message)!==null&&te!==void 0?te:re}:{message:re}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(m){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...m})})}merge(m){return new ZodObject({unknownKeys:m._def.unknownKeys,catchall:m._def.catchall,shape:()=>({...this._def.shape(),...m._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(m,g){return this.augment({[m]:g})}catchall(m){return new ZodObject({...this._def,catchall:m})}pick(m){const g={};return util$1.objectKeys(m).forEach(w=>{m[w]&&this.shape[w]&&(g[w]=this.shape[w])}),new ZodObject({...this._def,shape:()=>g})}omit(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{m[w]||(g[w]=this.shape[w])}),new ZodObject({...this._def,shape:()=>g})}deepPartial(){return deepPartialify(this)}partial(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{const D=this.shape[w];m&&!m[w]?g[w]=D:g[w]=D.optional()}),new ZodObject({...this._def,shape:()=>g})}required(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{if(m&&!m[w])g[w]=this.shape[w];else{let D=this.shape[w];for(;D instanceof ZodOptional;)D=D._def.innerType;g[w]=D}}),new ZodObject({...this._def,shape:()=>g})}keyof(){return createZodEnum(util$1.objectKeys(this.shape))}}ZodObject.create=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.strictCreate=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.lazycreate=(d,m)=>new ZodObject({shape:d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)});class ZodUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=this._def.options;if(g.common.async)return Promise.all(w.map(async D=>{const j={...g,common:{...g.common,issues:[]},parent:null};return{result:await D._parseAsync({data:g.data,path:g.path,parent:j}),ctx:j}})).then(function(D){for(const q of D)if(q.result.status==="valid")return q.result;for(const q of D)if(q.result.status==="dirty")return g.common.issues.push(...q.ctx.common.issues),q.result;const j=D.map(q=>new ZodError(q.ctx.common.issues));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:j}),INVALID});{let D;const j=[];for(const te of w){const re={...g,common:{...g.common,issues:[]},parent:null},ne=te._parseSync({data:g.data,path:g.path,parent:re});if(ne.status==="valid")return ne;ne.status!=="dirty"||D||(D={result:ne,ctx:re}),re.common.issues.length&&j.push(re.common.issues)}if(D)return g.common.issues.push(...D.ctx.common.issues),D.result;const q=j.map(te=>new ZodError(te));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:q}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(d,m)=>new ZodUnion({options:d,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(m)});const getDiscriminator=d=>d instanceof ZodLazy?getDiscriminator(d.schema):d instanceof ZodEffects?getDiscriminator(d.innerType()):d instanceof ZodLiteral?[d.value]:d instanceof ZodEnum?d.options:d instanceof ZodNativeEnum?util$1.objectValues(d.enum):d instanceof ZodDefault?getDiscriminator(d._def.innerType):d instanceof ZodUndefined?[void 0]:d instanceof ZodNull?[null]:d instanceof ZodOptional?[void 0,...getDiscriminator(d.unwrap())]:d instanceof ZodNullable?[null,...getDiscriminator(d.unwrap())]:d instanceof ZodBranded||d instanceof ZodReadonly?getDiscriminator(d.unwrap()):d instanceof ZodCatch?getDiscriminator(d._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.object)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:g.parsedType}),INVALID;const w=this.discriminator,D=g.data[w],j=this.optionsMap.get(D);return j?g.common.async?j._parseAsync({data:g.data,path:g.path,parent:g}):j._parseSync({data:g.data,path:g.path,parent:g}):(addIssueToContext(g,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[w]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(m,g,w){const D=new Map;for(const j of g){const q=getDiscriminator(j.shape[m]);if(!q.length)throw new Error(`A discriminator value for key \`${m}\` could not be extracted from all schema options`);for(const te of q){if(D.has(te))throw new Error(`Discriminator property ${String(m)} has duplicate value ${String(te)}`);D.set(te,j)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:m,options:g,optionsMap:D,...processCreateParams(w)})}}function mergeValues(d,m){const g=getParsedType(d),w=getParsedType(m);if(d===m)return{valid:!0,data:d};if(g===ZodParsedType.object&&w===ZodParsedType.object){const D=util$1.objectKeys(m),j=util$1.objectKeys(d).filter(te=>D.indexOf(te)!==-1),q={...d,...m};for(const te of j){const re=mergeValues(d[te],m[te]);if(!re.valid)return{valid:!1};q[te]=re.data}return{valid:!0,data:q}}if(g===ZodParsedType.array&&w===ZodParsedType.array){if(d.length!==m.length)return{valid:!1};const D=[];for(let j=0;j<d.length;j++){const q=mergeValues(d[j],m[j]);if(!q.valid)return{valid:!1};D.push(q.data)}return{valid:!0,data:D}}return g===ZodParsedType.date&&w===ZodParsedType.date&&+d==+m?{valid:!0,data:d}:{valid:!1}}class ZodIntersection extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m),D=(j,q)=>{if(isAborted(j)||isAborted(q))return INVALID;const te=mergeValues(j.value,q.value);return te.valid?((isDirty(j)||isDirty(q))&&g.dirty(),{status:g.value,value:te.data}):(addIssueToContext(w,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return w.common.async?Promise.all([this._def.left._parseAsync({data:w.data,path:w.path,parent:w}),this._def.right._parseAsync({data:w.data,path:w.path,parent:w})]).then(([j,q])=>D(j,q)):D(this._def.left._parseSync({data:w.data,path:w.path,parent:w}),this._def.right._parseSync({data:w.data,path:w.path,parent:w}))}}ZodIntersection.create=(d,m,g)=>new ZodIntersection({left:d,right:m,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(g)});class ZodTuple extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.array)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:w.parsedType}),INVALID;if(w.data.length<this._def.items.length)return addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&w.data.length>this._def.items.length&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g.dirty());const D=[...w.data].map((j,q)=>{const te=this._def.items[q]||this._def.rest;return te?te._parse(new ParseInputLazyPath(w,j,w.path,q)):null}).filter(j=>!!j);return w.common.async?Promise.all(D).then(j=>ParseStatus.mergeArray(g,j)):ParseStatus.mergeArray(g,D)}get items(){return this._def.items}rest(m){return new ZodTuple({...this._def,rest:m})}}ZodTuple.create=(d,m)=>{if(!Array.isArray(d))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:d,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(m)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.object)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:w.parsedType}),INVALID;const D=[],j=this._def.keyType,q=this._def.valueType;for(const te in w.data)D.push({key:j._parse(new ParseInputLazyPath(w,te,w.path,te)),value:q._parse(new ParseInputLazyPath(w,w.data[te],w.path,te)),alwaysSet:te in w.data});return w.common.async?ParseStatus.mergeObjectAsync(g,D):ParseStatus.mergeObjectSync(g,D)}get element(){return this._def.valueType}static create(m,g,w){return new ZodRecord(g instanceof ZodType?{keyType:m,valueType:g,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(w)}:{keyType:ZodString.create(),valueType:m,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(g)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.map)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:w.parsedType}),INVALID;const D=this._def.keyType,j=this._def.valueType,q=[...w.data.entries()].map(([te,re],ne)=>({key:D._parse(new ParseInputLazyPath(w,te,w.path,[ne,"key"])),value:j._parse(new ParseInputLazyPath(w,re,w.path,[ne,"value"]))}));if(w.common.async){const te=new Map;return Promise.resolve().then(async()=>{for(const re of q){const ne=await re.key,ie=await re.value;if(ne.status==="aborted"||ie.status==="aborted")return INVALID;ne.status!=="dirty"&&ie.status!=="dirty"||g.dirty(),te.set(ne.value,ie.value)}return{status:g.value,value:te}})}{const te=new Map;for(const re of q){const ne=re.key,ie=re.value;if(ne.status==="aborted"||ie.status==="aborted")return INVALID;ne.status!=="dirty"&&ie.status!=="dirty"||g.dirty(),te.set(ne.value,ie.value)}return{status:g.value,value:te}}}}ZodMap.create=(d,m,g)=>new ZodMap({valueType:m,keyType:d,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(g)});class ZodSet extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.set)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:w.parsedType}),INVALID;const D=this._def;D.minSize!==null&&w.data.size<D.minSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.minSize.value,type:"set",inclusive:!0,exact:!1,message:D.minSize.message}),g.dirty()),D.maxSize!==null&&w.data.size>D.maxSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.maxSize.value,type:"set",inclusive:!0,exact:!1,message:D.maxSize.message}),g.dirty());const j=this._def.valueType;function q(re){const ne=new Set;for(const ie of re){if(ie.status==="aborted")return INVALID;ie.status==="dirty"&&g.dirty(),ne.add(ie.value)}return{status:g.value,value:ne}}const te=[...w.data.values()].map((re,ne)=>j._parse(new ParseInputLazyPath(w,re,w.path,ne)));return w.common.async?Promise.all(te).then(re=>q(re)):q(te)}min(m,g){return new ZodSet({...this._def,minSize:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodSet({...this._def,maxSize:{value:m,message:errorUtil.toString(g)}})}size(m,g){return this.min(m,g).max(m,g)}nonempty(m){return this.min(1,m)}}ZodSet.create=(d,m)=>new ZodSet({valueType:d,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(m)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.function)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:g.parsedType}),INVALID;function w(te,re){return makeIssue({data:te,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter(ne=>!!ne),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:re}})}function D(te,re){return makeIssue({data:te,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter(ne=>!!ne),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:re}})}const j={errorMap:g.common.contextualErrorMap},q=g.data;if(this._def.returns instanceof ZodPromise){const te=this;return OK(async function(...re){const ne=new ZodError([]),ie=await te._def.args.parseAsync(re,j).catch(le=>{throw ne.addIssue(w(re,le)),ne}),ae=await Reflect.apply(q,this,ie);return await te._def.returns._def.type.parseAsync(ae,j).catch(le=>{throw ne.addIssue(D(ae,le)),ne})})}{const te=this;return OK(function(...re){const ne=te._def.args.safeParse(re,j);if(!ne.success)throw new ZodError([w(re,ne.error)]);const ie=Reflect.apply(q,this,ne.data),ae=te._def.returns.safeParse(ie,j);if(!ae.success)throw new ZodError([D(ie,ae.error)]);return ae.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...m){return new ZodFunction({...this._def,args:ZodTuple.create(m).rest(ZodUnknown.create())})}returns(m){return new ZodFunction({...this._def,returns:m})}implement(m){return this.parse(m)}strictImplement(m){return this.parse(m)}static create(m,g,w){return new ZodFunction({args:m||ZodTuple.create([]).rest(ZodUnknown.create()),returns:g||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(w)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(m){const{ctx:g}=this._processInputParams(m);return this._def.getter()._parse({data:g.data,path:g.path,parent:g})}}ZodLazy.create=(d,m)=>new ZodLazy({getter:d,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(m)});class ZodLiteral extends ZodType{_parse(m){if(m.data!==this._def.value){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:m.data}}get value(){return this._def.value}}function createZodEnum(d,m){return new ZodEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(m)})}ZodLiteral.create=(d,m)=>new ZodLiteral({value:d,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(m)});class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(m){if(typeof m.data!="string"){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{expected:util$1.joinValues(w),received:g.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(m.data)){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_enum_value,options:w}),INVALID}return OK(m.data)}get options(){return this._def.values}get enum(){const m={};for(const g of this._def.values)m[g]=g;return m}get Values(){const m={};for(const g of this._def.values)m[g]=g;return m}get Enum(){const m={};for(const g of this._def.values)m[g]=g;return m}extract(m,g=this._def){return ZodEnum.create(m,{...this._def,...g})}exclude(m,g=this._def){return ZodEnum.create(this.options.filter(w=>!m.includes(w)),{...this._def,...g})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(m){const g=util$1.getValidEnumValues(this._def.values),w=this._getOrReturnCtx(m);if(w.parsedType!==ZodParsedType.string&&w.parsedType!==ZodParsedType.number){const D=util$1.objectValues(g);return addIssueToContext(w,{expected:util$1.joinValues(D),received:w.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util$1.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(m.data)){const D=util$1.objectValues(g);return addIssueToContext(w,{received:w.data,code:ZodIssueCode.invalid_enum_value,options:D}),INVALID}return OK(m.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(d,m)=>new ZodNativeEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(m)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.promise&&g.common.async===!1)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:g.parsedType}),INVALID;const w=g.parsedType===ZodParsedType.promise?g.data:Promise.resolve(g.data);return OK(w.then(D=>this._def.type.parseAsync(D,{path:g.path,errorMap:g.common.contextualErrorMap})))}}ZodPromise.create=(d,m)=>new ZodPromise({type:d,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(m)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(m){const{status:g,ctx:w}=this._processInputParams(m),D=this._def.effect||null,j={addIssue:q=>{addIssueToContext(w,q),q.fatal?g.abort():g.dirty()},get path(){return w.path}};if(j.addIssue=j.addIssue.bind(j),D.type==="preprocess"){const q=D.transform(w.data,j);if(w.common.async)return Promise.resolve(q).then(async te=>{if(g.value==="aborted")return INVALID;const re=await this._def.schema._parseAsync({data:te,path:w.path,parent:w});return re.status==="aborted"?INVALID:re.status==="dirty"||g.value==="dirty"?DIRTY(re.value):re});{if(g.value==="aborted")return INVALID;const te=this._def.schema._parseSync({data:q,path:w.path,parent:w});return te.status==="aborted"?INVALID:te.status==="dirty"||g.value==="dirty"?DIRTY(te.value):te}}if(D.type==="refinement"){const q=te=>{const re=D.refinement(te,j);if(w.common.async)return Promise.resolve(re);if(re instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return te};if(w.common.async===!1){const te=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});return te.status==="aborted"?INVALID:(te.status==="dirty"&&g.dirty(),q(te.value),{status:g.value,value:te.value})}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(te=>te.status==="aborted"?INVALID:(te.status==="dirty"&&g.dirty(),q(te.value).then(()=>({status:g.value,value:te.value}))))}if(D.type==="transform"){if(w.common.async===!1){const q=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});if(!isValid(q))return q;const te=D.transform(q.value,j);if(te instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:g.value,value:te}}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(q=>isValid(q)?Promise.resolve(D.transform(q.value,j)).then(te=>({status:g.value,value:te})):q)}util$1.assertNever(D)}}ZodEffects.create=(d,m,g)=>new ZodEffects({schema:d,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:m,...processCreateParams(g)}),ZodEffects.createWithPreprocess=(d,m,g)=>new ZodEffects({schema:m,effect:{type:"preprocess",transform:d},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(g)});class ZodOptional extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodOptional.create=(d,m)=>new ZodOptional({innerType:d,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(m)});class ZodNullable extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.null?OK(null):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodNullable.create=(d,m)=>new ZodNullable({innerType:d,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(m)});class ZodDefault extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);let w=g.data;return g.parsedType===ZodParsedType.undefined&&(w=this._def.defaultValue()),this._def.innerType._parse({data:w,path:g.path,parent:g})}removeDefault(){return this._def.innerType}}ZodDefault.create=(d,m)=>new ZodDefault({innerType:d,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof m.default=="function"?m.default:()=>m.default,...processCreateParams(m)});class ZodCatch extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w={...g,common:{...g.common,issues:[]}},D=this._def.innerType._parse({data:w.data,path:w.path,parent:{...w}});return isAsync(D)?D.then(j=>({status:"valid",value:j.status==="valid"?j.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})})):{status:"valid",value:D.status==="valid"?D.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(d,m)=>new ZodCatch({innerType:d,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof m.catch=="function"?m.catch:()=>m.catch,...processCreateParams(m)});class ZodNaN extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.nan){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:g.parsedType}),INVALID}return{status:"valid",value:m.data}}}ZodNaN.create=d=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(d)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=g.data;return this._def.type._parse({data:w,path:g.path,parent:g})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.common.async)return(async()=>{const D=await this._def.in._parseAsync({data:w.data,path:w.path,parent:w});return D.status==="aborted"?INVALID:D.status==="dirty"?(g.dirty(),DIRTY(D.value)):this._def.out._parseAsync({data:D.value,path:w.path,parent:w})})();{const D=this._def.in._parseSync({data:w.data,path:w.path,parent:w});return D.status==="aborted"?INVALID:D.status==="dirty"?(g.dirty(),{status:"dirty",value:D.value}):this._def.out._parseSync({data:D.value,path:w.path,parent:w})}}static create(m,g){return new ZodPipeline({in:m,out:g,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(m){const g=this._def.innerType._parse(m),w=D=>(isValid(D)&&(D.value=Object.freeze(D.value)),D);return isAsync(g)?g.then(D=>w(D)):w(g)}unwrap(){return this._def.innerType}}function custom(d,m={},g){return d?ZodAny.create().superRefine((w,D)=>{var j,q;if(!d(w)){const te=typeof m=="function"?m(w):typeof m=="string"?{message:m}:m,re=(q=(j=te.fatal)!==null&&j!==void 0?j:g)===null||q===void 0||q,ne=typeof te=="string"?{message:te}:te;D.addIssue({code:"custom",...ne,fatal:re})}}):ZodAny.create()}ZodReadonly.create=(d,m)=>new ZodReadonly({innerType:d,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(m)});const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(d){d.ZodString="ZodString",d.ZodNumber="ZodNumber",d.ZodNaN="ZodNaN",d.ZodBigInt="ZodBigInt",d.ZodBoolean="ZodBoolean",d.ZodDate="ZodDate",d.ZodSymbol="ZodSymbol",d.ZodUndefined="ZodUndefined",d.ZodNull="ZodNull",d.ZodAny="ZodAny",d.ZodUnknown="ZodUnknown",d.ZodNever="ZodNever",d.ZodVoid="ZodVoid",d.ZodArray="ZodArray",d.ZodObject="ZodObject",d.ZodUnion="ZodUnion",d.ZodDiscriminatedUnion="ZodDiscriminatedUnion",d.ZodIntersection="ZodIntersection",d.ZodTuple="ZodTuple",d.ZodRecord="ZodRecord",d.ZodMap="ZodMap",d.ZodSet="ZodSet",d.ZodFunction="ZodFunction",d.ZodLazy="ZodLazy",d.ZodLiteral="ZodLiteral",d.ZodEnum="ZodEnum",d.ZodEffects="ZodEffects",d.ZodNativeEnum="ZodNativeEnum",d.ZodOptional="ZodOptional",d.ZodNullable="ZodNullable",d.ZodDefault="ZodDefault",d.ZodCatch="ZodCatch",d.ZodPromise="ZodPromise",d.ZodBranded="ZodBranded",d.ZodPipeline="ZodPipeline",d.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(d,m={message:`Input not instance of ${d.name}`})=>custom(g=>g instanceof d,m),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:d=>ZodString.create({...d,coerce:!0}),number:d=>ZodNumber.create({...d,coerce:!0}),boolean:d=>ZodBoolean.create({...d,coerce:!0}),bigint:d=>ZodBigInt.create({...d,coerce:!0}),date:d=>ZodDate.create({...d,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$1},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError}),Edge,Edge2;Edge2=Edge||(Edge={}),Edge2[Edge2.EXTEND=1]="EXTEND",Edge2[Edge2.WRAP=2]="WRAP",Edge2[Edge2.CROP=3]="CROP";const JimpClassSchema=z.object({bitmap:z.object({data:z.union([z.instanceof(Buffer),z.instanceof(Uint8Array)]),width:z.number(),height:z.number()})}),BlitOptionsSchemaComplex=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional(),srcX:z.number().optional(),srcY:z.number().optional(),srcW:z.number().optional(),srcH:z.number().optional()}),BlitOptionsSchema=z.union([JimpClassSchema,BlitOptionsSchemaComplex]),methods$h={blit(d,m){const g=BlitOptionsSchema.parse(m);let{src:w,x:D=0,y:j=0,srcX:q=0,srcY:te=0,srcW:re=w.bitmap.width,srcH:ne=w.bitmap.height}="bitmap"in g?{src:g}:g;if(!("bitmap"in w))throw new Error("The source must be a Jimp image");if(typeof D!="number"||typeof j!="number")throw new Error("x and y must be numbers");D=Math.round(D),j=Math.round(j),q=Math.round(q),te=Math.round(te),re=Math.round(re),ne=Math.round(ne);const ie=d.bitmap.width,ae=d.bitmap.height;return scan(w,q,te,re,ne,function(se,le,ue){const ce=D+se-q,de=j+le-te;if(ce>=0&&de>=0&&ie-ce>0&&ae-de>0){const he=d.getPixelIndex(ce,de),pe={r:w.bitmap.data[ue]||0,g:w.bitmap.data[ue+1]||0,b:w.bitmap.data[ue+2]||0,a:w.bitmap.data[ue+3]||0},me={r:d.bitmap.data[he]||0,g:d.bitmap.data[he+1]||0,b:d.bitmap.data[he+2]||0,a:d.bitmap.data[he+3]||0};d.bitmap.data[he]=(pe.a*(pe.r-me.r)-me.r+255>>8)+me.r,d.bitmap.data[he+1]=(pe.a*(pe.g-me.g)-me.g+255>>8)+me.g,d.bitmap.data[he+2]=(pe.a*(pe.b-me.b)-me.b+255>>8)+me.b,d.bitmap.data[he+3]=limit255(me.a+pe.a)}}),d}},mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18],methods$g={blur(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");let g,w,D,j,q,te,re,ne,ie,ae,se,le,ue;const ce=d.bitmap.width-1,de=d.bitmap.height-1,he=m+1,pe=mulTable[m],me=shgTable[m],ge=[],be=[],ke=[],ye=[],Se=[],we=[];let Te=2;for(;Te-- >0;){for(le=0,ue=0,te=0;te<d.bitmap.height;te++){for(g=d.bitmap.data[ue]*he,w=d.bitmap.data[ue+1]*he,D=d.bitmap.data[ue+2]*he,j=d.bitmap.data[ue+3]*he,re=1;re<=m;re++)ne=ue+((re>ce?ce:re)<<2),g+=d.bitmap.data[ne++],w+=d.bitmap.data[ne++],D+=d.bitmap.data[ne++],j+=d.bitmap.data[ne];for(q=0;q<d.bitmap.width;q++)ge[le]=g,be[le]=w,ke[le]=D,ye[le]=j,te===0&&(Se[q]=((ne=q+he)<ce?ne:ce)<<2,we[q]=(ne=q-m)>0?ne<<2:0),ie=ue+Se[q],ae=ue+we[q],g+=d.bitmap.data[ie++]-d.bitmap.data[ae++],w+=d.bitmap.data[ie++]-d.bitmap.data[ae++],D+=d.bitmap.data[ie++]-d.bitmap.data[ae++],j+=d.bitmap.data[ie]-d.bitmap.data[ae++],le++;ue+=d.bitmap.width<<2}for(q=0;q<d.bitmap.width;q++){for(se=q,g=ge[se]*he,w=be[se]*he,D=ke[se]*he,j=ye[se]*he,re=1;re<=m;re++)se+=re>de?0:d.bitmap.width,g+=ge[se],w+=be[se],D+=ke[se],j+=ye[se];for(le=q<<2,te=0;te<d.bitmap.height;te++)d.bitmap.data[le]=limit255(g*pe>>>me),d.bitmap.data[le+1]=limit255(w*pe>>>me),d.bitmap.data[le+2]=limit255(D*pe>>>me),d.bitmap.data[le+3]=limit255(j*pe>>>me),q===0&&(Se[te]=((ne=te+he)<de?ne:de)*d.bitmap.width,we[te]=(ne=te-m)>0?ne*d.bitmap.width:0),ie=q+Se[te],ae=q+we[te],g+=ge[ie]-ge[ae],w+=be[ie]-be[ae],D+=ke[ie]-ke[ae],j+=ye[ie]-ye[ae],le+=d.bitmap.width<<2}}return d},gaussian(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");const g=Math.ceil(2.57*m),w=2*g+1,D=m*m*2,j=D*Math.PI,q=[];for(let te=0;te<w;te++){const re=[];for(let ne=0;ne<w;ne++){const ie=(ne-g)**2+(te-g)**2;re[ne]=Math.exp(-ie/D)/j}q.push(re)}for(let te=0;te<d.bitmap.height;te++)for(let re=0;re<d.bitmap.width;re++){let ne=0,ie=0,ae=0,se=0,le=0;for(let ue=0;ue<w;ue++){for(let de=0;de<w;de++){const he=Math.min(d.bitmap.width-1,Math.max(0,de+re-g)),pe=Math.min(d.bitmap.height-1,Math.max(0,ue+te-g)),me=q[ue][de],ge=pe*d.bitmap.width+he<<2;ne+=d.bitmap.data[ge]*me,ie+=d.bitmap.data[ge+1]*me,ae+=d.bitmap.data[ge+2]*me,se+=d.bitmap.data[ge+3]*me,le+=me}const ce=te*d.bitmap.width+re<<2;d.bitmap.data[ce]=Math.round(ne/le),d.bitmap.data[ce+1]=Math.round(ie/le),d.bitmap.data[ce+2]=Math.round(ae/le),d.bitmap.data[ce+3]=Math.round(se/le)}}return d}},CircleOptionsSchema=z.object({x:z.number().optional(),y:z.number().optional(),radius:z.number().min(0).optional()}),methods$f={circle(d,m={}){const g=CircleOptionsSchema.parse(m),w=g.radius||(d.bitmap.width>d.bitmap.height?d.bitmap.height:d.bitmap.width)/2,D=typeof g.x=="number"?g.x:d.bitmap.width/2,j=typeof g.y=="number"?g.y:d.bitmap.height/2;return d.scan((q,te,re)=>{const ne=Math.sqrt(Math.pow(q-D,2)+Math.pow(te-j,2));w-ne<=0?d.bitmap.data[re+3]=0:w-ne<1&&(d.bitmap.data[re+3]=255*(w-ne))}),d}},ConvolutionMatrixSchema=z.array(z.number()).min(1).array(),ConvolutionComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,edgeHandling:z.nativeEnum(Edge).optional()}),ConvolutionOptionsSchema=z.union([ConvolutionMatrixSchema,ConvolutionComplexOptionsSchema]),ConvoluteComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),ConvoluteOptionsSchema=z.union([ConvolutionMatrixSchema,ConvoluteComplexOptionsSchema]),PixelateSize=z.number().min(1).max(1/0),PixelateComplexOptionsSchema=z.object({size:PixelateSize,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),PixelateOptionsSchema=z.union([PixelateSize,PixelateComplexOptionsSchema]);function applyKernel(d,m,g,w){const D=[0,0,0,0],j=(m.length-1)/2;for(let q=0;q<m.length;q+=1)for(let te=0;te<m[q].length;te+=1){const re=d.getPixelIndex(g+q-j,w+te-j);D[0]+=d.bitmap.data[re]*m[q][te],D[1]+=d.bitmap.data[re+1]*m[q][te],D[2]+=d.bitmap.data[re+2]*m[q][te],D[3]+=d.bitmap.data[re+3]*m[q][te]}return D}function mix(d,m,g=50){return{r:(m.r-d.r)*(g/100)+d.r,g:(m.g-d.g)*(g/100)+d.g,b:(m.b-d.b)*(g/100)+d.b}}const HueActionSchema=z.object({apply:z.literal("hue"),params:z.tuple([z.number().min(-360).max(360)])}),SpinActionSchema=z.object({apply:z.literal("spin"),params:z.tuple([z.number().min(-360).max(360)])}),LightenActionSchema=z.object({apply:z.literal("lighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),RGBColorSchema=z.object({r:z.number().min(0).max(255),g:z.number().min(0).max(255),b:z.number().min(0).max(255)}),MixActionSchema=z.object({apply:z.literal("mix"),params:z.union([z.tuple([RGBColorSchema]),z.tuple([RGBColorSchema,z.number().min(0).max(100)])])}),TintActionSchema=z.object({apply:z.literal("tint"),params:z.tuple([z.number().min(0).max(100)]).optional()}),ShadeActionSchema=z.object({apply:z.literal("shade"),params:z.tuple([z.number().min(0).max(100)]).optional()}),XorActionSchema=z.object({apply:z.literal("xor"),params:z.tuple([RGBColorSchema])}),RedActionSchema=z.object({apply:z.literal("red"),params:z.tuple([z.number().min(-255).max(255)])}),GreenActionSchema=z.object({apply:z.literal("green"),params:z.tuple([z.number().min(-255).max(255)])}),BlueActionSchema=z.object({apply:z.literal("blue"),params:z.tuple([z.number().min(-255).max(255)])}),BrightenActionSchema=z.object({apply:z.literal("brighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DarkenActionSchema=z.object({apply:z.literal("darken"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DesaturateActionSchema=z.object({apply:z.literal("desaturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),SaturateActionSchema=z.object({apply:z.literal("saturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),GrayscaleActionSchema=z.object({apply:z.literal("greyscale"),params:z.tuple([]).optional()}),ColorActionNameSchema=z.union([HueActionSchema,SpinActionSchema,LightenActionSchema,MixActionSchema,TintActionSchema,ShadeActionSchema,XorActionSchema,RedActionSchema,GreenActionSchema,BlueActionSchema,BrightenActionSchema,DarkenActionSchema,DesaturateActionSchema,SaturateActionSchema,GrayscaleActionSchema]);function histogram(d){const m={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return d.scan((g,w,D)=>{m.r[d.bitmap.data[D+0]]++,m.g[d.bitmap.data[D+1]]++,m.b[d.bitmap.data[D+2]]++}),m}const normalizeValue=function(d,m,g){return 255*(d-m)/(g-m)},getBounds=function(d){return[d.findIndex(m=>m>0),255-d.slice().reverse().findIndex(m=>m>0)]},methods$e={normalize(d){const m=histogram(d),g={r:getBounds(m.r),g:getBounds(m.g),b:getBounds(m.b)};return d.scan((w,D,j)=>{const q=d.bitmap.data[j+0],te=d.bitmap.data[j+1],re=d.bitmap.data[j+2];d.bitmap.data[j+0]=normalizeValue(q,g.r[0],g.r[1]),d.bitmap.data[j+1]=normalizeValue(te,g.g[0],g.g[1]),d.bitmap.data[j+2]=normalizeValue(re,g.b[0],g.b[1])}),d},invert:d=>(d.scan((m,g,w)=>{d.bitmap.data[w]=255-d.bitmap.data[w],d.bitmap.data[w+1]=255-d.bitmap.data[w+1],d.bitmap.data[w+2]=255-d.bitmap.data[w+2]}),d),brightness(d,m){if(typeof m!="number")throw new Error("val must be numbers");return d.scan((g,w,D)=>{d.bitmap.data[D]=limit255(d.bitmap.data[D]*m),d.bitmap.data[D+1]=limit255(d.bitmap.data[D+1]*m),d.bitmap.data[D+2]=limit255(d.bitmap.data[D+2]*m)}),d},contrast(d,m){if(typeof m!="number")throw new Error("val must be numbers");if(m<-1||m>1)throw new Error("val must be a number between -1 and +1");const g=(m+1)/(1-m);function w(D){return(D=Math.floor(g*(D-127)+127))<0?0:D>255?255:D}return d.scan((D,j,q)=>{d.bitmap.data[q]=w(d.bitmap.data[q]),d.bitmap.data[q+1]=w(d.bitmap.data[q+1]),d.bitmap.data[q+2]=w(d.bitmap.data[q+2])}),d},posterize(d,m){if(typeof m!="number")throw new Error("n must be numbers");return m<2&&(m=2),d.scan((g,w,D)=>{const j=d.bitmap.data[D],q=d.bitmap.data[D+1],te=d.bitmap.data[D+2];d.bitmap.data[D]=Math.floor(j/255*(m-1))/(m-1)*255,d.bitmap.data[D+1]=Math.floor(q/255*(m-1))/(m-1)*255,d.bitmap.data[D+2]=Math.floor(te/255*(m-1))/(m-1)*255}),d},greyscale:d=>(d.scan((m,g,w)=>{const D=.2126*d.bitmap.data[w]+.7152*d.bitmap.data[w+1]+.0722*d.bitmap.data[w+2];d.bitmap.data[w]=D,d.bitmap.data[w+1]=D,d.bitmap.data[w+2]=D}),d),opacity(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return d.scan((g,w,D)=>{const j=d.bitmap.data[D+3]*m;d.bitmap.data[D+3]=j}),d},sepia:d=>(d.scan((m,g,w)=>{let D=d.bitmap.data[w],j=d.bitmap.data[w+1],q=d.bitmap.data[w+2];D=.393*D+.769*j+.189*q,j=.349*D+.686*j+.168*q,q=.272*D+.534*j+.131*q,d.bitmap.data[w]=D<255?D:255,d.bitmap.data[w+1]=j<255?j:255,d.bitmap.data[w+2]=q<255?q:255}),d),fade(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return this.opacity(d,1-m)},convolution(d,m){const g=ConvolutionOptionsSchema.parse(m),{kernel:w,edgeHandling:D=Edge.EXTEND}="kernel"in g?g:{kernel:g,edgeHandling:void 0};if(!w[0])throw new Error("kernel must be a matrix");const j=Buffer.from(d.bitmap.data),q=w.length,te=w[0].length,re=Math.floor(q/2),ne=Math.floor(te/2),ie=-re,ae=-ne;let se,le,ue,ce,de,he,pe,me,ge,be;return d.scan((ke,ye,Se)=>{ce=0,ue=0,le=0;for(let we=ie;we<=re;we++)for(let Te=ae;Te<=ne;Te++)me=ke+Te,ge=ye+we,se=w[we+re][Te+ne],be=d.getPixelIndex(me,ge,D),be===-1?(pe=0,he=0,de=0):(de=d.bitmap.data[be+0],he=d.bitmap.data[be+1],pe=d.bitmap.data[be+2]),le+=se*de,ue+=se*he,ce+=se*pe;le<0&&(le=0),ue<0&&(ue=0),ce<0&&(ce=0),le>255&&(le=255),ue>255&&(ue=255),ce>255&&(ce=255),j[Se+0]=le,j[Se+1]=ue,j[Se+2]=ce}),d.bitmap.data=j,d},opaque:d=>(d.scan((m,g,w)=>{d.bitmap.data[w+3]=255}),d),pixelate(d,m){const g=PixelateOptionsSchema.parse(m),{size:w,x:D=0,y:j=0,w:q=d.bitmap.width-D,h:te=d.bitmap.height-j}=typeof g=="number"?{size:g}:g,re=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]],ne=clone(d);return scan(ne,D,j,q,te,(ie,ae,se)=>{ie=w*Math.floor(ie/w),ae=w*Math.floor(ae/w);const le=applyKernel(ne,re,ie,ae);d.bitmap.data[se]=le[0],d.bitmap.data[se+1]=le[1],d.bitmap.data[se+2]=le[2],d.bitmap.data[se+3]=le[3]}),d},convolute(d,m){const g=ConvoluteOptionsSchema.parse(m),{kernel:w,x:D=0,y:j=0,w:q=d.bitmap.width-D,h:te=d.bitmap.height-j}="kernel"in g?g:{kernel:g},re=clone(d);return scan(re,D,j,q,te,(ne,ie,ae)=>{const se=applyKernel(re,w,ne,ie);d.bitmap.data[ae]=limit255(se[0]),d.bitmap.data[ae+1]=limit255(se[1]),d.bitmap.data[ae+2]=limit255(se[2]),d.bitmap.data[ae+3]=limit255(se[3])}),d},color(d,m){if(!m||!Array.isArray(m))throw new Error("actions must be an array");return m.forEach(g=>ColorActionNameSchema.parse(g)),m=m.map(g=>(g.apply!=="xor"&&g.apply!=="mix"||(g.params[0]=tinycolor(g.params[0]).toRgb()),g)),d.scan((g,w,D)=>{let j={r:d.bitmap.data[D],g:d.bitmap.data[D+1],b:d.bitmap.data[D+2]};const q=(te,re)=>limit255(j[te]+re);m.forEach(te=>{var re,ne;if(te.apply==="mix")j=mix(j,te.params[0],te.params[1]);else if(te.apply==="tint")j=mix(j,{r:255,g:255,b:255},(re=te.params)==null?void 0:re[0]);else if(te.apply==="shade")j=mix(j,{r:0,g:0,b:0},(ne=te.params)==null?void 0:ne[0]);else if(te.apply==="xor")j={r:j.r^te.params[0].r,g:j.g^te.params[0].g,b:j.b^te.params[0].b};else if(te.apply==="red")j.r=q("r",te.params[0]);else if(te.apply==="green")j.g=q("g",te.params[0]);else if(te.apply==="blue")j.b=q("b",te.params[0]);else{te.apply==="hue"&&(te.apply="spin");const ie=tinycolor(j),ae=ie[te.apply].bind(ie);if(!ae)throw new Error("action "+te.apply+" not supported");j=ae(...te.params||[]).toRgb()}}),d.bitmap.data[D]=j.r,d.bitmap.data[D+1]=j.g,d.bitmap.data[D+2]=j.b}),d}};var lib$1={},ieee754={read:function(d,m,g,w,D){var j,q,te=8*D-w-1,re=(1<<te)-1,ne=re>>1,ie=-7,ae=g?D-1:0,se=g?-1:1,le=d[m+ae];for(ae+=se,j=le&(1<<-ie)-1,le>>=-ie,ie+=te;ie>0;j=256*j+d[m+ae],ae+=se,ie-=8);for(q=j&(1<<-ie)-1,j>>=-ie,ie+=w;ie>0;q=256*q+d[m+ae],ae+=se,ie-=8);if(j===0)j=1-ne;else{if(j===re)return q?NaN:1/0*(le?-1:1);q+=Math.pow(2,w),j-=ne}return(le?-1:1)*q*Math.pow(2,j-w)},write:function(d,m,g,w,D,j){var q,te,re,ne=8*j-D-1,ie=(1<<ne)-1,ae=ie>>1,se=D===23?Math.pow(2,-24)-Math.pow(2,-77):0,le=w?0:j-1,ue=w?1:-1,ce=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(te=isNaN(m)?1:0,q=ie):(q=Math.floor(Math.log(m)/Math.LN2),m*(re=Math.pow(2,-q))<1&&(q--,re*=2),(m+=q+ae>=1?se/re:se*Math.pow(2,1-ae))*re>=2&&(q++,re/=2),q+ae>=ie?(te=0,q=ie):q+ae>=1?(te=(m*re-1)*Math.pow(2,D),q+=ae):(te=m*Math.pow(2,ae-1)*Math.pow(2,D),q=0));D>=8;d[g+le]=255&te,le+=ue,te/=256,D-=8);for(q=q<<D|te,ne+=D;ne>0;d[g+le]=255&q,le+=ue,q/=256,ne-=8);d[g+le-ue]|=128*ce}};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.AnsiStringType=d.StringType=d.BufferType=d.Uint8ArrayType=d.IgnoreType=d.Float80_LE=d.Float80_BE=d.Float64_LE=d.Float64_BE=d.Float32_LE=d.Float32_BE=d.Float16_LE=d.Float16_BE=d.INT64_BE=d.UINT64_BE=d.INT64_LE=d.UINT64_LE=d.INT32_LE=d.INT32_BE=d.INT24_BE=d.INT24_LE=d.INT16_LE=d.INT16_BE=d.INT8=d.UINT32_BE=d.UINT32_LE=d.UINT24_BE=d.UINT24_LE=d.UINT16_BE=d.UINT16_LE=d.UINT8=void 0;const m=ieee754;function g(D){return new DataView(D.buffer,D.byteOffset)}d.UINT8={len:1,get:(D,j)=>g(D).getUint8(j),put:(D,j,q)=>(g(D).setUint8(j,q),j+1)},d.UINT16_LE={len:2,get:(D,j)=>g(D).getUint16(j,!0),put:(D,j,q)=>(g(D).setUint16(j,q,!0),j+2)},d.UINT16_BE={len:2,get:(D,j)=>g(D).getUint16(j),put:(D,j,q)=>(g(D).setUint16(j,q),j+2)},d.UINT24_LE={len:3,get(D,j){const q=g(D);return q.getUint8(j)+(q.getUint16(j+1,!0)<<8)},put(D,j,q){const te=g(D);return te.setUint8(j,255&q),te.setUint16(j+1,q>>8,!0),j+3}},d.UINT24_BE={len:3,get(D,j){const q=g(D);return(q.getUint16(j)<<8)+q.getUint8(j+2)},put(D,j,q){const te=g(D);return te.setUint16(j,q>>8),te.setUint8(j+2,255&q),j+3}},d.UINT32_LE={len:4,get:(D,j)=>g(D).getUint32(j,!0),put:(D,j,q)=>(g(D).setUint32(j,q,!0),j+4)},d.UINT32_BE={len:4,get:(D,j)=>g(D).getUint32(j),put:(D,j,q)=>(g(D).setUint32(j,q),j+4)},d.INT8={len:1,get:(D,j)=>g(D).getInt8(j),put:(D,j,q)=>(g(D).setInt8(j,q),j+1)},d.INT16_BE={len:2,get:(D,j)=>g(D).getInt16(j),put:(D,j,q)=>(g(D).setInt16(j,q),j+2)},d.INT16_LE={len:2,get:(D,j)=>g(D).getInt16(j,!0),put:(D,j,q)=>(g(D).setInt16(j,q,!0),j+2)},d.INT24_LE={len:3,get(D,j){const q=d.UINT24_LE.get(D,j);return q>8388607?q-16777216:q},put(D,j,q){const te=g(D);return te.setUint8(j,255&q),te.setUint16(j+1,q>>8,!0),j+3}},d.INT24_BE={len:3,get(D,j){const q=d.UINT24_BE.get(D,j);return q>8388607?q-16777216:q},put(D,j,q){const te=g(D);return te.setUint16(j,q>>8),te.setUint8(j+2,255&q),j+3}},d.INT32_BE={len:4,get:(D,j)=>g(D).getInt32(j),put:(D,j,q)=>(g(D).setInt32(j,q),j+4)},d.INT32_LE={len:4,get:(D,j)=>g(D).getInt32(j,!0),put:(D,j,q)=>(g(D).setInt32(j,q,!0),j+4)},d.UINT64_LE={len:8,get:(D,j)=>g(D).getBigUint64(j,!0),put:(D,j,q)=>(g(D).setBigUint64(j,q,!0),j+8)},d.INT64_LE={len:8,get:(D,j)=>g(D).getBigInt64(j,!0),put:(D,j,q)=>(g(D).setBigInt64(j,q,!0),j+8)},d.UINT64_BE={len:8,get:(D,j)=>g(D).getBigUint64(j),put:(D,j,q)=>(g(D).setBigUint64(j,q),j+8)},d.INT64_BE={len:8,get:(D,j)=>g(D).getBigInt64(j),put:(D,j,q)=>(g(D).setBigInt64(j,q),j+8)},d.Float16_BE={len:2,get(D,j){return m.read(D,j,!1,10,this.len)},put(D,j,q){return m.write(D,q,j,!1,10,this.len),j+this.len}},d.Float16_LE={len:2,get(D,j){return m.read(D,j,!0,10,this.len)},put(D,j,q){return m.write(D,q,j,!0,10,this.len),j+this.len}},d.Float32_BE={len:4,get:(D,j)=>g(D).getFloat32(j),put:(D,j,q)=>(g(D).setFloat32(j,q),j+4)},d.Float32_LE={len:4,get:(D,j)=>g(D).getFloat32(j,!0),put:(D,j,q)=>(g(D).setFloat32(j,q,!0),j+4)},d.Float64_BE={len:8,get:(D,j)=>g(D).getFloat64(j),put:(D,j,q)=>(g(D).setFloat64(j,q),j+8)},d.Float64_LE={len:8,get:(D,j)=>g(D).getFloat64(j,!0),put:(D,j,q)=>(g(D).setFloat64(j,q,!0),j+8)},d.Float80_BE={len:10,get(D,j){return m.read(D,j,!1,63,this.len)},put(D,j,q){return m.write(D,q,j,!1,63,this.len),j+this.len}},d.Float80_LE={len:10,get(D,j){return m.read(D,j,!0,63,this.len)},put(D,j,q){return m.write(D,q,j,!0,63,this.len),j+this.len}},d.IgnoreType=class{constructor(D){this.len=D}get(D,j){}},d.Uint8ArrayType=class{constructor(D){this.len=D}get(D,j){return D.subarray(j,j+this.len)}},d.BufferType=class{constructor(D){this.len=D}get(D,j){return Buffer.from(D.subarray(j,j+this.len))}},d.StringType=class{constructor(D,j){this.len=D,this.encoding=j}get(D,j){return Buffer.from(D).toString(this.encoding,j,j+this.len)}};class w{constructor(j){this.len=j}static decode(j,q,te){let re="";for(let ne=q;ne<te;++ne)re+=w.codePointToString(w.singleByteDecoder(j[ne]));return re}static inRange(j,q,te){return q<=j&&j<=te}static codePointToString(j){return j<=65535?String.fromCharCode(j):(j-=65536,String.fromCharCode(55296+(j>>10),56320+(1023&j)))}static singleByteDecoder(j){if(w.inRange(j,0,127))return j;const q=w.windows1252[j-128];if(q===null)throw Error("invaliding encoding");return q}get(j,q=0){return w.decode(j,q,q+this.len)}}d.AnsiStringType=w,w.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1);var core$1={},ReadStreamTokenizer$1={},AbstractTokenizer$1={},lib={},EndOfFileStream={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.EndOfStreamError=d.defaultMessages=void 0,d.defaultMessages="End-Of-Stream";class m extends Error{constructor(){super(d.defaultMessages)}}d.EndOfStreamError=m})(EndOfFileStream);var StreamReader={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0}),Deferred$1.Deferred=void 0;class Deferred{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((m,g)=>{this.reject=g,this.resolve=m})}}Deferred$1.Deferred=Deferred,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;const m=EndOfFileStream,g=Deferred$1;var w=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.StreamReader=class{constructor(D){if(this.s=D,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!D.read||!D.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new m.EndOfStreamError)),this.s.once("error",j=>this.reject(j)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(D,j,q){const te=await this.read(D,j,q);return this.peekQueue.push(D.subarray(j,j+te)),te}async read(D,j,q){if(q===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new m.EndOfStreamError;let te=q,re=0;for(;this.peekQueue.length>0&&te>0;){const ne=this.peekQueue.pop();if(!ne)throw new Error("peekData should be defined");const ie=Math.min(ne.length,te);D.set(ne.subarray(0,ie),j+re),re+=ie,te-=ie,ie<ne.length&&this.peekQueue.push(ne.subarray(ie))}for(;te>0&&!this.endOfStream;){const ne=Math.min(te,1048576),ie=await this.readFromStream(D,j+re,ne);if(re+=ie,ie<ne)break;te-=ie}return re}async readFromStream(D,j,q){const te=this.s.read(q);if(te)return D.set(te,j),te.length;{const re={buffer:D,offset:j,length:q,deferred:new g.Deferred};return this.deferred=re.deferred,this.s.once("readable",()=>{this.readDeferred(re)}),re.deferred.promise}}readDeferred(D){const j=this.s.read(D.length);j?(D.buffer.set(j,D.offset),D.deferred.resolve(j.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(D)})}reject(D){this.endOfStream=!0,this.deferred&&(this.deferred.reject(D),this.deferred=null)}}}(StreamReader),function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;var m=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return m.EndOfStreamError}});var g=StreamReader;Object.defineProperty(d,"StreamReader",{enumerable:!0,get:function(){return g.StreamReader}})}(lib),Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0}),AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib;class AbstractTokenizer{constructor(m){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=m||{}}async readToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.readBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async peekToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.peekBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async readNumber(m){if(await this.readBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async peekNumber(m){if(await this.peekBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async ignore(m){if(this.fileInfo.size!==void 0){const g=this.fileInfo.size-this.position;if(m>g)return this.position+=g,g}return this.position+=m,m}async close(){}normalizeOptions(m,g){if(g&&g.position!==void 0&&g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return g?{mayBeLess:g.mayBeLess===!0,offset:g.offset?g.offset:0,length:g.length?g.length:m.length-(g.offset?g.offset:0),position:g.position?g.position:this.position}:{mayBeLess:!1,offset:0,length:m.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer,Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0}),ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(m,g){super(g),this.streamReader=new peek_readable_1$1.StreamReader(m)}async getFileInfo(){return this.fileInfo}async readBuffer(m,g){const w=this.normalizeOptions(m,g),D=w.position-this.position;if(D>0)return await this.ignore(D),this.readBuffer(m,g);if(D<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(w.length===0)return 0;const j=await this.streamReader.read(m,w.offset,w.length);if(this.position+=j,(!g||!g.mayBeLess)&&j<w.length)throw new peek_readable_1$1.EndOfStreamError;return j}async peekBuffer(m,g){const w=this.normalizeOptions(m,g);let D=0;if(w.position){const j=w.position-this.position;if(j>0){const q=new Uint8Array(w.length+j);return D=await this.peekBuffer(q,{mayBeLess:w.mayBeLess}),m.set(q.subarray(j),w.offset),D-j}if(j<0)throw new Error("Cannot peek from a negative offset in a stream")}if(w.length>0){try{D=await this.streamReader.peek(m,w.offset,w.length)}catch(j){if(g&&g.mayBeLess&&j instanceof peek_readable_1$1.EndOfStreamError)return 0;throw j}if(!w.mayBeLess&&D<w.length)throw new peek_readable_1$1.EndOfStreamError}return D}async ignore(m){const g=Math.min(maxBufferSize,m),w=new Uint8Array(g);let D=0;for(;D<m;){const j=m-D,q=await this.readBuffer(w,{length:Math.min(g,j)});if(q<0)return q;D+=q}return D}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0}),BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(m,g){super(g),this.uint8Array=m,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:m.length}async readBuffer(m,g){if(g&&g.position){if(g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=g.position}const w=await this.peekBuffer(m,g);return this.position+=w,w}async peekBuffer(m,g){const w=this.normalizeOptions(m,g),D=Math.min(this.uint8Array.length-w.position,w.length);if(!w.mayBeLess&&D<w.length)throw new peek_readable_1.EndOfStreamError;return m.set(this.uint8Array.subarray(w.position,w.position+D),w.offset),D}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.fromBuffer=d.fromStream=d.EndOfStreamError=void 0;const m=ReadStreamTokenizer$1,g=BufferTokenizer$1;var w=lib;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.fromStream=function(D,j){return j=j||{},new m.ReadStreamTokenizer(D,j)},d.fromBuffer=function(D,j){return new g.BufferTokenizer(D,j)}}(core$1);var util={stringToBytes:d=>[...d].map(m=>m.charCodeAt(0)),tarHeaderChecksumMatches:(d,m=0)=>{const g=parseInt(d.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(g))return!1;let w=256;for(let D=m;D<m+148;D++)w+=d[D];for(let D=m+156;D<m+512;D++)w+=d[D];return g===w},uint32SyncSafeToken:{get:(d,m)=>127&d[m+3]|d[m+2]<<7|d[m+1]<<14|d[m]<<21,len:4}},supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token=lib$1,strtok3=core$1,{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=util,supported=supported$1,minimumBytes=4100;async function fromStream(d){const m=await strtok3.fromStream(d);try{return await fromTokenizer(m)}finally{await m.close()}}async function fromBuffer(d){if(!(d instanceof Uint8Array||d instanceof ArrayBuffer||Buffer.isBuffer(d)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof d}\``);const m=d instanceof Buffer?d:Buffer.from(d);if(m&&m.length>1)return fromTokenizer(strtok3.fromBuffer(m))}function _check(d,m,g){g={offset:0,...g};for(const[w,D]of m.entries())if(g.mask){if(D!==(g.mask[w]&d[w+g.offset]))return!1}else if(D!==d[w+g.offset])return!1;return!0}async function fromTokenizer(d){try{return _fromTokenizer(d)}catch(m){if(!(m instanceof strtok3.EndOfStreamError))throw m}}async function _fromTokenizer(d){let m=Buffer.alloc(minimumBytes);const g=(D,j)=>_check(m,D,j),w=(D,j)=>g(stringToBytes(D),j);if(d.fileInfo.size||(d.fileInfo.size=Number.MAX_SAFE_INTEGER),await d.peekBuffer(m,{length:12,mayBeLess:!0}),g([66,77]))return{ext:"bmp",mime:"image/bmp"};if(g([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(g([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(g([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(g([37,33]))return await d.peekBuffer(m,{length:24,mayBeLess:!0}),w("PS-Adobe-",{offset:2})&&w(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(g([31,160])||g([31,157]))return{ext:"Z",mime:"application/x-compress"};if(g([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(g([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(g([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(g([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(w("ID3")){await d.ignore(6);const D=await d.readToken(uint32SyncSafeToken);return d.position+D>d.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await d.ignore(D),fromTokenizer(d))}if(w("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((m[0]===67||m[0]===70)&&g([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(g([71,73,70]))return{ext:"gif",mime:"image/gif"};if(w("FLIF"))return{ext:"flif",mime:"image/flif"};if(w("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(w("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(w("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(w("FORM"))return{ext:"aif",mime:"audio/aiff"};if(w("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(g([80,75,3,4])){try{for(;d.position+30<d.fileInfo.size;){await d.readBuffer(m,{length:30});const D={compressedSize:m.readUInt32LE(18),uncompressedSize:m.readUInt32LE(22),filenameLength:m.readUInt16LE(26),extraFieldLength:m.readUInt16LE(28)};if(D.filename=await d.readToken(new Token.StringType(D.filenameLength,"utf-8")),await d.ignore(D.extraFieldLength),D.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(D.filename.endsWith(".rels")||D.filename.endsWith(".xml"))switch(D.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(D.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(D.filename.startsWith("3D/")&&D.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(D.filename==="mimetype"&&D.compressedSize===D.uncompressedSize)switch(await d.readToken(new Token.StringType(D.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(D.compressedSize===0){let j=-1;for(;j<0&&d.position<d.fileInfo.size;)await d.peekBuffer(m,{mayBeLess:!0}),j=m.indexOf("504B0304",0,"hex"),await d.ignore(j>=0?j:m.length)}else await d.ignore(D.compressedSize)}}catch(D){if(!(D instanceof strtok3.EndOfStreamError))throw D}return{ext:"zip",mime:"application/zip"}}if(w("OggS")){await d.ignore(28);const D=Buffer.alloc(8);return await d.readBuffer(D),_check(D,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(D,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(D,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(D,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(D,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(D,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(g([80,75])&&(m[2]===3||m[2]===5||m[2]===7)&&(m[3]===4||m[3]===6||m[3]===8))return{ext:"zip",mime:"application/zip"};if(w("ftyp",{offset:4})&&96&m[8]){const D=m.toString("binary",8,12).replace("\0"," ").trim();switch(D){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return D.startsWith("3g")?D.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(w("MThd"))return{ext:"mid",mime:"audio/midi"};if(w("wOFF")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(w("wOF2")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(g([212,195,178,161])||g([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(w("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(w("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(w("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(g([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(w("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(w("%PDF")){await d.ignore(1350);const D=10485760,j=Buffer.alloc(Math.min(D,d.fileInfo.size));return await d.readBuffer(j,{mayBeLess:!0}),j.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(g([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(g([73,73,42,0]))return w("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:g([28,0,254,0],{offset:8})||g([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:g([8,0,0,0],{offset:4})&&(g([45,0,254,0],{offset:8})||g([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(m=Buffer.alloc(24),await d.peekBuffer(m),(g([16,251,134,1],{offset:4})||g([8,0,0,0],{offset:4}))&&g([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(g([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(w("MAC "))return{ext:"ape",mime:"audio/ape"};if(g([26,69,223,163])){async function D(){const re=await d.peekNumber(Token.UINT8);let ne=128,ie=0;for(;!(re&ne)&&ne!==0;)++ie,ne>>=1;const ae=Buffer.alloc(ie+1);return await d.readBuffer(ae),ae}async function j(){const re=await D(),ne=await D();ne[0]^=128>>ne.length-1;const ie=Math.min(6,ne.length);return{id:re.readUIntBE(0,re.length),len:ne.readUIntBE(ne.length-ie,ie)}}async function q(re,ne){for(;ne>0;){const ie=await j();if(ie.id===17026)return d.readToken(new Token.StringType(ie.len,"utf-8"));await d.ignore(ie.len),--ne}}const te=await j();switch(await q(0,te.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(g([82,73,70,70])){if(g([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(g([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(g([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(w("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(g([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(w("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(w("MSCF")||w("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(g([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(g([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(g([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(g([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(w("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(w("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(g([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(w("IMPM"))return{ext:"it",mime:"audio/x-it"};if(w("-lh0-",{offset:2})||w("-lh1-",{offset:2})||w("-lh2-",{offset:2})||w("-lh3-",{offset:2})||w("-lh4-",{offset:2})||w("-lh5-",{offset:2})||w("-lh6-",{offset:2})||w("-lh7-",{offset:2})||w("-lzs-",{offset:2})||w("-lz4-",{offset:2})||w("-lz5-",{offset:2})||w("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(g([0,0,1,186])){if(g([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(g([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(w("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(g([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(w("<?xml "))return{ext:"xml",mime:"application/xml"};if(g([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(g([82,97,114,33,26,7])&&(m[6]===0||m[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(w("solid "))return{ext:"stl",mime:"model/stl"};if(w("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(w("!<arch>"))return await d.ignore(8),await d.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(g([137,80,78,71,13,10,26,10])){async function D(){return{length:await d.readToken(Token.INT32_BE),type:await d.readToken(new Token.StringType(4,"binary"))}}await d.ignore(8);do{const j=await D();if(j.length<0)return;switch(j.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await d.ignore(j.length+4)}}while(d.position+8<d.fileInfo.size);return{ext:"png",mime:"image/png"}}if(g([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(g([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(g([102,114,101,101],{offset:4})||g([109,100,97,116],{offset:4})||g([109,111,111,118],{offset:4})||g([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(g([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(w("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(g([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(g([48,38,178,117,142,102,207,17,166,217])){async function D(){const j=Buffer.alloc(16);return await d.readBuffer(j),{id:j,size:Number(await d.readToken(Token.UINT64_LE))}}for(await d.ignore(30);d.position+24<d.fileInfo.size;){const j=await D();let q=j.size-24;if(_check(j.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const te=Buffer.alloc(16);if(q-=await d.readBuffer(te),_check(te,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(te,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await d.ignore(q)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(g([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((g([126,16,4])||g([126,24,4]))&&g([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(g([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(g([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await d.ignore(20),await d.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(g([255,10])||g([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(g([0,0,1,186])||g([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(g([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(g([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(g([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(g([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await d.peekBuffer(m,{length:Math.min(256,d.fileInfo.size),mayBeLess:!0}),w("BEGIN:")){if(w("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(w("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(w("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(w("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(w("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(g([4,0,0,0])&&m.length>=16){const D=m.readUInt32LE(12);if(D>12&&m.length>=D+16)try{const j=m.slice(16,D+16).toString();if(JSON.parse(j).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(g([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(w("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(g([71],{offset:4})&&(g([71],{offset:192})||g([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(g([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(g([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(g([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(g([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(g([76,80],{offset:34})&&(g([0,0,1],{offset:8})||g([1,0,2],{offset:8})||g([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(g([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await d.peekBuffer(m,{length:Math.min(512,d.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(m))return{ext:"tar",mime:"application/x-tar"};if(g([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(w("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(m.length>=2&&g([255,224],{offset:0,mask:[255,224]})){if(g([16],{offset:1,mask:[22]}))return g([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(g([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(g([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(g([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const d=new stream.PassThrough;let m;m=stream.pipeline?stream.pipeline(readableStream,d,()=>{}):readableStream.pipe(d);const g=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const w=await fromBuffer(g);d.fileType=w}catch(w){reject(w)}resolve(m)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)});var core=fileType,fileType$1=getDefaultExportFromCjs(core);function to(d,m){return d.then(function(g){return[null,g]}).catch(function(g){return[g,void 0]})}const writeFile=async()=>{throw new Error("Not supported")};function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let d=0;d<arguments.length;d++)this.define(arguments[d]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(d,m){for(let g in d){let w=d[g].map(function(D){return D.toLowerCase()});g=g.toLowerCase();for(let D=0;D<w.length;D++){const j=w[D];if(j[0]!=="*"){if(!m&&j in this._types)throw new Error('Attempt to change mapping for "'+j+'" extension from "'+this._types[j]+'" to "'+g+'". Pass `force=true` to allow this, otherwise remove "'+j+'" from the list of extensions for "'+g+'".');this._types[j]=g}}if(m||!this._extensions[g]){const D=w[0];this._extensions[g]=D[0]!=="*"?D:D.substr(1)}}},Mime$1.prototype.getType=function(d){let m=(d=String(d)).replace(/^.*[/\\]/,"").toLowerCase(),g=m.replace(/^.*\./,"").toLowerCase(),w=m.length<d.length;return(g.length<m.length-1||!w)&&this._types[g]||null},Mime$1.prototype.getExtension=function(d){return(d=/^\s*([^;\s]*)/.test(d)&&RegExp.$1)&&this._extensions[d.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard),mime=getDefaultExportFromCjs(lite),HorizontalAlign,HorizontalAlign2,VerticalAlign,VerticalAlign2,BlendMode,BlendMode2;function srcOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(d.r*d.a+m.r*m.a*(1-d.a))/w,g:(d.g*d.a+m.g*m.a*(1-d.a))/w,b:(d.b*d.a+m.b*m.a*(1-d.a))/w,a:w}}function dstOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(m.r*m.a+d.r*d.a*(1-m.a))/w,g:(m.g*m.a+d.g*d.a*(1-m.a))/w,b:(m.b*m.a+d.b*d.a*(1-m.a))/w,a:w}}function multiply(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,j=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(D*te+D*(1-m.a)+te*(1-d.a))/w,g:(j*re+j*(1-m.a)+re*(1-d.a))/w,b:(q*ne+q*(1-m.a)+ne*(1-d.a))/w,a:w}}function add(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,j=d.g*d.a,q=d.b*d.a;return{r:(D+m.r*m.a)/w,g:(j+m.g*m.a)/w,b:(q+m.b*m.a)/w,a:w}}function screen(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,j=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(D*m.a+te*d.a-D*te+D*(1-m.a)+te*(1-d.a))/w,g:(j*m.a+re*d.a-j*re+j*(1-m.a)+re*(1-d.a))/w,b:(q*m.a+ne*d.a-q*ne+q*(1-m.a)+ne*(1-d.a))/w,a:w}}function overlay(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,j=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(2*te<=m.a?2*D*te+D*(1-m.a)+te*(1-d.a):D*(1+m.a)+te*(1+d.a)-2*te*D-m.a*d.a)/w,g:(2*re<=m.a?2*j*re+j*(1-m.a)+re*(1-d.a):j*(1+m.a)+re*(1+d.a)-2*re*j-m.a*d.a)/w,b:(2*ne<=m.a?2*q*ne+q*(1-m.a)+ne*(1-d.a):q*(1+m.a)+ne*(1+d.a)-2*ne*q-m.a*d.a)/w,a:w}}function darken(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,j=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(Math.min(D*m.a,te*d.a)+D*(1-m.a)+te*(1-d.a))/w,g:(Math.min(j*m.a,re*d.a)+j*(1-m.a)+re*(1-d.a))/w,b:(Math.min(q*m.a,ne*d.a)+q*(1-m.a)+ne*(1-d.a))/w,a:w}}function lighten(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,j=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(Math.max(D*m.a,te*d.a)+D*(1-m.a)+te*(1-d.a))/w,g:(Math.max(j*m.a,re*d.a)+j*(1-m.a)+re*(1-d.a))/w,b:(Math.max(q*m.a,ne*d.a)+q*(1-m.a)+ne*(1-d.a))/w,a:w}}function hardLight(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,j=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(2*D<=d.a?2*D*te+D*(1-m.a)+te*(1-d.a):D*(1+m.a)+te*(1+d.a)-2*te*D-m.a*d.a)/w,g:(2*j<=d.a?2*j*re+j*(1-m.a)+re*(1-d.a):j*(1+m.a)+re*(1+d.a)-2*re*j-m.a*d.a)/w,b:(2*q<=d.a?2*q*ne+q*(1-m.a)+ne*(1-d.a):q*(1+m.a)+ne*(1+d.a)-2*ne*q-m.a*d.a)/w,a:w}}function difference(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,j=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(D+te-2*Math.min(D*m.a,te*d.a))/w,g:(j+re-2*Math.min(j*m.a,re*d.a))/w,b:(q+ne-2*Math.min(q*m.a,ne*d.a))/w,a:w}}function exclusion(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,j=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(D*m.a+te*d.a-2*D*te+D*(1-m.a)+te*(1-d.a))/w,g:(j*m.a+re*d.a-2*j*re+j*(1-m.a)+re*(1-d.a))/w,b:(q*m.a+ne*d.a-2*q*ne+q*(1-m.a)+ne*(1-d.a))/w,a:w}}HorizontalAlign2=HorizontalAlign||(HorizontalAlign={}),HorizontalAlign2[HorizontalAlign2.LEFT=1]="LEFT",HorizontalAlign2[HorizontalAlign2.CENTER=2]="CENTER",HorizontalAlign2[HorizontalAlign2.RIGHT=4]="RIGHT",VerticalAlign2=VerticalAlign||(VerticalAlign={}),VerticalAlign2[VerticalAlign2.TOP=8]="TOP",VerticalAlign2[VerticalAlign2.MIDDLE=16]="MIDDLE",VerticalAlign2[VerticalAlign2.BOTTOM=32]="BOTTOM",BlendMode2=BlendMode||(BlendMode={}),BlendMode2.SRC_OVER="srcOver",BlendMode2.DST_OVER="dstOver",BlendMode2.MULTIPLY="multiply",BlendMode2.ADD="add",BlendMode2.SCREEN="screen",BlendMode2.OVERLAY="overlay",BlendMode2.DARKEN="darken",BlendMode2.LIGHTEN="lighten",BlendMode2.HARD_LIGHT="hardLight",BlendMode2.DIFFERENCE="difference",BlendMode2.EXCLUSION="exclusion";const names=[srcOver,dstOver,multiply,add,screen,overlay,darken,lighten,hardLight,difference,exclusion];var compositeModes=Object.freeze({__proto__:null,add,darken,difference,dstOver,exclusion,hardLight,lighten,multiply,names,overlay,screen,srcOver});function composite(d,m,g=0,w=0,D={}){if(!(m instanceof d.constructor))throw new Error("The source must be a Jimp image");if(typeof g!="number"||typeof w!="number")throw new Error("x and y must be numbers");const{mode:j=BlendMode.SRC_OVER}=D;let{opacitySource:q=1,opacityDest:te=1}=D;(typeof q!="number"||q<0||q>1)&&(q=1),(typeof te!="number"||te<0||te>1)&&(te=1);const re=compositeModes[j];return g=Math.round(g),w=Math.round(w),te!==1&&d.scan((ne,ie,ae)=>{const se=d.bitmap.data[ae+3]*te;d.bitmap.data[ae+3]=se}),m.scan((ne,ie,ae)=>{const se=d.getPixelIndex(g+ne,w+ie,Edge.CROP);if(se===-1)return;const le=re({r:m.bitmap.data[ae+0]/255,g:m.bitmap.data[ae+1]/255,b:m.bitmap.data[ae+2]/255,a:m.bitmap.data[ae+3]/255},{r:d.bitmap.data[se+0]/255,g:d.bitmap.data[se+1]/255,b:d.bitmap.data[se+2]/255,a:d.bitmap.data[se+3]/255},q);d.bitmap.data[se+0]=limit255(255*le.r),d.bitmap.data[se+1]=limit255(255*le.g),d.bitmap.data[se+2]=limit255(255*le.b),d.bitmap.data[se+3]=limit255(255*le.a)}),d}var jpeg$1={parseSections:function(d,m){var g,w;for(d.setBigEndian(!0);d.remainingLength()>0&&w!==218;){if(d.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");g=(w=d.nextUInt8())>=208&&w<=217||w===218?0:d.nextUInt16()-2,m(w,d.branch(0,g)),d.skip(g)}},getSizeFromSOFSection:function(d){return d.skip(1),{height:d.nextUInt16(),width:d.nextUInt16()}},getSectionName:function(d){var m,g;switch(d){case 216:m="SOI";break;case 196:m="DHT";break;case 219:m="DQT";break;case 221:m="DRI";break;case 218:m="SOS";break;case 254:m="COM";break;case 217:m="EOI";break;default:d>=224&&d<=239?(m="APP",g=d-224):d>=192&&d<=207&&d!==196&&d!==200&&d!==204?(m="SOF",g=d-192):d>=208&&d<=215&&(m="RST",g=d-208)}var w={name:m};return typeof g=="number"&&(w.index=g),w}};function readExifValue(d,m){switch(d){case 1:return m.nextUInt8();case 3:case 8:return m.nextUInt16();case 4:case 9:return m.nextUInt32();case 5:return[m.nextUInt32(),m.nextUInt32()];case 6:return m.nextInt8();case 10:return[m.nextInt32(),m.nextInt32()];case 11:return m.nextFloat();case 12:return m.nextDouble();default:throw new Error("Invalid format while decoding: "+d)}}function getBytesPerComponent(d){switch(d){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function readExifTag(d,m){var g,w,D=m.nextUInt16(),j=m.nextUInt16(),q=getBytesPerComponent(j),te=m.nextUInt32(),re=q*te;if(re>4&&(m=d.openWithOffset(m.nextUInt32())),j===2){var ne=(g=m.nextString(te)).indexOf("\0");ne!==-1&&(g=g.substr(0,ne))}else if(j===7)g=m.nextBuffer(te);else if(j!==0)for(g=[],w=0;w<te;++w)g.push(readExifValue(j,m));return re<4&&m.skip(4-re),[D,g,j]}function readIFDSection(d,m,g){var w,D,j=m.nextUInt16();for(D=0;D<j;++D)g((w=readExifTag(d,m))[0],w[1],w[2])}function readHeader(d){if(d.nextString(6)!=="Exif\0\0")throw new Error("Invalid EXIF header");var m=d.mark(),g=d.nextUInt16();if(g===18761)d.setBigEndian(!1);else{if(g!==19789)throw new Error("Invalid TIFF header");d.setBigEndian(!0)}if(d.nextUInt16()!==42)throw new Error("Invalid TIFF data");return m}var exif$2={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(d,m){var g,w,D,j;try{g=readHeader(d)}catch{return!1}var q=g.openWithOffset(d.nextUInt32()),te=this.IFD0;readIFDSection(g,q,function(ue,ce,de){switch(ue){case 34853:D=ce[0];break;case 34665:w=ce[0];break;default:m(te,ue,ce,de)}});var re=q.nextUInt32();if(re!==0){var ne=g.openWithOffset(re);readIFDSection(g,ne,m.bind(null,this.IFD1))}if(D){var ie=g.openWithOffset(D);readIFDSection(g,ie,m.bind(null,this.GPSIFD))}if(w){var ae=g.openWithOffset(w),se=this.InteropIFD;readIFDSection(g,ae,function(ue,ce,de){ue===40965?j=ce[0]:m(se,ue,ce,de)})}if(j){var le=g.openWithOffset(j);readIFDSection(g,le,m.bind(null,this.InteropIFD))}return!0}};function parseNumber(d){return parseInt(d,10)}var hours=3600,minutes=60;function parseDateTimeParts(d,m){d=d.map(parseNumber),m=m.map(parseNumber);var g=d[0],w=d[1]-1,D=d[2],j=m[0],q=m[1],te=m[2];return Date.UTC(g,w,D,j,q,te,0)/1e3}function parseDateWithTimezoneFormat(d){var m=d.substr(0,10).split("-"),g=d.substr(11,8).split(":"),w=d.substr(19,6).split(":").map(parseNumber),D=w[0]*hours+w[1]*minutes,j=parseDateTimeParts(m,g);if(typeof(j-=D)=="number"&&!isNaN(j))return j}function parseDateWithSpecFormat(d){var m=d.split(" "),g=parseDateTimeParts(m[0].split(":"),m[1].split(":"));if(typeof g=="number"&&!isNaN(g))return g}function parseExifDate(d){var m=d.length===19&&d.charAt(4)===":";return d.length===25&&d.charAt(10)==="T"?parseDateWithTimezoneFormat(d):m?parseDateWithSpecFormat(d):void 0}var date$1={parseDateWithSpecFormat,parseDateWithTimezoneFormat,parseExifDate},exif$1=exif$2,date=date$1,degreeTags=[{section:exif$1.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:exif$1.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],dateTags=[{section:exif$1.SubIFD,type:306,name:"ModifyDate"},{section:exif$1.SubIFD,type:36867,name:"DateTimeOriginal"},{section:exif$1.SubIFD,type:36868,name:"CreateDate"},{section:exif$1.SubIFD,type:306,name:"ModifyDate"}],simplify$1={castDegreeValues:function(d,m){degreeTags.forEach(function(g){var w=d(g);if(w){var D=d({section:g.section,type:g.refType,name:g.refName})===g.posVal?1:-1,j=(w[0]+w[1]/60+w[2]/3600)*D;m(g,j)}})},castDateValues:function(d,m){dateTags.forEach(function(g){var w=d(g);if(w){var D=date.parseExifDate(w);D!==void 0&&m(g,D)}})},simplifyValue:function(d,m){return Array.isArray(d)&&(d=d.map(function(g){return m===10||m===5?g[0]/g[1]:g})).length===1&&(d=d[0]),d}},exifTags,hasRequiredExifTags;function requireExifTags(){return hasRequiredExifTags?exifTags:(hasRequiredExifTags=1,exifTags={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}})}var jpeg=jpeg$1,exif=exif$2,simplify=simplify$1;function ExifResult(d,m,g,w,D,j,q){this.startMarker=d,this.tags=m,this.imageSize=g,this.thumbnailOffset=w,this.thumbnailLength=D,this.thumbnailType=j,this.app1Offset=q}function Parser$1(d){this.stream=d,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}ExifResult.prototype={hasThumbnail:function(d){return!(!this.thumbnailOffset||!this.thumbnailLength)&&(typeof d!="string"||(d.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:d.toLowerCase().trim()==="image/tiff"&&this.thumbnailType===1))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var d,m=this._getThumbnailStream();return jpeg.parseSections(m,function(g,w){jpeg.getSectionName(g).name==="SOF"&&(d=jpeg.getSizeFromSOFSection(w))}),d}},Parser$1.prototype={enableBinaryFields:function(d){return this.flags.readBinaryTags=!!d,this},enablePointers:function(d){return this.flags.hidePointers=!d,this},enableTagNames:function(d){return this.flags.resolveTagNames=!!d,this},enableImageSize:function(d){return this.flags.imageSize=!!d,this},enableReturnTags:function(d){return this.flags.returnTags=!!d,this},enableSimpleValues:function(d){return this.flags.simplifyValues=!!d,this},parse:function(){var d,m,g,w,D,j,q,te,re,ne=this.stream.mark(),ie=ne.openWithOffset(0),ae=this.flags;return ae.resolveTagNames&&(q=requireExifTags()),ae.resolveTagNames?(d={},te=function(se){return d[se.name]},re=function(se,le){d[se.name]=le}):(d=[],te=function(se){var le;for(le=0;le<d.length;++le)if(d[le].type===se.type&&d[le].section===se.section)return d.value},re=function(se,le){var ue;for(ue=0;ue<d.length;++ue)if(d[ue].type===se.type&&d[ue].section===se.section)return void(d.value=le)}),jpeg.parseSections(ie,function(se,le){var ue=le.offsetFrom(ne);se===225?exif.parseTags(le,function(ce,de,he,pe){if(ae.readBinaryTags||pe!==7){if(de===513){if(g=he[0],ae.hidePointers)return}else if(de===514){if(w=he[0],ae.hidePointers)return}else if(de===259&&(D=he[0],ae.hidePointers))return;if(ae.returnTags)if(ae.simplifyValues&&(he=simplify.simplifyValue(he,pe)),ae.resolveTagNames){var me=(ce===exif.GPSIFD?q.gps:q.exif)[de];me||(me=q.exif[de]),d.hasOwnProperty(me)||(d[me]=he)}else d.push({section:ce,type:de,value:he})}})&&(j=ue):ae.imageSize&&jpeg.getSectionName(se).name==="SOF"&&(m=jpeg.getSizeFromSOFSection(le))}),ae.simplifyValues&&(simplify.castDegreeValues(te,re),simplify.castDateValues(te,re)),new ExifResult(ne,d,m,g,w,D,j)}};var parser=Parser$1,domBufferstream,hasRequiredDomBufferstream,bufferstream,hasRequiredBufferstream;function requireDomBufferstream(){if(hasRequiredDomBufferstream)return domBufferstream;function d(m,g,w,D,j,q){this.global=j,g=g||0,w=w||m.byteLength-g,this.arrayBuffer=m.slice(g,g+w),this.view=new j.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(D),this.offset=0,this.parentOffset=(q||0)+g}return hasRequiredDomBufferstream=1,d.prototype={setBigEndian:function(m){this.littleEndian=!m},nextUInt8:function(){var m=this.view.getUint8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.view.getInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,m},nextUInt32:function(){var m=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,m},nextInt16:function(){var m=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,m},nextInt32:function(){var m=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,m},nextFloat:function(){var m=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,m},nextDouble:function(){var m=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,m},nextBuffer:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return g=String.fromCharCode.apply(null,new this.global.Uint8Array(g)),this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.arrayBuffer,g,m.arrayBuffer.byteLength-g,!m.littleEndian,m.global,m.parentOffset)},offset:this.offset,getParentOffset:function(){return m.parentOffset}}},offsetFrom:function(m){return this.parentOffset+this.offset-(m.offset+m.getParentOffset())},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.arrayBuffer.byteLength-(this.offset+m),new d(this.arrayBuffer,this.offset+m,g,!this.littleEndian,this.global,this.parentOffset)}},domBufferstream=d}function requireBufferstream(){if(hasRequiredBufferstream)return bufferstream;function d(m,g,w,D){this.buffer=m,this.offset=g||0,w=typeof w=="number"?w:m.length,this.endPosition=this.offset+w,this.setBigEndian(D)}return hasRequiredBufferstream=1,d.prototype={setBigEndian:function(m){this.bigEndian=!!m},nextUInt8:function(){var m=this.buffer.readUInt8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.buffer.readInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,m},nextUInt32:function(){var m=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,m},nextInt16:function(){var m=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,m},nextInt32:function(){var m=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,m},nextFloat:function(){var m=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,m},nextDouble:function(){var m=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,m},nextBuffer:function(m){var g=this.buffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.endPosition-this.offset},nextString:function(m){var g=this.buffer.toString("utf8",this.offset,this.offset+m);return this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.buffer,g,m.endPosition-g,m.bigEndian)},offset:this.offset}},offsetFrom:function(m){return this.offset-m.offset},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.endPosition-(this.offset+m),new d(this.buffer,this.offset+m,g,this.bigEndian)}},bufferstream=d}var Parser=parser;function getGlobal(){return(0,eval)("this")}var exifParser={create:function(d,m){if(d instanceof(m=m||getGlobal()).ArrayBuffer){var g=requireDomBufferstream();return new Parser(new g(d,0,d.byteLength,!0,m))}var w=requireBufferstream();return new Parser(new w(d,0,d.length,!0))}},EXIFParser=getDefaultExportFromCjs(exifParser);function getExifOrientation(d){const m=d._exif;return m&&m.tags&&m.tags.Orientation||1}function getExifOrientationTransformation(d){const m=d.bitmap.width,g=d.bitmap.height;switch(getExifOrientation(d)){case 1:default:return null;case 2:return function(w,D){return[m-w-1,D]};case 3:return function(w,D){return[m-w-1,g-D-1]};case 4:return function(w,D){return[w,g-D-1]};case 5:return function(w,D){return[D,w]};case 6:return function(w,D){return[D,g-w-1]};case 7:return function(w,D){return[m-D-1,g-w-1]};case 8:return function(w,D){return[m-D-1,w]}}}function transformBitmap(d,m,g,w){const D=d.bitmap.data,j=d.bitmap.width,q=Buffer.alloc(D.length);for(let te=0;te<m;te++)for(let re=0;re<g;re++){const[ne,ie]=w(te,re),ae=m*re+te<<2,se=j*ie+ne<<2,le=D.readUInt32BE(se);q.writeUInt32BE(le,ae)}d.bitmap.data=q,d.bitmap.width=m,d.bitmap.height=g,d._exif.tags.Orientation=1}function exifRotate(d){if(getExifOrientation(d)<2)return;const m=getExifOrientationTransformation(d),g=getExifOrientation(d)>4,w=g?d.bitmap.height:d.bitmap.width,D=g?d.bitmap.width:d.bitmap.height;m&&transformBitmap(d,w,D,m)}async function attemptExifRotate(d,m){try{d._exif=EXIFParser.create(m).parse(),exifRotate(d)}catch{}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(d,m,g)=>m in d?__defProp$2(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$2=(d,m,g)=>__defNormalProp$2(d,typeof m!="symbol"?m+"":m,g);const emptyBitmap={data:Buffer.alloc(0),width:0,height:0};function bufferFromArrayBuffer(d){const m=Buffer.alloc(d.byteLength),g=new Uint8Array(d);for(let w=0;w<m.length;++w)m[w]=g[w];return m}function createJimp({plugins:d,formats:m}={}){const g=d||[],w=(m||[]).map(j=>j()),D=class{constructor(j=emptyBitmap){if(__publicField$2(this,"bitmap",emptyBitmap),__publicField$2(this,"background",0),__publicField$2(this,"formats",[]),__publicField$2(this,"mime"),this.formats=w,"data"in j)this.bitmap=j;else if(this.bitmap={data:Buffer.alloc(j.width*j.height*4),width:j.width,height:j.height},j.color){this.background=typeof j.color=="string"?cssColorToHex(j.color):j.color;for(let q=0;q<this.bitmap.data.length;q+=4)this.bitmap.data.writeUInt32BE(this.background,q)}for(const q of g)for(const te in q)this[te]=(...re)=>{var ie;const ne=(ie=q[te])==null?void 0:ie.call(q,this,...re);return typeof ne=="object"&&"bitmap"in ne?(this.bitmap=ne.bitmap,this):ne}}static async read(j,q){if(Buffer.isBuffer(j)||j instanceof ArrayBuffer)return this.fromBuffer(j);const[te,re]=await to(fetch(j));if(te)throw new Error(`Could not load Buffer from URL: ${j}`);if(!re.ok)throw new Error(`HTTP Status ${re.status} for url ${j}`);const[ne,ie]=await to(re.arrayBuffer());if(ne)throw new Error(`Could not load Buffer from ${j}`);const ae=bufferFromArrayBuffer(ie);return this.fromBuffer(ae,q)}static fromBitmap(j){let q;if(j.data instanceof Buffer&&(q=Buffer.from(j.data)),(j.data instanceof Uint8Array||j.data instanceof Uint8ClampedArray)&&(q=Buffer.from(j.data.buffer)),Array.isArray(j.data)&&(q=Buffer.concat(j.data.map(te=>Buffer.from(te.toString(16).padStart(8,"0"),"hex")))),!q)throw new Error("data must be a Buffer");if(typeof j.height!="number"||typeof j.width!="number")throw new Error("bitmap must have width and height");return new D({height:j.height,width:j.width,data:q})}static async fromBuffer(j,q){const te=j instanceof ArrayBuffer?bufferFromArrayBuffer(j):j,re=await fileType$1.fromBuffer(te);if(!re||!re.mime)throw new Error("Could not find MIME for Buffer");const ne=w.find(ae=>ae.mime===re.mime);if(!ne||!ne.decode)throw new Error(`Mime type ${re.mime} does not support decoding`);const ie=new D(await ne.decode(te,q==null?void 0:q[ne.mime]));return ie.mime=re.mime,attemptExifRotate(ie,te),ie}inspect(){return"<Jimp "+(this.bitmap===emptyBitmap?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}get width(){return this.bitmap.width}get height(){return this.bitmap.height}async getBuffer(j,q){const te=this.formats.find(ne=>ne.mime===j);if(!te||!te.encode)throw new Error(`Unsupported MIME type: ${j}`);let re;return te.hasAlpha?re=this:(re=new D({width:this.bitmap.width,height:this.bitmap.height,color:this.background}),composite(re,this)),te.encode(re.bitmap,q)}async getBase64(j,q){return"data:"+j+";base64,"+(await this.getBuffer(j,q)).toString("base64")}async write(j,q){const te=mime.getType(j);await writeFile(j,await this.getBuffer(te,q))}clone(){return new D({...this.bitmap,data:Buffer.from(this.bitmap.data)})}getPixelIndex(j,q,te){let re,ne;if(te||(te=Edge.EXTEND),typeof j!="number"||typeof q!="number")throw new Error("x and y must be numbers");re=j=Math.round(j),ne=q=Math.round(q),te===Edge.EXTEND&&(j<0&&(re=0),j>=this.bitmap.width&&(re=this.bitmap.width-1),q<0&&(ne=0),q>=this.bitmap.height&&(ne=this.bitmap.height-1)),te===Edge.WRAP&&(j<0&&(re=this.bitmap.width+j),j>=this.bitmap.width&&(re=j%this.bitmap.width),q<0&&(ne=this.bitmap.height+q),q>=this.bitmap.height&&(ne=q%this.bitmap.height));let ie=this.bitmap.width*ne+re<<2;return(re<0||re>=this.bitmap.width)&&(ie=-1),(ne<0||ne>=this.bitmap.height)&&(ie=-1),ie}getPixelColor(j,q){if(typeof j!="number"||typeof q!="number")throw new Error("x and y must be numbers");const te=this.getPixelIndex(j,q);return this.bitmap.data.readUInt32BE(te)}setPixelColor(j,q,te){if(typeof j!="number"||typeof q!="number"||typeof te!="number")throw new Error("hex, x and y must be numbers");const re=this.getPixelIndex(q,te);return this.bitmap.data.writeUInt32BE(j,re),this}hasAlpha(){const{width:j,height:q,data:te}=this.bitmap,re=j*q<<2;for(let ne=3;ne<re;ne+=4)if(te[ne]!==255)return!0;return!1}composite(j,q=0,te=0,re={}){return composite(this,j,q,te,re)}scan(j,q,te,re,ne){return scan(this,j,q,te,re,ne)}scanIterator(j=0,q=0,te=this.bitmap.width,re=this.bitmap.height){if(typeof j!="number"||typeof q!="number")throw new Error("x and y must be numbers");if(typeof te!="number"||typeof re!="number")throw new Error("w and h must be numbers");return scanIterator(this,j,q,te,re)}};return D}var ResizeStrategy,ResizeStrategy2;function Resize(d,m,g,w,D,j,q){this.widthOriginal=Math.abs(Math.floor(d)||0),this.heightOriginal=Math.abs(Math.floor(m)||0),this.targetWidth=Math.abs(Math.floor(g)||0),this.targetHeight=Math.abs(Math.floor(w)||0),this.colorChannels=D?4:3,this.interpolationPass=!!j,this.resizeCallback=typeof q=="function"?q:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}ResizeStrategy2=ResizeStrategy||(ResizeStrategy={}),ResizeStrategy2.NEAREST_NEIGHBOR="nearestNeighbor",ResizeStrategy2.BILINEAR="bilinearInterpolation",ResizeStrategy2.BICUBIC="bicubicInterpolation",ResizeStrategy2.HERMITE="hermiteInterpolation",ResizeStrategy2.BEZIER="bezierInterpolation",Resize.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw console.log(this),new Error("Invalid settings specified for the resizer.");this.configurePasses()},Resize.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},Resize.prototype._resizeWidthInterpolatedRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,D=this.widthBuffer;let j,q,te=0,re=0,ne=0,ie=0,ae=0;for(j=0;te<1/3;j+=g,te+=w)for(re=j,ne=0;re<this.widthPassResultSize;ne+=this.originalWidthMultipliedByChannels,re+=this.targetWidthMultipliedByChannels)D[re]=d[ne],D[re+1]=d[ne+1],D[re+2]=d[ne+2],m&&(D[re+3]=d[ne+3]);for(te-=1/3,q=this.widthOriginal-1;te<q;j+=g,te+=w)for(ae=te%1,ie=1-ae,re=j,ne=Math.floor(te)*g;re<this.widthPassResultSize;ne+=this.originalWidthMultipliedByChannels,re+=this.targetWidthMultipliedByChannels)D[re+0]=d[ne+0]*ie+d[ne+g+0]*ae,D[re+1]=d[ne+1]*ie+d[ne+g+1]*ae,D[re+2]=d[ne+2]*ie+d[ne+g+2]*ae,m&&(D[re+3]=d[ne+3]*ie+d[ne+g+3]*ae);for(q=this.originalWidthMultipliedByChannels-g;j<this.targetWidthMultipliedByChannels;j+=g)for(re=j,ne=q;re<this.widthPassResultSize;ne+=this.originalWidthMultipliedByChannels,re+=this.targetWidthMultipliedByChannels)D[re]=d[ne],D[re+1]=d[ne+1],D[re+2]=d[ne+2],m&&(D[re+3]=d[ne+3]);return D},Resize.prototype._resizeWidthRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,D=1/w,j=this.originalWidthMultipliedByChannels-g+1,q=this.targetWidthMultipliedByChannels-g+1,te=this.outputWidthWorkBench,re=this.widthBuffer,ne=this.outputWidthWorkBenchOpaquePixelsCount;let ie=0,ae=0,se=0,le=0,ue=0,ce=0,de=0,he=1,pe=0,me=0,ge=0,be=0;do{for(ue=0;ue<this.originalHeightMultipliedByChannels;)te[ue++]=0,te[ue++]=0,te[ue++]=0,m&&(te[ue++]=0,ne[ue/g-1]=0);ie=w;do{for(ae=1+se-le,he=Math.min(ie,ae),ue=0,ce=se;ue<this.originalHeightMultipliedByChannels;ce+=j)pe=d[ce],me=d[++ce],ge=d[++ce],be=m?d[++ce]:255,te[ue++]+=(be?pe:0)*he,te[ue++]+=(be?me:0)*he,te[ue++]+=(be?ge:0)*he,m&&(te[ue++]+=be*he,ne[ue/g-1]+=be?he:0);if(!(ie>=ae)){le+=ie;break}se+=g,le=se,ie-=ae}while(ie>0&&se<this.originalWidthMultipliedByChannels);for(ue=0,ce=de;ue<this.originalHeightMultipliedByChannels;ce+=q)ie=m?ne[ue/g]:1,he=m?ie?1/ie:0:D,re[ce]=te[ue++]*he,re[++ce]=te[ue++]*he,re[++ce]=te[ue++]*he,m&&(re[++ce]=te[ue++]*D);de+=g}while(de<this.targetWidthMultipliedByChannels);return re},Resize.prototype._resizeHeightRGBChannels=function(d,m){const g=this.ratioWeightHeightPass,w=1/g,D=this.outputHeightWorkBench,j=this.heightBuffer,q=this.outputHeightWorkBenchOpaquePixelsCount;let te=0,re=0,ne=0,ie=0,ae=0,se=0,le=0,ue=1,ce=0,de=0,he=0,pe=0;do{for(ae=0;ae<this.targetWidthMultipliedByChannels;)D[ae++]=0,D[ae++]=0,D[ae++]=0,m&&(D[ae++]=0,q[ae/4-1]=0);te=g;do{for(re=1+ne-ie,ue=Math.min(te,re),le=ne,ae=0;ae<this.targetWidthMultipliedByChannels;)ce=d[le++],de=d[le++],he=d[le++],pe=m?d[le++]:255,D[ae++]+=(pe?ce:0)*ue,D[ae++]+=(pe?de:0)*ue,D[ae++]+=(pe?he:0)*ue,m&&(D[ae++]+=pe*ue,q[ae/4-1]+=pe?ue:0);if(!(te>=re)){ie+=te;break}ne=le,ie=ne,te-=re}while(te>0&&ne<this.widthPassResultSize);for(ae=0;ae<this.targetWidthMultipliedByChannels;)te=m?q[ae/4]:1,ue=m?te?1/te:0:w,j[se++]=Math.round(D[ae++]*ue),j[se++]=Math.round(D[ae++]*ue),j[se++]=Math.round(D[ae++]*ue),m&&(j[se++]=Math.round(D[ae++]*w))}while(se<this.finalResultSize);return j},Resize.prototype.resizeWidthInterpolatedRGB=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!1)},Resize.prototype.resizeWidthInterpolatedRGBA=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!0)},Resize.prototype.resizeWidthRGB=function(d){return this._resizeWidthRGBChannels(d,!1)},Resize.prototype.resizeWidthRGBA=function(d){return this._resizeWidthRGBChannels(d,!0)},Resize.prototype.resizeHeightInterpolated=function(d){const m=this.ratioWeightHeightPass,g=this.heightBuffer;let w,D=0,j=0,q=0,te=0,re=0,ne=0,ie=0;for(;D<1/3;D+=m)for(q=0;q<this.targetWidthMultipliedByChannels;)g[j++]=Math.round(d[q++]);for(D-=1/3,w=this.heightOriginal-1;D<w;D+=m)for(ie=D%1,ne=1-ie,te=Math.floor(D)*this.targetWidthMultipliedByChannels,re=te+this.targetWidthMultipliedByChannels,q=0;q<this.targetWidthMultipliedByChannels;++q)g[j++]=Math.round(d[te++]*ne+d[re++]*ie);for(;j<this.finalResultSize;)for(q=0,te=w*this.targetWidthMultipliedByChannels;q<this.targetWidthMultipliedByChannels;++q)g[j++]=Math.round(d[te++]);return g},Resize.prototype.resizeHeightRGB=function(d){return this._resizeHeightRGBChannels(d,!1)},Resize.prototype.resizeHeightRGBA=function(d){return this._resizeHeightRGBChannels(d,!0)},Resize.prototype.resize=function(d){this.resizeCallback(this.resizeHeight(this.resizeWidth(d)))},Resize.prototype.bypassResizer=function(d){return d},Resize.prototype.initializeFirstPassBuffers=function(d){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),d||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},Resize.prototype.initializeSecondPassBuffers=function(d){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),d||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},Resize.prototype.generateFloatBuffer=function(d){try{return new Float32Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateFloat64Buffer=function(d){try{return new Float64Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateUint8Buffer=function(d){try{return new Uint8Array(d)}catch(m){return console.error(m),[]}};const operations={nearestNeighbor(d,m){const g=d.width,w=d.height,D=m.width,j=m.height,q=d.data,te=m.data;for(let re=0;re<j;re++)for(let ne=0;ne<D;ne++){let ie=4*(re*D+ne),ae=4*(Math.floor(re*w/j)*g+Math.floor(ne*g/D));te[ie++]=q[ae++],te[ie++]=q[ae++],te[ie++]=q[ae++],te[ie++]=q[ae++]}},bilinearInterpolation(d,m){const g=d.width,w=d.height,D=m.width,j=m.height,q=d.data,te=m.data,re=function(ie,ae,se,le,ue){return ae===le?se:Math.round((ie-ae)*ue+(le-ie)*se)},ne=function(ie,ae,se,le,ue,ce,de,he){let pe=4*(de*g+le)+ae,me=4*(de*g+ue)+ae;const ge=re(se,le,q[pe],ue,q[me]);if(he===de)te[ie+ae]=ge;else{pe=4*(he*g+le)+ae,me=4*(he*g+ue)+ae;const be=re(se,le,q[pe],ue,q[me]);te[ie+ae]=re(ce,de,ge,he,be)}};for(let ie=0;ie<j;ie++)for(let ae=0;ae<D;ae++){const se=4*(ie*D+ae),le=ae*g/D,ue=Math.floor(le),ce=Math.min(Math.ceil(le),g-1),de=ie*w/j,he=Math.floor(de),pe=Math.min(Math.ceil(de),w-1);ne(se,0,le,ue,ce,de,he,pe),ne(se,1,le,ue,ce,de,he,pe),ne(se,2,le,ue,ce,de,he,pe),ne(se,3,le,ue,ce,de,he,pe)}},_interpolate2D(d,m,g,w){const D=d.data,j=m.data,q=d.width,te=d.height,re=m.width,ne=m.height,ie=Math.max(1,Math.floor(q/re)),ae=re*ie,se=Math.max(1,Math.floor(te/ne)),le=ne*se,ue=Buffer.alloc(ae*te*4);for(let he=0;he<te;he++)for(let pe=0;pe<ae;pe++){const me=pe*(q-1)/ae,ge=Math.floor(me),be=me-ge,ke=4*(he*q+ge),ye=4*(he*ae+pe);for(let Se=0;Se<4;Se++){const we=ke+Se,Te=ge>0?D[we-4]:2*D[we]-D[we+4],_e=D[we],Ie=D[we+4],Le=ge<q-2?D[we+8]:2*D[we+4]-D[we];ue[ye+Se]=w(Te,_e,Ie,Le,be)}}const ce=Buffer.alloc(ae*le*4);for(let he=0;he<le;he++)for(let pe=0;pe<ae;pe++){const me=he*(te-1)/le,ge=Math.floor(me),be=me-ge,ke=4*(ge*ae+pe),ye=4*(he*ae+pe);for(let Se=0;Se<4;Se++){const we=ke+Se,Te=ge>0?ue[we-4*ae]:2*ue[we]-ue[we+4*ae],_e=ue[we],Ie=ue[we+4*ae],Le=ge<te-2?ue[we+8*ae]:2*ue[we+4*ae]-ue[we];ce[ye+Se]=w(Te,_e,Ie,Le,be)}}const de=ie*se;if(de>1)for(let he=0;he<ne;he++)for(let pe=0;pe<re;pe++){let me=0,ge=0,be=0,ke=0,ye=0;for(let we=0;we<se;we++){const Te=he*se+we;for(let _e=0;_e<ie;_e++){const Ie=4*(Te*ae+(pe*ie+_e)),Le=ce[Ie+3];Le&&(me+=ce[Ie],ge+=ce[Ie+1],be+=ce[Ie+2],ye++),ke+=Le}}const Se=4*(he*re+pe);j[Se]=ye?Math.round(me/ye):0,j[Se+1]=ye?Math.round(ge/ye):0,j[Se+2]=ye?Math.round(be/ye):0,j[Se+3]=Math.round(ke/de)}else m.data=ce},bicubicInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,D,j,q,te){const re=q-j-w+D,ne=w-D-re,ie=j-w,ae=D;return Math.max(0,Math.min(255,re*(te*te*te)+ne*(te*te)+ie*te+ae))})},hermiteInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,D,j,q,te){const re=D,ne=.5*(j-w),ie=w-2.5*D+2*j-.5*q,ae=.5*(q-w)+1.5*(D-j);return Math.max(0,Math.min(255,Math.round(((ae*te+ie)*te+ne)*te+re)))})},bezierInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,D,j,q,te){const re=1-te,ne=D*re*re*re,ie=3*(D+(j-w)/4)*re*re*te,ae=3*(j-(q-D)/4)*re*te*te,se=j*te*te*te;return Math.max(0,Math.min(255,Math.round(ne+ie+ae+se)))})}},ResizeOptionsSchema=z.union([z.object({w:z.number().min(0),h:z.number().min(0).optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),z.object({w:z.number().min(0).optional(),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()})]),ScaleToFitOptionsSchema=z.object({w:z.number().min(0),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),ScaleComplexOptionsSchema=z.object({f:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$d={resize(d,m){const{mode:g}=ResizeOptionsSchema.parse(m);let w,D;if(typeof m.w=="number")w=m.w,D=m.h??d.bitmap.height*(w/d.bitmap.width);else{if(typeof m.h!="number")throw new Error("w must be a number");D=m.h,w=m.w??d.bitmap.width*(D/d.bitmap.height)}if(w=Math.round(w)||1,D=Math.round(D)||1,g&&typeof operations[g]=="function"){const j={data:Buffer.alloc(w*D*4),width:w,height:D};operations[g](d.bitmap,j),d.bitmap=j}else new Resize(d.bitmap.width,d.bitmap.height,w,D,!0,!0,j=>{d.bitmap.data=Buffer.from(j),d.bitmap.width=w,d.bitmap.height=D}).resize(d.bitmap.data);return d},scale(d,m){const{f:g,mode:w}=typeof m=="number"?{f:m}:ScaleComplexOptionsSchema.parse(m),D=d.bitmap.width*g,j=d.bitmap.height*g;return this.resize(d,{w:D,h:j,mode:w})},scaleToFit(d,m){const{h:g,w,mode:D}=ScaleToFitOptionsSchema.parse(m),j=w/g>d.bitmap.width/d.bitmap.height?g/d.bitmap.height:w/d.bitmap.width;return this.scale(d,{f:j,mode:D})}},ContainOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$c={contain(d,m){const{w:g,h:w,align:D=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:j}=ContainOptionsSchema.parse(m),q=7&D,te=D>>3;if((q===0||q&q-1)&&(te===0||te&te-1))throw new Error("only use one flag per alignment direction");const re=q>>1,ne=te>>1,ie=g/w>d.bitmap.width/d.bitmap.height?w/d.bitmap.height:g/d.bitmap.width,ae=methods$d.scale(clone(d),{f:ie,mode:j});return(d=methods$d.resize(d,{w:g,h:w,mode:j})).scan((se,le,ue)=>{d.bitmap.data.writeUInt32BE(d.background,ue)}),d=methods$h.blit(d,{src:ae,x:(d.bitmap.width-ae.bitmap.width)/2*re,y:(d.bitmap.height-ae.bitmap.height)/2*ne})}},CropOptionsSchema=z.object({x:z.number(),y:z.number(),w:z.number(),h:z.number()}),AutocropComplexOptionsSchema=z.object({tolerance:z.number().min(0).max(1).optional(),cropOnlyFrames:z.boolean().optional(),cropSymmetric:z.boolean().optional(),leaveBorder:z.number().optional(),ignoreSides:z.object({north:z.boolean().optional(),south:z.boolean().optional(),east:z.boolean().optional(),west:z.boolean().optional()}).optional()}),methods$b={crop(d,m){let{x:g,y:w,w:D,h:j}=CropOptionsSchema.parse(m);if(g=Math.round(g),w=Math.round(w),D=Math.round(D),j=Math.round(j),g===0&&D===d.bitmap.width){const q=D*w+g<<2,te=q+(j*D<<2);d.bitmap.data=d.bitmap.data.slice(q,te)}else{const q=Buffer.allocUnsafe(D*j*4);let te=0;scan(d,g,w,D,j,function(re,ne,ie){const ae=d.bitmap.data.readUInt32BE(ie);q.writeUInt32BE(ae,te),te+=4}),d.bitmap.data=q}return d.bitmap.width=D,d.bitmap.height=j,d},autocrop(d,m={}){const{tolerance:g=2e-4,cropOnlyFrames:w=!0,cropSymmetric:D=!1,leaveBorder:j=0,ignoreSides:q}=typeof m=="number"?{tolerance:m}:AutocropComplexOptionsSchema.parse(m),te=d.bitmap.width,re=d.bitmap.height,ne={north:!1,south:!1,east:!1,west:!1,...q};let ie=d.getPixelColor(0,0);const ae=intToRGBA$1(ie);let se=0,le=0,ue=0,ce=0;if(ie=d.getPixelColor(0,0),!ne.north)e:for(let me=0;me<re-1;me++){for(let ge=0;ge<te;ge++)if(colorDiff(ae,intToRGBA$1(d.getPixelColor(ge,me)))>g)break e;se++}if(ie=d.getPixelColor(te,0),!ne.west)e:for(let me=0;me<te-1;me++){for(let ge=0+se;ge<re;ge++)if(colorDiff(ae,intToRGBA$1(d.getPixelColor(me,ge)))>g)break e;ce++}if(ie=d.getPixelColor(0,re),!ne.south)e:for(let me=re-1;me>=se+1;me--){for(let ge=te-le-1;ge>=0;ge--)if(colorDiff(ae,intToRGBA$1(d.getPixelColor(ge,me)))>g)break e;ue++}if(ie=d.getPixelColor(te,re),!ne.east)e:for(let me=te-1;me>=0+ce+1;me--){for(let ge=re-1;ge>=0+se;ge--)if(colorDiff(ae,intToRGBA$1(d.getPixelColor(me,ge)))>g)break e;le++}let de=!1;if(ce-=j,le-=j,se-=j,ue-=j,D){const me=Math.min(le,ce),ge=Math.min(se,ue);ce=me,le=me,se=ge,ue=ge}ce=ce>=0?ce:0,le=le>=0?le:0,se=se>=0?se:0,ue=ue>=0?ue:0;const he=te-(ce+le),pe=re-(ue+se);return de=w?le!==0&&se!==0&&ce!==0&&ue!==0:le!==0||se!==0||ce!==0||ue!==0,de&&this.crop(d,{x:ce,y:se,w:he,h:pe}),d}},CoverOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$a={cover(d,m){const{w:g,h:w,align:D=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:j}=CoverOptionsSchema.parse(m),q=7&D,te=D>>3;if((q===0||q&q-1)&&(te===0||te&te-1))throw new Error("only use one flag per alignment direction");const re=q>>1,ne=te>>1,ie=g/w>d.bitmap.width/d.bitmap.height?g/d.bitmap.width:w/d.bitmap.height;return d=methods$d.scale(d,{f:ie,mode:j}),d=methods$b.crop(d,{x:(d.bitmap.width-g)/2*re,y:(d.bitmap.height-w)/2*ne,w:g,h:w})}},DisplaceOptionsSchema=z.object({map:JimpClassSchema,offset:z.number()}),methods$9={displace(d,m){const{map:g,offset:w}=DisplaceOptionsSchema.parse(m),D=clone(d);return d.scan((j,q,te)=>{let re=g.bitmap.data[te]/256*w;re=Math.round(re);const ne=d.getPixelIndex(j+re,q);d.bitmap.data[ne]=D.bitmap.data[te],d.bitmap.data[ne+1]=D.bitmap.data[te+1],d.bitmap.data[ne+2]=D.bitmap.data[te+2]}),d}},methods$8={dither(d){const m=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return d.scan((g,w,D)=>{const j=m[((3&w)<<2)+g%4];d.bitmap.data[D]=Math.min(d.bitmap.data[D]+j,255),d.bitmap.data[D+1]=Math.min(d.bitmap.data[D+1]+j,255),d.bitmap.data[D+2]=Math.min(d.bitmap.data[D+2]+j,255)}),d}},FisheyeOptionsSchema=z.object({radius:z.number().min(0).optional()}),methods$7={fisheye(d,m={}){const{radius:g=2.5}=FisheyeOptionsSchema.parse(m),w=clone(d),{width:D,height:j}=w.bitmap;return w.scan((q,te)=>{const re=q/D,ne=te/j,ie=Math.sqrt(Math.pow(re-.5,2)+Math.pow(ne-.5,2)),ae=2*Math.pow(ie,g),se=(re-.5)/ie,le=(ne-.5)/ie,ue=Math.round((ae*se+.5)*D),ce=Math.round((ae*le+.5)*j),de=w.getPixelColor(ue,ce);d.setPixelColor(de,q,te)}),d.setPixelColor(w.getPixelColor(D/2,j/2),D/2,j/2),d}},FlipOptionsSchema=z.object({horizontal:z.boolean().optional(),vertical:z.boolean().optional()}),methods$6={flip(d,m){const{horizontal:g,vertical:w}=FlipOptionsSchema.parse(m),D=Buffer.alloc(d.bitmap.data.length);return d.scan((j,q,te)=>{const re=g?d.bitmap.width-1-j:j,ne=w?d.bitmap.height-1-q:q,ie=d.bitmap.width*ne+re<<2,ae=d.bitmap.data.readUInt32BE(te);D.writeUInt32BE(ae,ie)}),d.bitmap.data=Buffer.from(D),d}};function Converter$1(d,m){if(!(d&&m&&d.length&&m.length))throw new Error("Bad alphabet");this.srcAlphabet=d,this.dstAlphabet=m}Converter$1.prototype.convert=function(d){var m,g,w,D={},j=this.srcAlphabet.length,q=this.dstAlphabet.length,te=d.length,re=typeof d=="string"?"":[];if(!this.isValid(d))throw new Error('Number "'+d+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return d;for(m=0;m<te;m++)D[m]=this.srcAlphabet.indexOf(d[m]);do{for(g=0,w=0,m=0;m<te;m++)(g=g*j+D[m])>=q?(D[w++]=parseInt(g/q,10),g%=q):w>0&&(D[w++]=0);te=w,re=this.dstAlphabet.slice(g,g+1).concat(re)}while(w!==0);return re},Converter$1.prototype.isValid=function(d){for(var m=0;m<d.length;++m)if(this.srcAlphabet.indexOf(d[m])===-1)return!1;return!0};var converter=Converter$1,Converter=converter;function anyBase(d,m){var g=new Converter(d,m);return function(w){return g.convert(w)}}anyBase.BIN="01",anyBase.OCT="01234567",anyBase.DEC="0123456789",anyBase.HEX="0123456789abcdef";var anyBase_1=anyBase,anyBase$1=getDefaultExportFromCjs(anyBase_1),__defProp$1=Object.defineProperty,__defNormalProp$1=(d,m,g)=>m in d?__defProp$1(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$1=(d,m,g)=>__defNormalProp$1(d,typeof m!="symbol"?m+"":m,g);class ImagePHash{constructor(m,g){__publicField$1(this,"size"),__publicField$1(this,"smallerSize"),this.size=m||32,this.smallerSize=g||8,initCoefficients(this.size)}distance(m,g){let w=0;for(let D=0;D<m.length;D++)m[D]!==g[D]&&w++;return w/m.length}getHash(m){m=methods$d.resize(clone(m),{w:this.size,h:this.size}),m=methods$e.greyscale(m);const g=[];for(let te=0;te<m.bitmap.width;te++){const re=[];for(let ne=0;ne<m.bitmap.height;ne++)re[ne]=intToRGBA(m.getPixelColor(te,ne)).b;g[te]=re}const w=applyDCT(g,this.size);let D=0;for(let te=0;te<this.smallerSize;te++)for(let re=0;re<this.smallerSize;re++)D+=w[te][re];const j=D/(this.smallerSize*this.smallerSize);let q="";for(let te=0;te<this.smallerSize;te++)for(let re=0;re<this.smallerSize;re++)q+=w[te][re]>j?"1":"0";return q}}function intToRGBA(d){const m=255&d,g=255&(d>>>=8),w=255&(d>>>=8);return{r:255&(d>>>=8),g:w,b:g,a:m}}const c$1=[];function initCoefficients(d){for(let m=1;m<d;m++)c$1[m]=1;c$1[0]=1/Math.sqrt(2)}function applyDCT(d,m){const g=m,w=[];for(let D=0;D<g;D++){const j=[];for(let q=0;q<g;q++){let te=0;for(let re=0;re<g;re++)for(let ne=0;ne<g;ne++)te+=Math.cos((2*re+1)/(2*g)*D*Math.PI)*Math.cos((2*ne+1)/(2*g)*q*Math.PI)*d[re][ne];te*=c$1[D]*c$1[q]/4,j[q]=te,w[D]=j}}return w}const alphabet="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",maxHashLength=[NaN,NaN];for(let d=2;d<65;d++){const m=anyBase$1(anyBase$1.BIN,alphabet.slice(0,d))(new Array(65).join("1"));maxHashLength.push(m.length)}const methods$5={pHash:d=>new ImagePHash().getHash(d),hash(d,m=64){if(m<2||m>64)throw new Error("base must be a number between 2 and 64");const g=alphabet.slice(0,m),w=this.pHash(d),D=maxHashLength[m];return anyBase$1(anyBase$1.BIN,g)(w).padStart(D,"0")},distanceFromHash(d,m){const g=new ImagePHash,w=g.getHash(d);return g.distance(w,m)}},MaskOptionsObjectSchema=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional()}),MaskOptionsSchema=z.union([JimpClassSchema,MaskOptionsObjectSchema]),methods$4={mask(d,m){let g,w,D;MaskOptionsSchema.parse(m),"bitmap"in m?(g=m,w=0,D=0):(g=m.src,w=m.x??0,D=m.y??0),w=Math.round(w),D=Math.round(D);const j=d.bitmap.width,q=d.bitmap.height;return g.scan(function(te,re,ne){const ie=w+te,ae=D+re;if(ie>=0&&ae>=0&&ie<j&&ae<q){const se=d.getPixelIndex(ie,ae),{data:le}=g.bitmap,ue=(le[ne+0]+le[ne+1]+le[ne+2])/3;d.bitmap.data[se+3]*=ue/255}}),d}};function measureText(d,m){let g=0;for(let w=0;w<m.length;w++){const D=m[w],j=d.chars[D];if(j){const q=d.kernings[D],te=m[w+1],re=q&&te&&q[te]&&q[te]||0;g+=(j.xadvance||0)+re}}return g}function splitLines(d,m,g){const w=m.replace(/[\r\n]+/g,` 
`).split(" "),D=[];let j=[],q=0;return w.forEach(te=>{if(measureText(d,te+(w.length>1?" ":""))>g){const ie=te[Symbol.iterator]();let ae="";for(const se of ie){const le=[...j,ae+se].join(" "),ue=measureText(d,le);ue<g?ae+=se:ue>g?(D.push([...j,ae]),j=[],ae=se):(D.push([...j,ae+se]),j=[],ae="")}return}const re=[...j,te].join(" "),ne=measureText(d,re);ne<=g&&!te.includes(`
`)?(ne>q&&(q=ne),j.push(te)):(D.push(j),j=[te.replace(`
`,"")])}),D.push(j),{lines:D,longestLine:q}}function measureTextHeight(d,m,g){const{lines:w}=splitLines(d,m,g);return w.length*d.common.lineHeight}const PrintOptionsSchema=z.object({x:z.number(),y:z.number(),text:z.union([z.union([z.string(),z.number()]),z.object({text:z.union([z.string(),z.number()]),alignmentX:z.nativeEnum(HorizontalAlign).optional(),alignmentY:z.nativeEnum(VerticalAlign).optional()})]),maxWidth:z.number().optional(),maxHeight:z.number().optional(),cb:z.function(z.tuple([z.object({x:z.number(),y:z.number()})])).optional()});function xOffsetBasedOnAlignment(d,m,g,w){return w===HorizontalAlign.LEFT?0:w===HorizontalAlign.CENTER?(g-measureText(d,m))/2:g-measureText(d,m)}function drawCharacter(d,m,g,w,D){if(D.width>0&&D.height>0){const j=m.pages[D.page];j&&(d=methods$h.blit(d,{src:j,x:g+D.xoffset,y:w+D.yoffset,srcX:D.x,srcY:D.y,srcW:D.width,srcH:D.height}))}return d}function printText(d,m,g,w,D,j){for(let q=0;q<D.length;q++){const te=D[q];let re;re=m.chars[te]?te:/\s/.test(te)?"":"?";const ne=m.chars[re]||{xadvance:void 0},ie=m.kernings[re];drawCharacter(d,m,g,w,ne);const ae=D[q+1];g+=(ie&&ae&&ie[ae]&&ie[ae]||0)+(ne.xadvance||j)}}const methods$3={print(d,{font:m,...g}){var ue;let w,D,{x:j,y:q,text:te,maxWidth:re=1/0,maxHeight:ne=1/0,cb:ie=()=>{}}=PrintOptionsSchema.parse(g);typeof te=="object"&&te.text!==null&&te.text!==void 0?(w=te.alignmentX||HorizontalAlign.LEFT,D=te.alignmentY||VerticalAlign.TOP,{text:te}=te):(w=HorizontalAlign.LEFT,D=VerticalAlign.TOP,te=te.toString()),typeof te=="number"&&(te=te.toString()),ne!==1/0&&D===VerticalAlign.BOTTOM?q+=ne-measureTextHeight(m,te,re):ne!==1/0&&D===VerticalAlign.MIDDLE&&(q+=ne/2-measureTextHeight(m,te,re)/2);const ae=(ue=Object.entries(m.chars).find(ce=>ce[1].xadvance))==null?void 0:ue[1].xadvance;if(typeof ae!="number")throw new Error("Could not find default character width");const{lines:se,longestLine:le}=splitLines(m,te,re);return se.forEach(ce=>{const de=ce.join(" "),he=xOffsetBasedOnAlignment(m,de,re,w);printText(d,m,j+he,q,de,ae),q+=m.common.lineHeight}),ie.bind(d)({x:j+le,y:q}),d}},RotateOptionsSchema=z.union([z.number(),z.object({deg:z.number(),mode:z.union([z.boolean(),z.nativeEnum(ResizeStrategy)]).optional()})]);function createIdxTranslationFunction(d){return function(m,g){return g*d+m<<2}}function matrixRotate(d,m){if(Math.abs(m)%90!=0)throw new Error("Unsupported matrix rotation degree");const g=d.bitmap.width,w=d.bitmap.height;let D;switch(m){case 90:case-270:D=90;break;case 180:case-180:D=180;break;case 270:case-90:D=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const j=D===180?g:w,q=D===180?w:g,te=Buffer.alloc(d.bitmap.data.length),re=createIdxTranslationFunction(g),ne=createIdxTranslationFunction(j);for(let ie=0;ie<g;ie++)for(let ae=0;ae<w;ae++){const se=re(ie,ae),le=d.bitmap.data.readUInt32BE(se);let ue;switch(D){case 90:ue=ne(ae,g-ie-1);break;case-90:ue=ne(w-ae-1,ie);break;case 180:ue=ne(g-ie-1,w-ae-1);break;default:throw new Error("Unsupported matrix rotation angle")}te.writeUInt32BE(le,ue)}d.bitmap.data=te,d.bitmap.width=j,d.bitmap.height=q}function createTranslationFunction(d,m){return function(g,w){return{x:g+d,y:w+m}}}function advancedRotate(d,m,g){const w=m*Math.PI/180,D=Math.cos(w),j=Math.sin(w);let q=d.bitmap.width,te=d.bitmap.height;if(g===!0||typeof g=="string"){q=Math.ceil(Math.abs(d.bitmap.width*D)+Math.abs(d.bitmap.height*j))+1,te=Math.ceil(Math.abs(d.bitmap.width*j)+Math.abs(d.bitmap.height*D))+1,q%2!=0&&q++,te%2!=0&&te++;const le=clone(d);d.scan((ce,de,he)=>{d.bitmap.data.writeUInt32BE(d.background,he)});const ue=Math.max(q,te,d.bitmap.width,d.bitmap.height);d=composite(d=methods$d.resize(d,{h:ue,w:ue,mode:g===!0?void 0:g}),le,d.bitmap.width/2-le.bitmap.width/2,d.bitmap.height/2-le.bitmap.height/2)}const re=d.bitmap.width,ne=d.bitmap.height,ie=Buffer.alloc(d.bitmap.data.length),ae=createTranslationFunction(-re/2,-ne/2),se=createTranslationFunction(re/2+.5,ne/2+.5);for(let le=1;le<=ne;le++)for(let ue=1;ue<=re;ue++){const ce=ae(ue,le),de=se(D*ce.x-j*ce.y,D*ce.y+j*ce.x),he=re*(le-1)+ue-1<<2;if(de.x>=0&&de.x<re&&de.y>=0&&de.y<ne){const pe=re*(0|de.y)+de.x<<2,me=d.bitmap.data.readUInt32BE(pe);ie.writeUInt32BE(me,he)}else ie.writeUInt32BE(d.background,he)}if(d.bitmap.data=ie,g===!0||typeof g=="string"){const le=Math.max(re/2-q/2,0),ue=Math.max(ne/2-te/2,0);d=methods$b.crop(d,{x:le,y:ue,w:q,h:te})}}const methods$2={rotate(d,m){const g=RotateOptionsSchema.parse(m),w=typeof g=="number"?{deg:g}:g,{mode:D=!0}=w;let{deg:j}=w;return j%=360,j%360==0||(j%90==0&&(D||d.bitmap.width===d.bitmap.height||j%180==0)?matrixRotate(d,j):advancedRotate(d,j,D)),d}},ThresholdOptionsSchema=z.object({max:z.number().min(0).max(255),replace:z.number().min(0).max(255).optional(),autoGreyscale:z.boolean().optional()}),methods$1={threshold(d,m){let{max:g,replace:w=255,autoGreyscale:D=!0}=ThresholdOptionsSchema.parse(m);return g=limit255(g),w=limit255(w),D&&methods$e.greyscale(d),d.scan((j,q,te)=>{const re=d.bitmap.data[te]<g?d.bitmap.data[te]:w;d.bitmap.data[te]=re,d.bitmap.data[te+1]=re,d.bitmap.data[te+2]=re}),d}};var __defProp=Object.defineProperty,__defNormalProp=(d,m,g)=>m in d?__defProp(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__export=(d,m)=>{for(var g in m)__defProp(d,g,{get:m[g],enumerable:!0})},__publicField=(d,m,g)=>(__defNormalProp(d,typeof m!="symbol"?m+"":m,g),g),constants_exports={};__export(constants_exports,{bt709:()=>bt709_exports});var bt709_exports={};__export(bt709_exports,{Y:()=>Y,x:()=>x$1,y:()=>y$1});var Y=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y||{}),x$1=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$1||{}),y$1=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$1||{}),conversion_exports={};function correctGamma(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz(d,m,g){return{x:.4124*(d=correctGamma(d/255))+.3576*(m=correctGamma(m/255))+.1805*(g=correctGamma(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export(conversion_exports,{lab2rgb:()=>lab2rgb,lab2xyz:()=>lab2xyz,rgb2hsl:()=>rgb2hsl,rgb2lab:()=>rgb2lab,rgb2xyz:()=>rgb2xyz,xyz2lab:()=>xyz2lab,xyz2rgb:()=>xyz2rgb});var arithmetic_exports={};function degrees2radians(d){return d*(Math.PI/180)}function max3(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255(d){return d>255?d=255:d<0&&(d=0),d}function stableSort(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const D=Object.create(null);for(let j=0,q=d.length;j<q;j++){const te=d[j];D[te]||D[te]===0||(D[te]=j)}w=d.sort((j,q)=>m(j,q)||D[j]-D[q])}else{const D=d.slice(0);w=d.sort((j,q)=>m(j,q)||D.indexOf(j)-D.indexOf(q))}return w}function rgb2hsl(d,m,g){const w=min3(d,m,g),D=max3(d,m,g),j=D-w,q=(w+D)/510;let te=0;q>0&&q<1&&(te=j/(q<.5?D+w:510-D-w));let re=0;return j>0&&(re=D===d?(m-g)/j:D===m?2+(g-d)/j:4+(d-m)/j,re*=60,re<0&&(re+=360)),{h:re,s:te,l:q}}__export(arithmetic_exports,{degrees2radians:()=>degrees2radians,inRange0to255:()=>inRange0to255,inRange0to255Rounded:()=>inRange0to255Rounded,intInRange:()=>intInRange,max3:()=>max3,min3:()=>min3,stableSort:()=>stableSort});var refX=.95047,refY=1,refZ=1.08883;function pivot(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab(d,m,g){if(d=pivot(d/refX),m=pivot(m/refY),g=pivot(g/refZ),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab(d,m,g){const w=rgb2xyz(d,m,g);return xyz2lab(w.x,w.y,w.z)}var refX2=.95047,refY2=1,refZ2=1.08883;function pivot2(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz(d,m,g){const w=(d+16)/116,D=w-g/200;return{x:refX2*pivot2(m/500+w),y:refY2*pivot2(w),z:refZ2*pivot2(D)}}function correctGamma2(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb(d,m,g){const w=correctGamma2(3.2406*d+-1.5372*m+-.4986*g),D=correctGamma2(-.9689*d+1.8758*m+.0415*g),j=correctGamma2(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded(255*w),g:inRange0to255Rounded(255*D),b:inRange0to255Rounded(255*j)}}function lab2rgb(d,m,g){const w=lab2xyz(d,m,g);return xyz2rgb(w.x,w.y,w.z)}var distance_exports={};__export(distance_exports,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator,AbstractEuclidean:()=>AbstractEuclidean,AbstractManhattan:()=>AbstractManhattan,CIE94GraphicArts:()=>CIE94GraphicArts,CIE94Textiles:()=>CIE94Textiles,CIEDE2000:()=>CIEDE2000,CMetric:()=>CMetric,Euclidean:()=>Euclidean,EuclideanBT709:()=>EuclideanBT709,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha,Manhattan:()=>Manhattan,ManhattanBT709:()=>ManhattanBT709,ManhattanNommyde:()=>ManhattanNommyde,PNGQuant:()=>PNGQuant});var AbstractDistanceCalculator=class{constructor(){__publicField(this,"_maxDistance"),__publicField(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,j,q,te){const re=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),ne=rgb2lab(inRange0to255(D*this._whitePoint.r),inRange0to255(j*this._whitePoint.g),inRange0to255(q*this._whitePoint.b)),ie=re.L-ne.L,ae=re.a-ne.a,se=re.b-ne.b,le=Math.sqrt(re.a*re.a+re.b*re.b),ue=le-Math.sqrt(ne.a*ne.a+ne.b*ne.b);let ce=ae*ae+se*se-ue*ue;ce=ce<0?0:Math.sqrt(ce);const de=(te-w)*this._whitePoint.a*this._kA;return Math.sqrt((ie/this._Kl)**2+(ue/(1+this._K1*le))**2+(ce/(1+this._K2*le))**2+de**2)}},CIE94Textiles=class extends AbstractCIE94{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts=class extends AbstractCIE94{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000=class extends AbstractDistanceCalculator{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000._pow25to7)),D=_CIEDE2000._deg30InRad*Math.exp(-(((d-_CIEDE2000._deg275InRad)/_CIEDE2000._deg25InRad)**2));return-Math.sin(2*D)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000._deg63InRad)}static _calculate_ahp(d,m,g,w){const D=g+w;return d===0?D:m<=_CIEDE2000._deg180InRad?D/2:D<_CIEDE2000._deg360InRad?(D+_CIEDE2000._deg360InRad)/2:(D-_CIEDE2000._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let D;return D=d===0?0:m<=_CIEDE2000._deg180InRad?g-w:g<=w?g-w+_CIEDE2000._deg360InRad:g-w-_CIEDE2000._deg360InRad,2*Math.sqrt(d)*Math.sin(D/2)}calculateRaw(d,m,g,w,D,j,q,te){const re=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),ne=rgb2lab(inRange0to255(D*this._whitePoint.r),inRange0to255(j*this._whitePoint.g),inRange0to255(q*this._whitePoint.b)),ie=(te-w)*this._whitePoint.a*_CIEDE2000._kA,ae=this.calculateRawInLab(re,ne);return Math.sqrt(ae+ie*ie)}calculateRawInLab(d,m){const g=d.L,w=d.a,D=d.b,j=m.L,q=m.a,te=m.b,re=((Math.sqrt(w*w+D*D)+Math.sqrt(q*q+te*te))/2)**7,ne=.5*(1-Math.sqrt(re/(re+_CIEDE2000._pow25to7))),ie=(1+ne)*w,ae=(1+ne)*q,se=Math.sqrt(ie*ie+D*D),le=Math.sqrt(ae*ae+te*te),ue=se*le,ce=_CIEDE2000._calculatehp(D,ie),de=_CIEDE2000._calculatehp(te,ae),he=Math.abs(ce-de),pe=j-g,me=le-se,ge=_CIEDE2000._calculate_dHp(ue,he,de,ce),be=_CIEDE2000._calculate_ahp(ue,he,ce,de),ke=(se+le)/2,ye=((g+j)/2-50)**2,Se=me/(1+.045*ke),we=ge/(1+.015*_CIEDE2000._calculateT(be)*ke);return(pe/(1+.015*ye/Math.sqrt(20+ye)))**2+Se**2+we**2+_CIEDE2000._calculateRT(be,ke)*Se*we}},CIEDE2000=_CIEDE2000;__publicField(CIEDE2000,"_kA",25/255),__publicField(CIEDE2000,"_pow25to7",25**7),__publicField(CIEDE2000,"_deg360InRad",degrees2radians(360)),__publicField(CIEDE2000,"_deg180InRad",degrees2radians(180)),__publicField(CIEDE2000,"_deg30InRad",degrees2radians(30)),__publicField(CIEDE2000,"_deg6InRad",degrees2radians(6)),__publicField(CIEDE2000,"_deg63InRad",degrees2radians(63)),__publicField(CIEDE2000,"_deg275InRad",degrees2radians(275)),__publicField(CIEDE2000,"_deg25InRad",degrees2radians(25));var CMetric=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,j,q,te){const re=(d+D)/2*this._whitePoint.r,ne=(d-D)*this._whitePoint.r,ie=(m-j)*this._whitePoint.g,ae=(g-q)*this._whitePoint.b,se=((512+re)*ne*ne>>8)+4*ie*ie+((767-re)*ae*ae>>8),le=(te-w)*this._whitePoint.a;return Math.sqrt(se+le*le)}_setDefaults(){}},AbstractEuclidean=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,j,q,te){const re=D-d,ne=j-m,ie=q-g,ae=te-w;return Math.sqrt(this._kR*re*re+this._kG*ne*ne+this._kB*ie*ie+this._kA*ae*ae)}},Euclidean=class extends AbstractEuclidean{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,j,q,te){let re=D-d,ne=j-m,ie=q-g,ae=te-w;return re<0&&(re=0-re),ne<0&&(ne=0-ne),ie<0&&(ie=0-ie),ae<0&&(ae=0-ae),this._kR*re+this._kG*ne+this._kB*ie+this._kA*ae}},Manhattan=class extends AbstractManhattan{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde=class extends AbstractManhattan{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709=class extends AbstractManhattan{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,j,q,te){const re=(te-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,D*this._whitePoint.r,re)+this._colordifferenceCh(m*this._whitePoint.g,j*this._whitePoint.g,re)+this._colordifferenceCh(g*this._whitePoint.b,q*this._whitePoint.b,re)}_colordifferenceCh(d,m,g){const w=d-m,D=w+g;return w*w+D*D}_setDefaults(){}},palette_exports={};__export(palette_exports,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer,ColorHistogram:()=>ColorHistogram,NeuQuant:()=>NeuQuant,NeuQuantFloat:()=>NeuQuantFloat,RGBQuant:()=>RGBQuant,WuColorCube:()=>WuColorCube,WuQuant:()=>WuQuant});var AbstractPaletteQuantizer=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point=class{constructor(){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),__publicField(this,"uint32"),__publicField(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const D=new Point;return D.r=0|d,D.g=0|m,D.b=0|g,D.a=0|w,D._loadUINT32(),D._loadQuadruplet(),D}static createByUint32(d){const m=new Point;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer=class{constructor(){__publicField(this,"_pointArray"),__publicField(this,"_width"),__publicField(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer;w._width=m,w._height=g;for(let D=0,j=d.length;D<j;D++)w._pointArray[D]=Point.createByUint32(0|d[D]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer.fromUint32Array(w,m,g)}},hueGroups=10;function hueGroup(d,m){const g=360/m;for(let w=1,D=g-g/2;w<m;w++,D+=g)if(d>=D&&d<D+g)return w;return 0}var Palette=class{constructor(){__publicField(this,"_pointContainer"),__publicField(this,"_pointArray",[]),__publicField(this,"_i32idx",{}),this._pointContainer=new PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let D=0,j=this._pointArray.length;D<j;D++){const q=this._pointArray[D],te=d.calculateRaw(m.r,m.g,m.b,m.a,q.r,q.g,q.b,q.a);te<w&&(w=te,g=D)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort((d,m)=>{const g=rgb2hsl(d.r,d.g,d.b),w=rgb2hsl(m.r,m.g,m.b),D=d.r===d.g&&d.g===d.b?0:1+hueGroup(g.h,hueGroups),j=(m.r===m.g&&m.g===m.b?0:1+hueGroup(w.h,hueGroups))-D;if(j)return-j;const q=d.getLuminosity(!0),te=m.getLuminosity(!0);if(te-q!=0)return te-q;const re=(100*w.s|0)-(100*g.s|0);return re?-re:0})}},utils_exports={};__export(utils_exports,{HueStatistics:()=>HueStatistics,Palette:()=>Palette,Point:()=>Point,PointContainer:()=>PointContainer,ProgressTracker:()=>ProgressTracker,arithmetic:()=>arithmetic_exports});var HueGroup=class{constructor(){__publicField(this,"num",0),__publicField(this,"cols",[])}},HueStatistics=class{constructor(d,m){__publicField(this,"_numGroups"),__publicField(this,"_minCols"),__publicField(this,"_stats"),__publicField(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,D=m===g&&g===w?0:1+hueGroup(rgb2hsl(m,g,w).h,this._numGroups),j=this._stats[D],q=this._minCols;j.num++,j.num>q||(j.num===q&&this._groupsFull++,j.num<=q&&this._stats[D].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d[g]?d[g]++:d[g]=1})}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d.indexOf(g)===-1&&d.push(g)})}},_ProgressTracker=class{constructor(d,m){__publicField(this,"progress"),__publicField(this,"_step"),__publicField(this,"_range"),__publicField(this,"_last"),__publicField(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker=_ProgressTracker;__publicField(ProgressTracker,"steps",100);var networkBiasShift=3,Neuron=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift,this.g>>networkBiasShift,this.b>>networkBiasShift,this.a>>networkBiasShift)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron((d<<networkBiasShift+8)/this._networkSize|0),this._freq[d]=_NeuQuant._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let D,j=w/_NeuQuant._nCycles|0,q=_NeuQuant._initAlpha,te=(this._networkSize>>3)*_NeuQuant._radiusBias,re=te>>_NeuQuant._radiusBiasShift;re<=1&&(re=0);for(let ie=0;ie<re;ie++)this._radPower[ie]=q*((re*re-ie*ie)*_NeuQuant._radBias/(re*re))>>>0;D=m<_NeuQuant._minpicturebytes?1:m%_NeuQuant._prime1!=0?_NeuQuant._prime1:m%_NeuQuant._prime2!=0?_NeuQuant._prime2:m%_NeuQuant._prime3!=0?_NeuQuant._prime3:_NeuQuant._prime4;const ne=new ProgressTracker(w,99);for(let ie=0,ae=0;ie<w;){ne.shouldNotify(ie)&&(yield{progress:ne.progress});const se=this._pointArray[ae],le=se.b<<networkBiasShift,ue=se.g<<networkBiasShift,ce=se.r<<networkBiasShift,de=se.a<<networkBiasShift,he=this._contest(le,ue,ce,de);if(this._alterSingle(q,he,le,ue,ce,de),re!==0&&this._alterNeighbour(re,he,le,ue,ce,de),ae+=D,ae>=m&&(ae-=m),ie++,j===0&&(j=1),ie%j==0){q-=q/g|0,te-=te/_NeuQuant._radiusDecrease|0,re=te>>_NeuQuant._radiusBiasShift,re<=1&&(re=0);for(let pe=0;pe<re;pe++)this._radPower[pe]=q*((re*re-pe*pe)*_NeuQuant._radBias/(re*re))>>>0}}}_buildPalette(){const d=new Palette;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,j){let q=m-d;q<-1&&(q=-1);let te=m+d;te>this._networkSize&&(te=this._networkSize);let re=m+1,ne=m-1,ie=1;for(;re<te||ne>q;){const ae=this._radPower[ie++]/_NeuQuant._alphaRadBias;if(re<te){const se=this._network[re++];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-j))}if(ne>q){const se=this._network[ne--];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-j))}}}_alterSingle(d,m,g,w,D,j){d/=_NeuQuant._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-j))}_contest(d,m,g,w){const D=1020<<networkBiasShift;let j=2147483647,q=j,te=-1,re=te;for(let ne=0;ne<this._networkSize;ne++){const ie=this._network[ne],ae=this._distance.calculateNormalized(ie,{r:g,g:m,b:d,a:w})*D|0;ae<j&&(j=ae,te=ne);const se=ae-(this._bias[ne]>>_NeuQuant._initialBiasShift-networkBiasShift);se<q&&(q=se,re=ne);const le=this._freq[ne]>>_NeuQuant._betaShift;this._freq[ne]-=le,this._bias[ne]+=le<<_NeuQuant._gammaShift}return this._freq[te]+=_NeuQuant._beta,this._bias[te]-=_NeuQuant._betaGamma,re}},NeuQuant=_NeuQuant;__publicField(NeuQuant,"_prime1",499),__publicField(NeuQuant,"_prime2",491),__publicField(NeuQuant,"_prime3",487),__publicField(NeuQuant,"_prime4",503),__publicField(NeuQuant,"_minpicturebytes",_NeuQuant._prime4),__publicField(NeuQuant,"_nCycles",100),__publicField(NeuQuant,"_initialBiasShift",16),__publicField(NeuQuant,"_initialBias",1<<_NeuQuant._initialBiasShift),__publicField(NeuQuant,"_gammaShift",10),__publicField(NeuQuant,"_betaShift",10),__publicField(NeuQuant,"_beta",_NeuQuant._initialBias>>_NeuQuant._betaShift),__publicField(NeuQuant,"_betaGamma",_NeuQuant._initialBias<<_NeuQuant._gammaShift-_NeuQuant._betaShift),__publicField(NeuQuant,"_radiusBiasShift",6),__publicField(NeuQuant,"_radiusBias",1<<_NeuQuant._radiusBiasShift),__publicField(NeuQuant,"_radiusDecrease",30),__publicField(NeuQuant,"_alphaBiasShift",10),__publicField(NeuQuant,"_initAlpha",1<<_NeuQuant._alphaBiasShift),__publicField(NeuQuant,"_radBiasShift",8),__publicField(NeuQuant,"_radBias",1<<_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBiasShift",_NeuQuant._alphaBiasShift+_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBias",1<<_NeuQuant._alphaRadBiasShift);var networkBiasShift2=3,NeuronFloat=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift2,this.g>>networkBiasShift2,this.b>>networkBiasShift2,this.a>>networkBiasShift2)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat((d<<networkBiasShift2+8)/this._networkSize),this._freq[d]=_NeuQuantFloat._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let D,j=w/_NeuQuantFloat._nCycles|0,q=_NeuQuantFloat._initAlpha,te=(this._networkSize>>3)*_NeuQuantFloat._radiusBias,re=te>>_NeuQuantFloat._radiusBiasShift;re<=1&&(re=0);for(let ie=0;ie<re;ie++)this._radPower[ie]=q*((re*re-ie*ie)*_NeuQuantFloat._radBias/(re*re));D=m<_NeuQuantFloat._minpicturebytes?1:m%_NeuQuantFloat._prime1!=0?_NeuQuantFloat._prime1:m%_NeuQuantFloat._prime2!=0?_NeuQuantFloat._prime2:m%_NeuQuantFloat._prime3!=0?_NeuQuantFloat._prime3:_NeuQuantFloat._prime4;const ne=new ProgressTracker(w,99);for(let ie=0,ae=0;ie<w;){ne.shouldNotify(ie)&&(yield{progress:ne.progress});const se=this._pointArray[ae],le=se.b<<networkBiasShift2,ue=se.g<<networkBiasShift2,ce=se.r<<networkBiasShift2,de=se.a<<networkBiasShift2,he=this._contest(le,ue,ce,de);if(this._alterSingle(q,he,le,ue,ce,de),re!==0&&this._alterNeighbour(re,he,le,ue,ce,de),ae+=D,ae>=m&&(ae-=m),ie++,j===0&&(j=1),ie%j==0){q-=q/g,te-=te/_NeuQuantFloat._radiusDecrease,re=te>>_NeuQuantFloat._radiusBiasShift,re<=1&&(re=0);for(let pe=0;pe<re;pe++)this._radPower[pe]=q*((re*re-pe*pe)*_NeuQuantFloat._radBias/(re*re))}}}_buildPalette(){const d=new Palette;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,j){let q=m-d;q<-1&&(q=-1);let te=m+d;te>this._networkSize&&(te=this._networkSize);let re=m+1,ne=m-1,ie=1;for(;re<te||ne>q;){const ae=this._radPower[ie++]/_NeuQuantFloat._alphaRadBias;if(re<te){const se=this._network[re++];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-j))}if(ne>q){const se=this._network[ne--];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-j))}}}_alterSingle(d,m,g,w,D,j){d/=_NeuQuantFloat._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-j))}_contest(d,m,g,w){const D=1020<<networkBiasShift2;let j=2147483647,q=j,te=-1,re=te;for(let ne=0;ne<this._networkSize;ne++){const ie=this._network[ne],ae=this._distance.calculateNormalized(ie,{r:g,g:m,b:d,a:w})*D;ae<j&&(j=ae,te=ne);const se=ae-(this._bias[ne]>>_NeuQuantFloat._initialBiasShift-networkBiasShift2);se<q&&(q=se,re=ne);const le=this._freq[ne]>>_NeuQuantFloat._betaShift;this._freq[ne]-=le,this._bias[ne]+=le<<_NeuQuantFloat._gammaShift}return this._freq[te]+=_NeuQuantFloat._beta,this._bias[te]-=_NeuQuantFloat._betaGamma,re}},NeuQuantFloat=_NeuQuantFloat;__publicField(NeuQuantFloat,"_prime1",499),__publicField(NeuQuantFloat,"_prime2",491),__publicField(NeuQuantFloat,"_prime3",487),__publicField(NeuQuantFloat,"_prime4",503),__publicField(NeuQuantFloat,"_minpicturebytes",_NeuQuantFloat._prime4),__publicField(NeuQuantFloat,"_nCycles",100),__publicField(NeuQuantFloat,"_initialBiasShift",16),__publicField(NeuQuantFloat,"_initialBias",1<<_NeuQuantFloat._initialBiasShift),__publicField(NeuQuantFloat,"_gammaShift",10),__publicField(NeuQuantFloat,"_betaShift",10),__publicField(NeuQuantFloat,"_beta",_NeuQuantFloat._initialBias>>_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_betaGamma",_NeuQuantFloat._initialBias<<_NeuQuantFloat._gammaShift-_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_radiusBiasShift",6),__publicField(NeuQuantFloat,"_radiusBias",1<<_NeuQuantFloat._radiusBiasShift),__publicField(NeuQuantFloat,"_radiusDecrease",30),__publicField(NeuQuantFloat,"_alphaBiasShift",10),__publicField(NeuQuantFloat,"_initAlpha",1<<_NeuQuantFloat._alphaBiasShift),__publicField(NeuQuantFloat,"_radBiasShift",8),__publicField(NeuQuantFloat,"_radBias",1<<_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBiasShift",_NeuQuantFloat._alphaBiasShift+_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBias",1<<_NeuQuantFloat._alphaRadBiasShift);var _ColorHistogram=class{constructor(d,m){__publicField(this,"_method"),__publicField(this,"_hueStats"),__publicField(this,"_histogram"),__publicField(this,"_initColors"),__publicField(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics(_ColorHistogram._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort(Object.keys(this._histogram),(g,w)=>this._histogram[w]-this._histogram[g]);if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],D=this._histogram[w];m=d.slice(0,g);let j=g;const q=d.length;for(;j<q&&this._histogram[d[j]]===D;)m.push(d[j++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map(g=>+g)}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let D=0;D<w;D++){const j=g[D].uint32;this._hueStats.check(j),j in m?m[j]++:m[j]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),D=_ColorHistogram._boxSize[0],j=_ColorHistogram._boxSize[1],q=D*j,te=this._makeBoxes(m,g,D,j),re=this._histogram;te.forEach(ne=>{let ie=Math.round(ne.w*ne.h/q)*_ColorHistogram._boxPixels;ie<2&&(ie=2);const ae={};this._iterateBox(ne,m,se=>{const le=w[se].uint32;this._hueStats.check(le),le in re?re[le]++:le in ae?++ae[le]>=ie&&(re[le]=ae[le]):ae[le]=1})}),this._hueStats.injectIntoDictionary(re)}_iterateBox(d,m,g){const w=d,D=w.y*m+w.x,j=(w.y+w.h-1)*m+(w.x+w.w-1),q=m-w.w+1;let te=0,re=D;do g.call(this,re),re+=++te%w.w==0?q:1;while(re<=j)}_makeBoxes(d,m,g,w){const D=d%g,j=m%w,q=d-D,te=m-j,re=[];for(let ne=0;ne<m;ne+=w)for(let ie=0;ie<d;ie+=g)re.push({x:ie,y:ne,w:ie===q?D:g,h:ne===te?j:w});return re}},ColorHistogram=_ColorHistogram;__publicField(ColorHistogram,"_boxSize",[64,64]),__publicField(ColorHistogram,"_boxPixels",2),__publicField(ColorHistogram,"_hueGroups",10);var RemovedColor=class{constructor(d,m,g){__publicField(this,"index"),__publicField(this,"color"),__publicField(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=2){super(),__publicField(this,"_colors"),__publicField(this,"_initialDistance"),__publicField(this,"_distanceIncrement"),__publicField(this,"_histogram"),__publicField(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let ie=0;ie<d.length;ie++)g.push(Point.createByUint32(d[ie])),w[ie]=1;const D=g.length,j=[];let q=D,te=this._initialDistance;const re=new ProgressTracker(q-this._colors,99);for(;q>this._colors;){j.length=0;for(let ie=0;ie<D;ie++){if(re.shouldNotify(D-q)&&(yield{progress:re.progress}),w[ie]===0)continue;const ae=g[ie];for(let se=ie+1;se<D;se++){if(w[se]===0)continue;const le=g[se],ue=this._distance.calculateNormalized(ae,le);ue<te&&(j.push(new RemovedColor(se,le,ue)),w[se]=0,q--)}}te+=q>3*this._colors?this._initialDistance:this._distanceIncrement}if(q<this._colors){stableSort(j,(ae,se)=>se.distance-ae.distance);let ie=0;for(;q<this._colors&&ie<j.length;)w[j[ie].index]=1,q++,ie++}let ne=g.length;for(let ie=ne-1;ie>=0;ie--)w[ie]===0&&(ie!==ne-1&&(g[ie]=g[ne-1]),--ne);g.length=ne,m.sort(),yield{palette:m,progress:100}}};function createArray1D(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D(d,m,g,w){const D=new Array(d);for(let j=0;j<d;j++){D[j]=new Array(m);for(let q=0;q<m;q++){D[j][q]=new Array(g);for(let te=0;te<g;te++){D[j][q][te]=new Array(w);for(let re=0;re<w;re++)D[j][q][te][re]=0}}}return D}function createArray3D(d,m,g){const w=new Array(d);for(let D=0;D<d;D++){w[D]=new Array(m);for(let j=0;j<m;j++){w[D][j]=new Array(g);for(let q=0;q<g;q++)w[D][j][q]=0}}return w}function fillArray3D(d,m,g,w,D){for(let j=0;j<m;j++){d[j]=[];for(let q=0;q<g;q++){d[j][q]=[];for(let te=0;te<w;te++)d[j][q][te]=D}}}function fillArray1D(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube=class{constructor(){__publicField(this,"redMinimum"),__publicField(this,"redMaximum"),__publicField(this,"greenMinimum"),__publicField(this,"greenMaximum"),__publicField(this,"blueMinimum"),__publicField(this,"blueMaximum"),__publicField(this,"volume"),__publicField(this,"alphaMinimum"),__publicField(this,"alphaMaximum")}},_WuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=5){super(),__publicField(this,"_reds"),__publicField(this,"_greens"),__publicField(this,"_blues"),__publicField(this,"_alphas"),__publicField(this,"_sums"),__publicField(this,"_weights"),__publicField(this,"_momentsRed"),__publicField(this,"_momentsGreen"),__publicField(this,"_momentsBlue"),__publicField(this,"_momentsAlpha"),__publicField(this,"_moments"),__publicField(this,"_table"),__publicField(this,"_pixels"),__publicField(this,"_cubes"),__publicField(this,"_colors"),__publicField(this,"_significantBitsPerChannel"),__publicField(this,"_maxSideIndex"),__publicField(this,"_alphaMaxSideIndex"),__publicField(this,"_sideSize"),__publicField(this,"_alphaSideSize"),__publicField(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,D=this._greens[m]/g,j=this._blues[m]/g,q=this._alphas[m]/g,te=Point.createByRGBA(0|w,0|D,0|j,0|q);d.add(te)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D(this._colors);for(let q=1;q<this._colors;++q){this._cut(this._cubes[d],this._cubes[q])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[q]=this._cubes[q].volume>1?this._calculateVariance(this._cubes[q]):0):(m[d]=0,q--),d=0;let te=m[0];for(let re=1;re<=q;++re)m[re]>te&&(te=m[re],d=re);if(te<=0){this._colors=q+1;break}}const g=[],w=[],D=[],j=[];for(let q=0;q<this._colors;++q){const te=_WuQuant._volume(this._cubes[q],this._weights);te>0?(g[q]=_WuQuant._volume(this._cubes[q],this._momentsRed)/te|0,w[q]=_WuQuant._volume(this._cubes[q],this._momentsGreen)/te|0,D[q]=_WuQuant._volume(this._cubes[q],this._momentsBlue)/te|0,j[q]=_WuQuant._volume(this._cubes[q],this._momentsAlpha)/te|0):(g[q]=0,w[q]=0,D[q]=0,j[q]=0)}this._reds=createArray1D(this._colors+1),this._greens=createArray1D(this._colors+1),this._blues=createArray1D(this._colors+1),this._alphas=createArray1D(this._colors+1),this._sums=createArray1D(this._colors+1);for(let q=0,te=this._pixels.length;q<te;q++){const re=this._pixels[q];let ne=-1,ie=Number.MAX_VALUE;for(let ae=0;ae<this._colors;ae++){const se=g[ae],le=w[ae],ue=D[ae],ce=j[ae],de=this._distance.calculateRaw(se,le,ue,ce,re.r,re.g,re.b,re.a);de<ie&&(ie=de,ne=ae)}this._reds[ne]+=re.r,this._greens[ne]+=re.g,this._blues[ne]+=re.b,this._alphas[ne]+=re.a,this._sums[ne]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),D=1+(d.b>>m),j=1+(d.a>>m);this._weights[j][g][w][D]++,this._momentsRed[j][g][w][D]+=d.r,this._momentsGreen[j][g][w][D]+=d.g,this._momentsBlue[j][g][w][D]+=d.b,this._momentsAlpha[j][g][w][D]+=d.a,this._moments[j][g][w][D]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],D=[],j=[],q=createArray3D(this._sideSize,this._sideSize,this._sideSize),te=createArray3D(this._sideSize,this._sideSize,this._sideSize),re=createArray3D(this._sideSize,this._sideSize,this._sideSize),ne=createArray3D(this._sideSize,this._sideSize,this._sideSize),ie=createArray3D(this._sideSize,this._sideSize,this._sideSize),ae=createArray3D(this._sideSize,this._sideSize,this._sideSize);let se=0;const le=new ProgressTracker(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let ue=1;ue<=this._alphaMaxSideIndex;++ue){fillArray3D(q,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(te,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(re,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ne,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ie,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ae,this._sideSize,this._sideSize,this._sideSize,0);for(let ce=1;ce<=this._maxSideIndex;++ce,++se){le.shouldNotify(se)&&(yield{progress:le.progress}),fillArray1D(d,this._sideSize,0),fillArray1D(m,this._sideSize,0),fillArray1D(g,this._sideSize,0),fillArray1D(w,this._sideSize,0),fillArray1D(D,this._sideSize,0),fillArray1D(j,this._sideSize,0);for(let de=1;de<=this._maxSideIndex;++de){let he=0,pe=0,me=0,ge=0,be=0,ke=0;for(let ye=1;ye<=this._maxSideIndex;++ye)he+=this._weights[ue][ce][de][ye],pe+=this._momentsRed[ue][ce][de][ye],me+=this._momentsGreen[ue][ce][de][ye],ge+=this._momentsBlue[ue][ce][de][ye],be+=this._momentsAlpha[ue][ce][de][ye],ke+=this._moments[ue][ce][de][ye],d[ye]+=he,m[ye]+=pe,g[ye]+=me,w[ye]+=ge,D[ye]+=be,j[ye]+=ke,q[ce][de][ye]=q[ce-1][de][ye]+d[ye],te[ce][de][ye]=te[ce-1][de][ye]+m[ye],re[ce][de][ye]=re[ce-1][de][ye]+g[ye],ne[ce][de][ye]=ne[ce-1][de][ye]+w[ye],ie[ce][de][ye]=ie[ce-1][de][ye]+D[ye],ae[ce][de][ye]=ae[ce-1][de][ye]+j[ye],this._weights[ue][ce][de][ye]=this._weights[ue-1][ce][de][ye]+q[ce][de][ye],this._momentsRed[ue][ce][de][ye]=this._momentsRed[ue-1][ce][de][ye]+te[ce][de][ye],this._momentsGreen[ue][ce][de][ye]=this._momentsGreen[ue-1][ce][de][ye]+re[ce][de][ye],this._momentsBlue[ue][ce][de][ye]=this._momentsBlue[ue-1][ce][de][ye]+ne[ce][de][ye],this._momentsAlpha[ue][ce][de][ye]=this._momentsAlpha[ue-1][ce][de][ye]+ie[ce][de][ye],this._moments[ue][ce][de][ye]=this._moments[ue-1][ce][de][ye]+ae[ce][de][ye]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant._volumeFloat(d,m)}static _top(d,m,g,w){let D;switch(m){case _WuQuant._alpha:D=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._red:D=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._green:D=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant._blue:D=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|D}static _bottom(d,m,g){switch(m){case _WuQuant._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant._volume(d,this._momentsRed),g=_WuQuant._volume(d,this._momentsGreen),w=_WuQuant._volume(d,this._momentsBlue),D=_WuQuant._volume(d,this._momentsAlpha);return _WuQuant._volumeFloat(d,this._moments)-(m*m+g*g+w*w+D*D)/_WuQuant._volume(d,this._weights)}_maximize(d,m,g,w,D,j,q,te,re){const ne=0|_WuQuant._bottom(d,m,this._momentsRed),ie=0|_WuQuant._bottom(d,m,this._momentsGreen),ae=0|_WuQuant._bottom(d,m,this._momentsBlue),se=0|_WuQuant._bottom(d,m,this._momentsAlpha),le=0|_WuQuant._bottom(d,m,this._weights);let ue=0,ce=-1;for(let de=g;de<w;++de){let he=ne+_WuQuant._top(d,m,de,this._momentsRed),pe=ie+_WuQuant._top(d,m,de,this._momentsGreen),me=ae+_WuQuant._top(d,m,de,this._momentsBlue),ge=se+_WuQuant._top(d,m,de,this._momentsAlpha),be=le+_WuQuant._top(d,m,de,this._weights);if(be!==0){let ke=he*he+pe*pe+me*me+ge*ge,ye=ke/be;he=D-he,pe=j-pe,me=q-me,ge=te-ge,be=re-be,be!==0&&(ke=he*he+pe*pe+me*me+ge*ge,ye+=ke/be,ye>ue&&(ue=ye,ce=de))}}return{max:ue,position:ce}}_cut(d,m){let g;const w=_WuQuant._volume(d,this._momentsRed),D=_WuQuant._volume(d,this._momentsGreen),j=_WuQuant._volume(d,this._momentsBlue),q=_WuQuant._volume(d,this._momentsAlpha),te=_WuQuant._volume(d,this._weights),re=this._maximize(d,_WuQuant._red,d.redMinimum+1,d.redMaximum,w,D,j,q,te),ne=this._maximize(d,_WuQuant._green,d.greenMinimum+1,d.greenMaximum,w,D,j,q,te),ie=this._maximize(d,_WuQuant._blue,d.blueMinimum+1,d.blueMaximum,w,D,j,q,te),ae=this._maximize(d,_WuQuant._alpha,d.alphaMinimum+1,d.alphaMaximum,w,D,j,q,te);if(ae.max>=re.max&&ae.max>=ne.max&&ae.max>=ie.max){if(g=_WuQuant._alpha,ae.position<0)return!1}else g=re.max>=ae.max&&re.max>=ne.max&&re.max>=ie.max?_WuQuant._red:ne.max>=ae.max&&ne.max>=re.max&&ne.max>=ie.max?_WuQuant._green:_WuQuant._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant._red:m.redMinimum=d.redMaximum=re.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._green:m.greenMinimum=d.greenMaximum=ne.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._blue:m.blueMinimum=d.blueMaximum=ie.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._alpha:m.alphaMinimum=d.alphaMaximum=ae.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant=_WuQuant;__publicField(WuQuant,"_alpha",3),__publicField(WuQuant,"_red",2),__publicField(WuQuant,"_green",1),__publicField(WuQuant,"_blue",0);var image_exports={};__export(image_exports,{AbstractImageQuantizer:()=>AbstractImageQuantizer,ErrorDiffusionArray:()=>ErrorDiffusionArray,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma,NearestColor:()=>NearestColor});var AbstractImageQuantizer=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor=class extends AbstractImageQuantizer{constructor(d){super(),__publicField(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),j=new ProgressTracker(D,99);for(let q=0;q<D;q++){j.shouldNotify(q)&&(yield{progress:j.progress});for(let te=0,re=q*w;te<w;te++,re++){const ne=g[re];ne.from(m.getNearestColor(this._distance,ne))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel||{}),ErrorDiffusionArray=class extends AbstractImageQuantizer{constructor(d,m,g=!0,w=0,D=!1){super(),__publicField(this,"_minColorDistance"),__publicField(this,"_serpentine"),__publicField(this,"_kernel"),__publicField(this,"_calculateErrorLikeGIMP"),__publicField(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=D}*quantize(d,m){const g=d.getPointArray(),w=new Point,D=d.getWidth(),j=d.getHeight(),q=[];let te=1,re=1;for(const ie of this._kernel){const ae=ie[2]+1;re<ae&&(re=ae)}for(let ie=0;ie<re;ie++)this._fillErrorLine(q[ie]=[],D);const ne=new ProgressTracker(j,99);for(let ie=0;ie<j;ie++){ne.shouldNotify(ie)&&(yield{progress:ne.progress}),this._serpentine&&(te*=-1);const ae=ie*D,se=te===1?0:D-1,le=te===1?D:-1;this._fillErrorLine(q[0],D),q.push(q.shift());const ue=q[0];for(let ce=se,de=ae+se;ce!==le;ce+=te,de+=te){const he=g[de],pe=ue[ce];w.from(he);const me=Point.createByRGBA(inRange0to255Rounded(he.r+pe[0]),inRange0to255Rounded(he.g+pe[1]),inRange0to255Rounded(he.b+pe[2]),inRange0to255Rounded(he.a+pe[3])),ge=m.getNearestColor(this._distance,me);if(he.from(ge),this._minColorDistance&&this._distance.calculateNormalized(w,ge)<this._minColorDistance)continue;let be,ke,ye,Se;this._calculateErrorLikeGIMP?(be=me.r-ge.r,ke=me.g-ge.g,ye=me.b-ge.b,Se=me.a-ge.a):(be=w.r-ge.r,ke=w.g-ge.g,ye=w.b-ge.b,Se=w.a-ge.a);const we=te===1?0:this._kernel.length-1,Te=te===1?this._kernel.length:-1;for(let _e=we;_e!==Te;_e+=te){const Ie=this._kernel[_e][1]*te,Le=this._kernel[_e][2];if(Ie+ce>=0&&Ie+ce<D&&Le+ie>=0&&Le+ie<j){const Be=this._kernel[_e][0],Me=q[Le][Ie+ce];Me[0]+=be*Be,Me[1]+=ke*Be,Me[2]+=ye*Be,Me[3]+=Se*Be}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const D=d[w];D[0]=D[1]=D[2]=D[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve(d,m,g){const w=Math.max(d,m),D={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker(d*m,99),index:0,x:0,y:0};yield*walkHilbert(D,1),visit(D,0)}function*walkHilbert(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,2),visit(d,2),yield*walkHilbert(d,4);break;case 3:yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,3),visit(d,3),yield*walkHilbert(d,1);break;case 1:yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,1),visit(d,1),yield*walkHilbert(d,3);break;case 4:yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,4),visit(d,4),yield*walkHilbert(d,2)}d.level++}}function visit(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma=class extends AbstractImageQuantizer{constructor(d,m=16,g=1){super(),__publicField(this,"_distance"),__publicField(this,"_weights"),__publicField(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),j=[];let q=0;for(let te=0;te<this._errorQueueSize;te++)j[te]={r:0,g:0,b:0,a:0};yield*hilbertCurve(w,D,(te,re)=>{const ne=g[te+re*w];let{r:ie,g:ae,b:se,a:le}=ne;for(let he=0;he<this._errorQueueSize;he++){const pe=this._weights[he],me=j[(he+q)%this._errorQueueSize];ie+=me.r*pe,ae+=me.g*pe,se+=me.b*pe,le+=me.a*pe}const ue=Point.createByRGBA(inRange0to255Rounded(ie),inRange0to255Rounded(ae),inRange0to255Rounded(se),inRange0to255Rounded(le)),ce=m.getNearestColor(this._distance,ue);q=(q+1)%this._errorQueueSize;const de=(q+this._errorQueueSize-1)%this._errorQueueSize;j[de].r=ne.r-ce.r,j[de].g=ne.g-ce.g,j[de].b=ne.b-ce.b,j[de].a=ne.a-ce.a,ne.from(ce)}),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let D=0,j=1;D<m;D++)g[D]=(j+.5|0)/m*d,j*=w;return g}},quality_exports={};__export(quality_exports,{ssim:()=>ssim});var K1=.01,K2=.03;function ssim(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1)**2,w=(255*K2)**2;let D=0,j=0;return iterate(d,m,(q,te,re,ne)=>{let ie=0,ae=0,se=0;for(let ue=0;ue<q.length;ue++)ae+=(q[ue]-re)**2,se+=(te[ue]-ne)**2,ie+=(q[ue]-re)*(te[ue]-ne);const le=q.length-1;ae/=le,se/=le,ie/=le,j+=(2*re*ne+g)*(2*ie+w)/((re**2+ne**2+g)*(ae+se+w)),D++}),j/D}function iterate(d,m,g){const w=d.getWidth(),D=d.getHeight();for(let j=0;j<D;j+=8)for(let q=0;q<w;q+=8){const te=Math.min(8,w-q),re=Math.min(8,D-j),ne=calculateLumaValuesForWindow(d,q,j,te,re),ie=calculateLumaValuesForWindow(m,q,j,te,re);g(ne,ie,calculateAverageLuma(ne),calculateAverageLuma(ie))}}function calculateLumaValuesForWindow(d,m,g,w,D){const j=d.getPointArray(),q=[];let te=0;for(let re=g;re<g+D;re++){const ne=re*d.getWidth();for(let ie=m;ie<m+w;ie++){const ae=j[ne+ie];q[te]=.2126*ae.r+.7152*ae.g+.0722*ae.b,te++}}return q}function calculateAverageLuma(d){let m=0;for(const g of d)m+=g;return m/d.length}function buildPaletteSync(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const D=paletteQuantizationToPaletteQuantizer(colorDistanceFormulaToColorDistance(m),g,w);return d.forEach(j=>D.sample(j)),D.quantizeSync()}function applyPaletteSync(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer(colorDistanceFormulaToColorDistance(g),w).quantizeSync(d,m)}function colorDistanceFormulaToColorDistance(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts;case"cie94-textiles":return new CIE94Textiles;case"ciede2000":return new CIEDE2000;case"color-metric":return new CMetric;case"euclidean":return new Euclidean;case"euclidean-bt709":return new EuclideanBT709;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha;case"manhattan":return new Manhattan;case"manhattan-bt709":return new ManhattanBT709;case"manhattan-nommyde":return new ManhattanNommyde;case"pngquant":return new PNGQuant;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor(d);case"riemersma":return new ErrorDiffusionRiemersma(d);case"floyd-steinberg":return new ErrorDiffusionArray(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray(d,1);case"stucki":return new ErrorDiffusionArray(d,2);case"atkinson":return new ErrorDiffusionArray(d,3);case"jarvis":return new ErrorDiffusionArray(d,4);case"burkes":return new ErrorDiffusionArray(d,5);case"sierra":return new ErrorDiffusionArray(d,6);case"two-sierra":return new ErrorDiffusionArray(d,7);case"sierra-lite":return new ErrorDiffusionArray(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant(d,g);case"rgbquant":return new RGBQuant(d,g);case"wuquant":return new WuQuant(d,g);case"neuquant-float":return new NeuQuantFloat(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}/**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * common.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ditherErrorDiffusionArray.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * helper.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * nearestColor.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * palette.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ssim.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * MIT License
 *
 * Copyright 2015-2018 Igor Bezkrovnyi
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * riemersma.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */typeof setImmediate=="function"?setImmediate:typeof process<"u"&&(process==null||process.nextTick);const QuantizeOptionsSchema=z.object({colors:z.number().optional(),colorDistanceFormula:z.union([z.literal("cie94-textiles"),z.literal("cie94-graphic-arts"),z.literal("ciede2000"),z.literal("color-metric"),z.literal("euclidean"),z.literal("euclidean-bt709-noalpha"),z.literal("euclidean-bt709"),z.literal("manhattan"),z.literal("manhattan-bt709"),z.literal("manhattan-nommyde"),z.literal("pngquant")]).optional(),paletteQuantization:z.union([z.literal("neuquant"),z.literal("neuquant-float"),z.literal("rgbquant"),z.literal("wuquant")]).optional(),imageQuantization:z.union([z.literal("nearest"),z.literal("riemersma"),z.literal("floyd-steinberg"),z.literal("false-floyd-steinberg"),z.literal("stucki"),z.literal("atkinson"),z.literal("jarvis"),z.literal("burkes"),z.literal("sierra"),z.literal("two-sierra"),z.literal("sierra-lite")]).optional()}),methods={quantize(d,m){const{colors:g,colorDistanceFormula:w,paletteQuantization:D,imageQuantization:j}=QuantizeOptionsSchema.parse(m),q=utils_exports.PointContainer.fromUint8Array(d.bitmap.data,d.bitmap.width,d.bitmap.height),te=applyPaletteSync(q,buildPaletteSync([q],{colors:g,colorDistanceFormula:w,paletteQuantization:D}),{colorDistanceFormula:w,imageQuantization:j});return d.bitmap.data=Buffer.from(te.toUint8Array()),d}};var parseBmfontAscii=function(d){if(!d)throw new Error("no data provided");var m={pages:[],chars:[],kernings:[]},g=(d=d.toString().trim()).split(/\r\n?|\n/g);if(g.length===0)throw new Error("no data in BMFont file");for(var w=0;w<g.length;w++){var D=splitLine(g[w],w);if(D)if(D.key==="page"){if(typeof D.data.id!="number")throw new Error("malformed file at line "+w+" -- needs page id=N");if(typeof D.data.file!="string")throw new Error("malformed file at line "+w+' -- needs page file="path"');m.pages[D.data.id]=D.data.file}else D.key==="chars"||D.key==="kernings"||(D.key==="char"?m.chars.push(D.data):D.key==="kerning"?m.kernings.push(D.data):m[D.key]=D.data)}return m};function splitLine(d,m){if(!(d=d.replace(/\t+/g," ").trim()))return null;var g=d.indexOf(" ");if(g===-1)throw new Error("no named row at line "+m);var w=d.substring(0,g);d=(d=(d=(d=d.substring(g+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(re){return re.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var D=[],j=0;j<d.length;j++){var q=d[j];j===0?D.push({key:q[0],data:""}):j===d.length-1?D[D.length-1].data=parseData(q[0]):(D[D.length-1].data=parseData(q[0]),D.push({key:q[1],data:""}))}var te={key:w,data:{}};return D.forEach(function(re){te.data[re.key]=re.data}),te}function parseData(d){return d&&d.length!==0?d.indexOf('"')===0||d.indexOf("'")===0?d.substring(1,d.length-1):d.indexOf(",")!==-1?parseIntList$1(d):parseInt(d,10):""}function parseIntList$1(d){return d.split(",").map(function(m){return parseInt(m,10)})}getDefaultExportFromCjs(parseBmfontAscii);var GLYPH_DESIGNER_ERROR="chasrset",parseAttribs=function(d){for(var m in d=Object.assign({},d),GLYPH_DESIGNER_ERROR in d&&(d.charset=d[GLYPH_DESIGNER_ERROR],delete d[GLYPH_DESIGNER_ERROR]),d)m!=="face"&&m!=="charset"&&(d[m]=m==="padding"||m==="spacing"?parseIntList(d[m]):parseInt(d[m],10));return d};function parseIntList(d){return d.split(",").map(function(m){return parseInt(m,10)})}var xmlParseFromString=self.DOMParser!==void 0?function(d){return new self.DOMParser().parseFromString(d,"application/xml")}:self.ActiveXObject!==void 0&&new self.ActiveXObject("Microsoft.XMLDOM")?function(d){var m=new self.ActiveXObject("Microsoft.XMLDOM");return m.async="false",m.loadXML(d),m}:function(d){var m=document.createElement("div");return m.innerHTML=d,m},parseAttributes=parseAttribs,parseFromString=xmlParseFromString,NAME_MAP={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"},browser=function(d){d=d.toString();var m=parseFromString(d),g={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(ne){var ie=m.getElementsByTagName(ne)[0];ie&&(g[ne]=parseAttributes(getAttribs(ie)))});var w=m.getElementsByTagName("pages")[0];if(!w)throw new Error("malformed file -- no <pages> element");for(var D=w.getElementsByTagName("page"),j=0;j<D.length;j++){var q=D[j],te=parseInt(q.getAttribute("id"),10),re=q.getAttribute("file");if(isNaN(te))throw new Error('malformed file -- page "id" attribute is NaN');if(!re)throw new Error('malformed file -- needs page "file" attribute');g.pages[parseInt(te,10)]=re}return["chars","kernings"].forEach(function(ne){var ie=m.getElementsByTagName(ne)[0];if(ie)for(var ae=ne.substring(0,ne.length-1),se=ie.getElementsByTagName(ae),le=0;le<se.length;le++){var ue=se[le];g[ne].push(parseAttributes(getAttribs(ue)))}}),g};function getAttribs(d){return getAttribList(d).reduce(function(m,g){return m[mapName(g.nodeName)]=g.nodeValue,m},{})}function getAttribList(d){for(var m=[],g=0;g<d.attributes.length;g++)m.push(d.attributes[g]);return m}function mapName(d){return NAME_MAP[d.toLowerCase()]||d}getDefaultExportFromCjs(browser);var HEADER$1=[66,77,70],parseBmfontBinary=function(d){if(d.length<6)throw new Error("invalid buffer length for BMFont");var m=HEADER$1.every(function(j,q){return d.readUInt8(q)===j});if(!m)throw new Error("BMFont missing BMF byte header");var g=3;if(d.readUInt8(g++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var w={kernings:[],chars:[]},D=0;D<5;D++)g+=readBlock(w,d,g);return w};function readBlock(d,m,g){if(g>m.length-1)return 0;var w=m.readUInt8(g++),D=m.readInt32LE(g);switch(g+=4,w){case 1:d.info=readInfo(m,g);break;case 2:d.common=readCommon(m,g);break;case 3:d.pages=readPages(m,g,D);break;case 4:d.chars=readChars(m,g,D);break;case 5:d.kernings=readKernings(m,g,D)}return 5+D}function readInfo(d,m){var g={};g.size=d.readInt16LE(m);var w=d.readUInt8(m+2);return g.smooth=w>>7&1,g.unicode=w>>6&1,g.italic=w>>5&1,g.bold=w>>4&1,w>>3&1&&(g.fixedHeight=1),g.charset=d.readUInt8(m+3)||"",g.stretchH=d.readUInt16LE(m+4),g.aa=d.readUInt8(m+6),g.padding=[d.readInt8(m+7),d.readInt8(m+8),d.readInt8(m+9),d.readInt8(m+10)],g.spacing=[d.readInt8(m+11),d.readInt8(m+12)],g.outline=d.readUInt8(m+13),g.face=readStringNT(d,m+14),g}function readCommon(d,m){var g={};return g.lineHeight=d.readUInt16LE(m),g.base=d.readUInt16LE(m+2),g.scaleW=d.readUInt16LE(m+4),g.scaleH=d.readUInt16LE(m+6),g.pages=d.readUInt16LE(m+8),d.readUInt8(m+10),g.packed=0,g.alphaChnl=d.readUInt8(m+11),g.redChnl=d.readUInt8(m+12),g.greenChnl=d.readUInt8(m+13),g.blueChnl=d.readUInt8(m+14),g}function readPages(d,m,g){for(var w=[],D=readNameNT(d,m),j=D.length+1,q=g/j,te=0;te<q;te++)w[te]=d.slice(m,m+D.length).toString("utf8"),m+=j;return w}function readChars(d,m,g){for(var w=[],D=g/20,j=0;j<D;j++){var q={},te=20*j;q.id=d.readUInt32LE(m+0+te),q.x=d.readUInt16LE(m+4+te),q.y=d.readUInt16LE(m+6+te),q.width=d.readUInt16LE(m+8+te),q.height=d.readUInt16LE(m+10+te),q.xoffset=d.readInt16LE(m+12+te),q.yoffset=d.readInt16LE(m+14+te),q.xadvance=d.readInt16LE(m+16+te),q.page=d.readUInt8(m+18+te),q.chnl=d.readUInt8(m+19+te),w[j]=q}return w}function readKernings(d,m,g){for(var w=[],D=g/10,j=0;j<D;j++){var q={},te=10*j;q.first=d.readUInt32LE(m+0+te),q.second=d.readUInt32LE(m+4+te),q.amount=d.readInt16LE(m+8+te),w[j]=q}return w}function readNameNT(d,m){for(var g=m;g<d.length&&d[g]!==0;g++);return d.slice(m,g)}function readStringNT(d,m){return readNameNT(d,m).toString("utf8")}getDefaultExportFromCjs(parseBmfontBinary);function e(d){return d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}const t=d=>{if(!d)return null;const m={};switch(d.type){case"ELEMENT":{let g={};const w=E(d.value.attributes),D=t(d.value.children);if(w&&(g=Object.assign(g,w)),D){const j=r(d.value.children);g=Object.assign(g,j)}m[d.value.type]=g;break}case"ATTRIBUTE":{const g=d.value;m[g.name]=g.value;break}case"CONTENT":return{content:d.value}}return m},r=d=>d&&Array.isArray(d)&&d.length!==0?n(d)?{content:d[0].value}:{children:d.map(t)}:null,n=d=>d&&Array.isArray(d)&&d.length===1&&d[0].type==="CONTENT",E=d=>d&&Array.isArray(d)?d.map(t).reduce((m,g)=>Object.assign(m,g),{}):null;var s={convert:d=>t(d.value.children[0])},a={Token:(d,m)=>({type:d,value:m}),TOKEN_TYPE:{OPEN_BRACKET:"OPEN_BRACKET",ELEMENT_TYPE:"ELEMENT_TYPE",CLOSE_ELEMENT:"CLOSE_ELEMENT",ATTRIB_NAME:"ATTRIB_NAME",ATTRIB_VALUE:"ATTRIB_VALUE",ASSIGN:"ASSIGN",CLOSE_BRACKET:"CLOSE_BRACKET",CONTENT:"CONTENT",EOF:"EOF"}};const{Token:T,TOKEN_TYPE:u}=a,c=T("EOF"),l=d=>d===" "||d===`
`||d==="\r"||d==="	",o=d=>d.replace(/'/g,'"');var N={createLexer:function(d){let m=null,g=(ae=>{let se=0;for(;se<ae.length&&l(ae[se]);)se++;return((le,ue)=>{if(le.startsWith("<?xml",ue)){const ce=le.length;for(;ue<ce;)if(le[ue]!=="?")ue++;else{if(le[ue+1]===">")return ue+2;ue++}}return ue})(ae,se)})(d),w=[];const D=()=>d[g],j=()=>m!==c&&g<d.length,q=ae=>ae==='"'||ae==="'",te=()=>{for(;j()&&l(d[g]);)g++},re=ae=>{if(j()){if(d[g]==="<"){let se="<";return g++,j()&&d[g]==="/"?(g++,se="</"):j()&&d[g]==="!"&&d[g+1]==="-"&&d[g+2]==="-"&&(g++,g++,g++,se="<!--"),se}if(D()==="/"){let se="/";return g++,j()&&D()===">"&&(g++,se="/>"),se}if(d[g]==="="||d[g]===">"){const se=d[g];return g++,se}}return ne(!!ae)},ne=ae=>{const se=ae?/[^>=<]/u:/[a-zA-Z0-9_:-]/;let le=g;for(;j()&&d[g].match(se);)g++;return o(d.substring(le,g))},ie=()=>{const ae=g;te();const se=g-ae;if(j())if(m&&m.type===u.OPEN_BRACKET){te();const le=re(!1);m=T(u.ELEMENT_TYPE,le),w.push(le)}else if(m&&m.type===u.ASSIGN){j()&&q(D())&&g++;let le=g;for(;j()&&!q(D());)g++;const ue=o(d.substring(le,g));g++,m=T(u.ATTRIB_VALUE,ue)}else{te();let le=re(!0);switch(le){case"=":m=m.type===u.ATTRIB_NAME?T(u.ASSIGN):T(u.CONTENT,le);break;case"</":{const ue=g;for(;d[g]!==">";)g++;m=T(u.CLOSE_ELEMENT,d.substring(ue,g)),g++,w.pop();break}case"/>":{const ue=w.pop();m=T(u.CLOSE_ELEMENT,ue);break}case"<!--":{const ue=["!","-","-"];for(;j()&&(ue[2]!==">"||ue[1]!=="-"||ue[0]!=="-");)ue.shift(),ue.push(d[g]),g++;return ie()}case">":m=T(u.CLOSE_BRACKET);break;case"<":m=T(u.OPEN_BRACKET);break;default:if(le&&le.length>0){if(m.type===u.CLOSE_BRACKET){let ue="";D()!=="<"&&(ue=ne(!0)),m=T(u.CONTENT,le+ue)}else if(m.type!==u.ATTRIB_NAME&&m.type!==u.CONTENT)m.type===u.CLOSE_ELEMENT?(le=" ".repeat(se)+le,m=T(u.CONTENT,le)):m=T(u.ATTRIB_NAME,le);else{const ue=" ".repeat(se)+le;m=T(u.CONTENT,ue)}break}{const ue='Unknown Syntax : "'+d[g]+'"';throw new Error(ue)}}}else m=c;return m};return{peek:D,next:ie,hasNext:j}}};const{createLexer:i}=N,{Token:p,TOKEN_TYPE:O}=a,[A,f,C,h]=["ROOT","ELEMENT","ATTRIBUTE","CONTENT"],_=(d,m)=>({type:d,value:m}),L=d=>_(h,d),y=(d,m,g)=>_(f,{type:d,attributes:m,children:g}),v=(d,m)=>_(C,{name:d,value:m}),S=(d,m)=>{const g=[];for(;d.hasNext();){const w=d.next();switch(w.type){case O.OPEN_BRACKET:{const D=d.next(),[j,q]=R(d);let te=[];q.type!==O.CLOSE_ELEMENT&&(te=S(d,D)),te&&te.length>0&&te[0].type===O.CONTENT&&(te=b(te)),g.push(y(D.value,j,te));break}case O.CLOSE_ELEMENT:if(w.value===m.value)return g;break;case O.CONTENT:g.push(L(w.value));break;case O.EOF:return g;default:throw new Error(`Unknown Lexem type: ${w.type} "${w.value}, scoping element: ${m.value}"`)}}return g},R=d=>{const m=[];let g=d.peek();if(!d.hasNext()||g&&g.type===O.CLOSE_BRACKET||g&&g.type===O.CLOSE_ELEMENT)return[m,g];for(g=d.next();d.hasNext()&&g&&g.type!==O.CLOSE_BRACKET&&g.type!==O.CLOSE_ELEMENT;){const w=g;d.next();const D=d.next(),j=v(w.value,D.value);m.push(j),g=d.next()}return[m,g]};function b(d){let m=[],g="";return d.forEach(w=>{w.type===O.CONTENT?g+=w.value:(g.length&&(m.push(L(g)),g=""),m.push(w))}),g.length&&m.push(L(g)),m}var B={transpile:function(d,m){const g=(w=>_(A,{children:S(w,p(A,"ROOT"))}))(i(d));return m?m.convert(g):g},Node:_,ElementNode:y,AttribNode:v};const M=s,{transpile:x}=B;var k=e({convertXML:function(d,m){return x(d,m||M)},createAST:function(d){return x(d)}}),simpleXmlToJson_min=k;getDefaultExportFromCjs(simpleXmlToJson_min);createJimp({formats:[png]});Buffer.from([66,77,70,3]);var pixelmatch_1=pixelmatch;const defaultOptions={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function pixelmatch(d,m,g,w,D,j){if(!isPixelData(d)||!isPixelData(m)||g&&!isPixelData(g))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(d.length!==m.length||g&&g.length!==d.length)throw new Error("Image sizes do not match.");if(d.length!==w*D*4)throw new Error("Image data size does not match width/height.");j=Object.assign({},defaultOptions,j);const q=w*D,te=new Uint32Array(d.buffer,d.byteOffset,q),re=new Uint32Array(m.buffer,m.byteOffset,q);let ne=!0;for(let se=0;se<q;se++)if(te[se]!==re[se]){ne=!1;break}if(ne){if(g&&!j.diffMask)for(let se=0;se<q;se++)drawGrayPixel(d,4*se,j.alpha,g);return 0}const ie=35215*j.threshold*j.threshold;let ae=0;for(let se=0;se<D;se++)for(let le=0;le<w;le++){const ue=4*(se*w+le),ce=colorDelta(d,m,ue,ue);Math.abs(ce)>ie?j.includeAA||!antialiased(d,le,se,w,D,m)&&!antialiased(m,le,se,w,D,d)?(g&&drawPixel(g,ue,...ce<0&&j.diffColorAlt||j.diffColor),ae++):g&&!j.diffMask&&drawPixel(g,ue,...j.aaColor):g&&(j.diffMask||drawGrayPixel(d,ue,j.alpha,g))}return ae}function isPixelData(d){return ArrayBuffer.isView(d)&&d.constructor.BYTES_PER_ELEMENT===1}function antialiased(d,m,g,w,D,j){const q=Math.max(m-1,0),te=Math.max(g-1,0),re=Math.min(m+1,w-1),ne=Math.min(g+1,D-1),ie=4*(g*w+m);let ae,se,le,ue,ce=m===q||m===re||g===te||g===ne?1:0,de=0,he=0;for(let pe=q;pe<=re;pe++)for(let me=te;me<=ne;me++){if(pe===m&&me===g)continue;const ge=colorDelta(d,d,ie,4*(me*w+pe),!0);if(ge===0){if(ce++,ce>2)return!1}else ge<de?(de=ge,ae=pe,se=me):ge>he&&(he=ge,le=pe,ue=me)}return de!==0&&he!==0&&(hasManySiblings(d,ae,se,w,D)&&hasManySiblings(j,ae,se,w,D)||hasManySiblings(d,le,ue,w,D)&&hasManySiblings(j,le,ue,w,D))}function hasManySiblings(d,m,g,w,D){const j=Math.max(m-1,0),q=Math.max(g-1,0),te=Math.min(m+1,w-1),re=Math.min(g+1,D-1),ne=4*(g*w+m);let ie=m===j||m===te||g===q||g===re?1:0;for(let ae=j;ae<=te;ae++)for(let se=q;se<=re;se++){if(ae===m&&se===g)continue;const le=4*(se*w+ae);if(d[ne]===d[le]&&d[ne+1]===d[le+1]&&d[ne+2]===d[le+2]&&d[ne+3]===d[le+3]&&ie++,ie>2)return!0}return!1}function colorDelta(d,m,g,w,D){let j=d[g+0],q=d[g+1],te=d[g+2],re=d[g+3],ne=m[w+0],ie=m[w+1],ae=m[w+2],se=m[w+3];if(re===se&&j===ne&&q===ie&&te===ae)return 0;re<255&&(re/=255,j=blend(j,re),q=blend(q,re),te=blend(te,re)),se<255&&(se/=255,ne=blend(ne,se),ie=blend(ie,se),ae=blend(ae,se));const le=rgb2y(j,q,te),ue=rgb2y(ne,ie,ae),ce=le-ue;if(D)return ce;const de=rgb2i(j,q,te)-rgb2i(ne,ie,ae),he=rgb2q(j,q,te)-rgb2q(ne,ie,ae),pe=.5053*ce*ce+.299*de*de+.1957*he*he;return le>ue?-pe:pe}function rgb2y(d,m,g){return .29889531*d+.58662247*m+.11448223*g}function rgb2i(d,m,g){return .59597799*d-.2741761*m-.32180189*g}function rgb2q(d,m,g){return .21147017*d-.52261711*m+.31114694*g}function blend(d,m){return 255+(d-255)*m}function drawPixel(d,m,g,w,D){d[m+0]=g,d[m+1]=w,d[m+2]=D,d[m+3]=255}function drawGrayPixel(d,m,g,w){const D=blend(rgb2y(d[m+0],d[m+1],d[m+2]),g*d[m+3]/255);drawPixel(w,m,D,D,D)}getDefaultExportFromCjs(pixelmatch_1);const defaultPlugins=[methods$h,methods$g,methods$f,methods$e,methods$c,methods$a,methods$b,methods$9,methods$8,methods$7,methods$6,methods$5,methods$4,methods$3,methods$d,methods$2,methods$1,methods],defaultFormats=[bmp,msBmp,gif,jpeg$2,png,tiff];bmp().mime,gif().mime,jpeg$2().mime,png().mime,tiff().mime;const Jimp=createJimp({formats:defaultFormats,plugins:defaultPlugins}),handleUploadClick=d=>{var m;(m=d.current)==null||m.click()},handleFileChange=(d,m)=>{var w;const g=(w=d.target.files)==null?void 0:w[0];if(g){const D=new FileReader;D.onload=j=>{var q;m((q=j.target)==null?void 0:q.result)},D.readAsDataURL(g)}},processImage=async(d,m,g,w)=>{if(!d){w("No image uploaded.",!0);return}try{const j=await(await fetch(d)).arrayBuffer(),q=await Jimp.read(j),te={r:255,g:255,b:255,a:255},re={r:0,g:0,b:0,a:0},ne=(se,le)=>Math.sqrt((se.r-le.r)**2+(se.g-le.g)**2+(se.b-le.b)**2+(se.a-le.a)**2);q.scan(0,0,q.bitmap.width,q.bitmap.height,(se,le,ue)=>{const ce={r:q.bitmap.data[ue],g:q.bitmap.data[ue+1],b:q.bitmap.data[ue+2],a:q.bitmap.data[ue+3]};ne(te,ce)<=m&&(q.bitmap.data[ue]=re.r,q.bitmap.data[ue+1]=re.g,q.bitmap.data[ue+2]=re.b,q.bitmap.data[ue+3]=re.a)}),g(await q.getBase64("image/png")),await new Promise(se=>setTimeout(se,1e3));const ie=await q.getBuffer("image/png"),ae=new Blob([ie],{type:"image/png"});await navigator.clipboard.write([new ClipboardItem({[ae.type]:ae})])}catch(D){console.error("Error processing image:",D)}},handlePaste=(d,m)=>{var w;const g=(w=d.clipboardData)==null?void 0:w.items;if(g){for(const D of g)if(D.type.startsWith("image/")){const j=D.getAsFile();if(j){const q=new FileReader;q.onload=te=>{var re;m((re=te.target)==null?void 0:re.result)},q.readAsDataURL(j)}}}},App$2=()=>{const[d,m]=reactExports.useState(null),[g,w]=reactExports.useState(null),[D,j]=reactExports.useState(0),[q,te]=reactExports.useState(D),re=reactExports.useRef(null),ne=reactExports.useCallback((ie,ae)=>{ae?y$3.error(ie):y$3.success(ie)},[]);return reactExports.useEffect(()=>{const ie=ae=>handlePaste(ae,m);return window.addEventListener("paste",ie),()=>{window.removeEventListener("paste",ie)}},[]),reactExports.useEffect(()=>{d&&processImage(d,D,w,ne).then()},[d,D,ne]),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",padding:"20px",fontFamily:"Arial, sans-serif"},children:[jsxRuntimeExports.jsx(Meta,{project:"/remove_bg/"}),jsxRuntimeExports.jsx("a",{href:"/",className:"home-button","aria-label":"Retour  la liste des projets",children:jsxRuntimeExports.jsx(Icon,{icon:"mdi:home",width:"32",height:"32"})}),jsxRuntimeExports.jsx("h1",{children:"Remove (White) Pixels"}),jsxRuntimeExports.jsxs("div",{className:"controls",children:[jsxRuntimeExports.jsxs("div",{className:"slider-container",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"tolerance",children:["Tolerance: ",q]}),jsxRuntimeExports.jsx("input",{type:"range",id:"tolerance",min:"0",max:"255",value:q,onChange:ie=>te(Number(ie.target.value)),onMouseUp:()=>j(q),onTouchEnd:()=>j(q)})]}),jsxRuntimeExports.jsxs("button",{type:"button",className:"refresh-button","aria-label":"Clear",onClick:()=>{m(null),w(null),te(0)},children:[jsxRuntimeExports.jsx(Icon,{icon:"basil:refresh-outline",width:"24",height:"24",style:{fontSize:"1.5em"}}),jsxRuntimeExports.jsx("span",{children:"Clear"})]})]}),g?jsxRuntimeExports.jsx("img",{src:g,alt:"Processed"}):jsxRuntimeExports.jsx("input",{type:"text",className:"input-placeholder",onClick:()=>handleUploadClick(re),onDragOver:ie=>ie.preventDefault(),placeholder:"Click here or paste an image to get started"}),jsxRuntimeExports.jsx("input",{type:"file",ref:re,accept:"image/*",onChange:ie=>handleFileChange(ie,m)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Lt,{position:"top-center",hideProgressBar:!0,closeOnClick:!0,className:"toast-container"})]})},App$1=()=>{console.log("EndfieldsApp rendered");const[d,m]=reactExports.useState(0),[g,w]=reactExports.useState(0),[D,j]=reactExports.useState(0),[q,te]=reactExports.useState(0),[re,ne]=reactExports.useState(0),[ie,ae]=reactExports.useState(70),se=g*75,le=Math.min(5,Math.floor(re/ie)),ue=Math.floor(q/25),ce=D+le+ue,de=Math.floor((d+se)/500)+ce;return jsxRuntimeExports.jsxs("div",{className:"arknights-container",children:[jsxRuntimeExports.jsx(Meta,{project:"/arknights-endfields/"}),jsxRuntimeExports.jsx("a",{href:"/",className:"home-button","aria-label":"Back to the list of projects",children:jsxRuntimeExports.jsx(Icon,{icon:"mdi:home",width:"32",height:"32"})}),jsxRuntimeExports.jsx("h1",{children:"Arknights Endfields"}),jsxRuntimeExports.jsxs("div",{className:"inputs-grid",children:[jsxRuntimeExports.jsxs("label",{children:["Oroberyl",jsxRuntimeExports.jsx("input",{type:"number",value:d,onChange:he=>m(Number(he.target.value))})]}),jsxRuntimeExports.jsxs("label",{children:["Origeometry",jsxRuntimeExports.jsx("input",{type:"number",value:g,onChange:he=>w(Number(he.target.value))})]}),jsxRuntimeExports.jsxs("label",{children:["Tickets already owned",jsxRuntimeExports.jsx("input",{type:"number",value:D,onChange:he=>j(Number(he.target.value))})]}),jsxRuntimeExports.jsxs("label",{children:["Bond quota",jsxRuntimeExports.jsx("input",{type:"number",value:q,onChange:he=>te(Number(he.target.value))})]}),jsxRuntimeExports.jsxs("label",{children:["AIC quota",jsxRuntimeExports.jsx("input",{type:"number",value:re,onChange:he=>ne(Number(he.target.value))})]}),jsxRuntimeExports.jsxs("label",{children:["AIC price (per ticket)",jsxRuntimeExports.jsx("input",{type:"number",value:ie,onChange:he=>ae(Number(he.target.value))})]})]}),jsxRuntimeExports.jsxs("div",{className:"result-box",children:[jsxRuntimeExports.jsx("h2",{children:"Results"}),jsxRuntimeExports.jsxs("div",{className:"result-grid",children:[jsxRuntimeExports.jsxs("div",{className:"result-item",children:[jsxRuntimeExports.jsx("span",{className:"result-label",children:"Tickets owned"}),jsxRuntimeExports.jsx("span",{className:"result-value",children:ce})]}),jsxRuntimeExports.jsxs("div",{className:"result-item",children:[jsxRuntimeExports.jsx("span",{className:"result-label",children:"AIC tickets"}),jsxRuntimeExports.jsx("span",{className:"result-value",children:le})]}),jsxRuntimeExports.jsxs("div",{className:"result-item",children:[jsxRuntimeExports.jsx("span",{className:"result-label",children:"Bond tickets"}),jsxRuntimeExports.jsx("span",{className:"result-value",children:ue})]}),jsxRuntimeExports.jsxs("div",{className:"result-item",children:[jsxRuntimeExports.jsx("span",{className:"result-label",children:"Oroberyl + origeometry"}),jsxRuntimeExports.jsx("span",{className:"result-value",children:d+se})]}),jsxRuntimeExports.jsxs("div",{className:"result-item",children:[jsxRuntimeExports.jsx("span",{className:"result-label",children:"Pulls via resources"}),jsxRuntimeExports.jsx("span",{className:"result-value",children:Math.floor((d+se)/500)})]})]}),jsxRuntimeExports.jsxs("div",{className:"total-pulls",children:[jsxRuntimeExports.jsx("span",{children:"Total pulls"}),jsxRuntimeExports.jsx("span",{className:"total-value",children:de})]})]})]})},App=()=>jsxRuntimeExports.jsx(HelmetProvider,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(HomePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/remove_bg/*",element:jsxRuntimeExports.jsx(App$2,{})}),jsxRuntimeExports.jsx(Route,{path:"/arknights-endfields/*",element:jsxRuntimeExports.jsx(App$1,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx("div",{style:{padding:20},children:"Page introuvable."})})]})})}),container=document.getElementById("root"),root=clientExports.createRoot(container);root.render(jsxRuntimeExports.jsx(App,{}))});export default qd();
